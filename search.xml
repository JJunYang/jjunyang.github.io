<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>JS ä¸­çš„å£°æ˜æå‡</title>
    <url>/2021/11/03/JS%E4%B8%AD%E7%9A%84%E5%A3%B0%E6%98%8E%E6%8F%90%E5%8D%87/</url>
    <content><![CDATA[<p>é€šå¸¸æƒ…å†µä¸‹å˜é‡éƒ½éœ€è¦å…ˆå£°æ˜åä½¿ç”¨ï¼Œä½†æ˜¯åœ¨ js ä¸­å¦‚æœæˆ‘ä»¬å…ˆä½¿ç”¨å˜é‡å†ç”¨ var å£°æ˜å°†ä¸ä¼šæŠ›å¼‚å¸¸ï¼Œä½†æ˜¯ç”±äºæœªèµ‹å€¼ï¼Œè¯¥å˜é‡å°†ä¼šä»¥ undefined å­˜åœ¨ã€‚</p>
<p>Javascript ä¸­ï¼Œå‡½æ•°åŠå˜é‡çš„å£°æ˜éƒ½å°†æå‡åˆ°ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚</p>
<span id="more"></span>

<h1 id="å˜é‡æå‡"><a href="#å˜é‡æå‡" class="headerlink" title="å˜é‡æå‡"></a>å˜é‡æå‡</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x1 = <span class="number">1</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸš€ ~ x1&#x27;</span>, x1);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸ä¼šæŠ¥é”™ï¼Œè¾“å‡ºundefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸš€ ~ x2&#x27;</span>, x2);</span><br><span class="line"><span class="keyword">var</span> x2 = <span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<p>Javascript å…è®¸å…ˆä½¿ç”¨å˜é‡å†ç”¨ var å»å®šä¹‰ï¼Œåƒä¸Šè¿°ä»£ç å¯¹äº x2 å˜é‡ç›¸å½“äºï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x2;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸš€ ~ x2&#x27;</span>, x2);</span><br><span class="line">x2 = <span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹å‡º var å£°æ˜ä¼šæå‡ï¼Œä½†æ˜¯å˜é‡å®šä¹‰ä¸ä¼šæå‡ï¼Œä¸Šè¿°è¾“å‡ºçš„ x2 ä¸º undefinedã€‚</p>
<p>é™¤å» var å£°æ˜ï¼Œjavascript ä¸­è¿˜æœ‰ const å’Œ let å£°æ˜å˜é‡ï¼Œå’Œ var ä¸€æ ·çš„æ˜¯å£°æ˜æ“ä½œä¼šè¢«æå‡åˆ°ä»£ç å—é¡¶éƒ¨ï¼Œä½†æ˜¯åœ¨æœªå®šä¹‰ä¹‹å‰ä½¿ç”¨å˜é‡å°†ä¼šæŠ›å‡º ReferenceError é”™è¯¯ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> x1 = <span class="number">0</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸš€ ~ x1&#x27;</span>, x1);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸš€ ~ x2&#x27;</span>, x2); <span class="comment">// ReferenceError: Cannot access &#x27;x2&#x27; before initialization</span></span><br><span class="line"><span class="keyword">const</span> x2 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸš€ ~ x3&#x27;</span>, x3); <span class="comment">// ReferenceError: x3 is not defined</span></span><br></pre></td></tr></table></figure>

<h1 id="å‡½æ•°æå‡"><a href="#å‡½æ•°æå‡" class="headerlink" title="å‡½æ•°æå‡"></a>å‡½æ•°æå‡</h1><p>Javascript ä¸­çš„å‡½æ•° function å£°æ˜ä¹Ÿä¼šè¢«æå‡è‡³ä»£ç å—é¡¶éƒ¨ï¼Œä½†æ˜¯å‡½æ•°è¡¨è¾¾å¼ä¸ä¼šæå‡ï¼Œåœ¨å®šä¹‰å‡½æ•°è¡¨è¾¾å¼ä¹‹å‰ä¸èƒ½ä½¿ç”¨å‡½æ•°è¡¨è¾¾å¼ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">testFn1</span>(); <span class="comment">// testFn1</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">testFn1</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸš€ ~ testFn1&#x27;</span>, <span class="string">&#x27;testFn1&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">testFn2</span>(); <span class="comment">// ReferenceError: Cannot access &#x27;testFn2&#x27; before initialization</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">testFn2</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸš€ ~ testFn2&#x27;</span>, <span class="string">&#x27;testFn2&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">testFn3</span>(); <span class="comment">// TypeError: testFn3 is not a function</span></span><br><span class="line"><span class="keyword">var</span> <span class="title function_">testFn3</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸš€ ~ testFn2&#x27;</span>, <span class="string">&#x27;testFn2&#x27;</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h1 id="å‡ ä¸ª-ğŸŒ°"><a href="#å‡ ä¸ª-ğŸŒ°" class="headerlink" title="å‡ ä¸ª ğŸŒ°"></a>å‡ ä¸ª ğŸŒ°</h1><p>var å£°æ˜æ˜¯å…¨å±€ä½œç”¨åŸŸæˆ–å‡½æ•°ä½œç”¨åŸŸï¼Œè€Œ let å’Œ const æ˜¯å—ä½œç”¨åŸŸã€‚var å˜é‡å¯ä»¥åœ¨å…¶èŒƒå›´å†…æ›´æ–°å’Œé‡æ–°å£°æ˜ï¼Œä½†æ˜¯ let åªèƒ½è¢«æ›´æ–°ä¸èƒ½é‡æ–°å£°æ˜ï¼Œconst ä¸èƒ½æ›´æ–°ä¹Ÿä¸èƒ½é‡æ–°å£°æ˜ã€‚</p>
<p>ç»“åˆ varï¼Œlet å’Œ const çš„ç‰¹ç‚¹ï¼Œå…·ä½“å¯ä»¥ä½“ç°åœ¨ä¸‹é¢ä¸¤ä¸ªä»£ç å—ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å°†ä¸¤å—å‡½æ•°é¡ºåºäº’æ¢è¾“å‡ºä¸å˜</span></span><br><span class="line"><span class="keyword">var</span> test = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">test</span>(); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> test = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">test</span>(); <span class="comment">// SyntaxError: Identifier &#x27;test&#x27; has already been declared</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Javascript</category>
      </categories>
      <tags>
        <tag>Javascript</tag>
      </tags>
  </entry>
  <entry>
    <title>NPMåŒ…ä¾èµ–ç®¡ç†</title>
    <url>/2022/08/05/NPM%E5%8C%85%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86/</url>
    <content><![CDATA[<p>npm æ˜¯ Node.js çš„åŒ…ç®¡ç†å·¥å…·ï¼Œåœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šç”¨ npm install å‘½ä»¤å®‰è£…ä¾èµ–åŒ…ã€‚</p>
<p>npm å®˜æ–¹å¯¹åŒ…ä¹Ÿåšäº†å®šä¹‰ï¼Œ<a href="https://docs.npmjs.com/about-packages-and-modules">æˆ³æ­¤è¿›</a>ï¼š</p>
<span id="more"></span>

<ul>
<li>a. ä¸€ä¸ªå«æœ‰ package.json æ–‡ä»¶æè¿°çš„ç¨‹åºçš„æ–‡ä»¶å¤¹</li>
<li>b. ä¸€ä¸ªå«æœ‰(a)çš„ gzip å‹ç¼©æ–‡ä»¶</li>
<li>c. ä¸€ä¸ªæŒ‡å‘(b)url åœ°å€</li>
<li>d. æ ¼å¼ä¸º<code>&lt;name&gt;@&lt;version&gt;</code>çš„æŒ‡å‘å®˜æ–¹æºçš„å­—ç¬¦ä¸²ï¼Œç¬¦åˆå®šä¹‰(c)ï¼Œå¦‚æœ <a href="mailto:&#103;&#117;&#x6c;&#x70;&#64;&#52;&#x2e;&#48;&#46;&#x31;">&#103;&#117;&#x6c;&#x70;&#64;&#52;&#x2e;&#48;&#46;&#x31;</a></li>
<li>e. æ ¼å¼ä¸º<code>&lt;name&gt;@&lt;tag&gt;</code>çš„æŒ‡å‘ d çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœ gulp@latest</li>
<li>f. æ ¼å¼ä¸º<code>&lt;name&gt;</code>çš„ä»£è¡¨æœ€æ–°ç‰ˆæœ¬åŒ…çš„å­—ç¬¦ä¸²ï¼Œå¦‚ gulp</li>
<li>g. ä¸€ä¸ªç¬¦åˆæ¡ä»¶(a)çš„è¿œç¨‹ git url</li>
</ul>
<p>åœ¨é¡¹ç›®ä¸­å®‰è£…ä¾èµ–åŒ…æ—¶ï¼Œé»˜è®¤ä¼šå°†ä¾èµ–åŒ…çš„ä¿¡æ¯åŠ å…¥åˆ° package.json çš„ dependencies æ¨¡å—å»ã€‚å…¶å®é™¤äº†å¸¸è§çš„ dependencies ä»¥å¤–ï¼Œpackage.json æ–‡ä»¶è¿˜æœ‰å…¶ä»–å‡ é¡¹ä¾èµ–ç±»å‹ï¼Œç½—åˆ—å¦‚ä¸‹ï¼š</p>
<ul>
<li>dependencies ç”Ÿäº§ç¯å¢ƒä¾èµ–</li>
<li>devDependencies å¼€å‘ç¯å¢ƒä¾èµ–</li>
<li>optionalDependencies å¯é€‰ä¾èµ–</li>
<li>peerDependencies å‰ç½®ä¾èµ–</li>
<li>bundleDependencies éœ€è¦æ‰“åŒ…çš„ä¾èµ–</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ npm install çš„å‚æ•°æ¥æŒ‡å®šä¾èµ–åŒ…éœ€è¦æ·»åŠ åˆ°å“ªä¸ªä¾èµ–å—ï¼Œé€šç”¨å¯é€‰å‚æ•°: <code>[-P|--save-prod|-D|--save-dev|-O|--save-optional] [-E|--save-exact] [-B|--save-bundle] [--no-save] [--dry-run]</code></p>
<ul>
<li>-P ï½œ â€“save-prodï¼šæ·»åŠ è‡³ dependencies</li>
<li>-D ï½œ â€“save-devï¼šæ·»åŠ è‡³ devDependencies</li>
<li>-O | â€“save-optionalï¼šæ·»åŠ è‡³ optionalDependencies</li>
<li>-E | â€“save-exactï¼šå®‰è£…ç¡®åˆ‡çš„åŒ…ç‰ˆæœ¬ï¼Œè€Œä¸å¸¦é»˜è®¤çš„ç‰ˆæœ¬åŒ¹é…ç¬¦å·ï¼Œå¦‚^æˆ–è€…ï½</li>
<li>-B | â€“save-bundleï¼šæ·»åŠ è‡³ bundleDependencies å’Œ dependencies ä¸­</li>
<li>â€“no-saveï¼šä¸æ·»åŠ è‡³ dependencies ä¸­</li>
<li>â€“dry-runï¼šæŠ¥å‘Šå®‰è£…çš„çŠ¶æ€è€Œä¸æ˜¯çœŸæ­£æ‰§è¡Œå®‰è£…</li>
</ul>
<h1 id="ä¾èµ–ä»‹ç»"><a href="#ä¾èµ–ä»‹ç»" class="headerlink" title="ä¾èµ–ä»‹ç»"></a>ä¾èµ–ä»‹ç»</h1><h2 id="dependencies"><a href="#dependencies" class="headerlink" title="dependencies"></a>dependencies</h2><p>dependencies ä¸­åŒ…æ‹¬äº†æ‰€æœ‰é¡¹ç›®ä¸­ä½¿ç”¨åˆ°çš„åŒ…ï¼Œå…¶ä»–ç”¨æˆ·è¦ä½¿ç”¨æ­¤åŒ…å°±éœ€è¦å®‰è£… dependencies ä¸­æ‰€æœ‰çš„åŒ…ã€‚</p>
<h2 id="devDependencies"><a href="#devDependencies" class="headerlink" title="devDependencies"></a>devDependencies</h2><p>è¿˜æœ‰ä¸€ç±»æ’ä»¶æ˜¯åœ¨å¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯èƒ½ä¼šç”¨ jest æ¥æµ‹è¯•ï¼Œç”¨ eslint è¿›è¡Œä»£ç æ ·å¼è§„èŒƒï¼Œç”¨ mock.js æ¥ mock æ•°æ®ç­‰ç­‰ã€‚å…¶ä»–ç”¨æˆ·å¯ä»¥æ­£å¸¸ä½¿ç”¨æˆ‘ä»¬çš„åŒ…ä½†ä¸éœ€è¦å®‰è£…æ­¤ç±»ä¾èµ–åŒ…ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å°†è¿™ç±»åŒ…åˆ—å…¥ devDependencies ä¸­ã€‚</p>
<h2 id="peerDependencies"><a href="#peerDependencies" class="headerlink" title="peerDependencies"></a>peerDependencies</h2><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œnpm èƒ½å¤Ÿå¾ˆå¥½çš„ç®¡ç†æˆ‘ä»¬çš„ä¾èµ–åŒ…ã€‚å‡è®¾æˆ‘ä»¬çš„é¡¹ç›®ä¾èµ–<a href="mailto:&#x50;&#97;&#x63;&#107;&#97;&#103;&#x65;&#65;&#x40;&#50;&#x2e;&#49;&#46;&#48;">&#x50;&#97;&#x63;&#107;&#97;&#103;&#x65;&#65;&#x40;&#50;&#x2e;&#49;&#46;&#48;</a>ï¼Œä½†æ˜¯å¼•ç”¨äº†ä¾èµ–<a href="mailto:&#x50;&#97;&#99;&#x6b;&#x61;&#x67;&#101;&#65;&#64;&#49;&#x2e;&#57;&#x2e;&#x30;">&#x50;&#97;&#99;&#x6b;&#x61;&#x67;&#101;&#65;&#64;&#49;&#x2e;&#57;&#x2e;&#x30;</a>çš„åŒ… PackageBï¼Œnpm install ç”Ÿæˆçš„ä¾èµ–æ ‘å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â”œâ”€â”€ PackageA@2.1.0</span><br><span class="line">â””â”€â”¬ PackageB@1.0.0</span><br><span class="line">  â””â”€â”€ PackageA@1.9.0</span><br></pre></td></tr></table></figure>

<p>é€šå¸¸æƒ…å†µä¸‹è¿™ä¸ä¼šæœ‰é—®é¢˜ï¼ŒPackageB å†…ä¼šæœ‰ä»–å¯ä»¥ç”¨çš„ç‰ˆæœ¬ä¸º 1.9.0 çš„ PackageAï¼ŒåŒæ—¶å¹¶ä¸ä¼šå’Œé¡¹ç›®çš„<a href="mailto:&#80;&#x61;&#99;&#x6b;&#x61;&#103;&#101;&#65;&#x40;&#50;&#46;&#49;&#x2e;&#48;">&#80;&#x61;&#99;&#x6b;&#x61;&#103;&#101;&#65;&#x40;&#50;&#46;&#49;&#x2e;&#48;</a>çš„å†²çªã€‚</p>
<p>ç„¶è€Œåœ¨æ’ä»¶çš„ä½¿ç”¨æ—¶æˆ‘ä»¬æœ‰å¯èƒ½ä¼šé‡åˆ°ä»¥ä¸‹æƒ…å†µ,ï¼Œä¸¾ä¸ªä¾‹å­ï¼šé¡¹ç›®ä¸­éœ€è¦ä¾èµ–åŒ… gulp ç‰ˆæœ¬ä¸ºæœ€æ–°çš„@latest(4.0.2)ï¼Œè€Œ gulp æ’ä»¶ gulp-plugin-example ä¾èµ–çš„ gulp ç‰ˆæœ¬ä¸º@3.2.0ï¼Œæ­¤æ—¶æˆ‘ä»¬ä¼šå®‰è£…å¤šä¸ªåŒ… gulpã€‚package.json æ–‡ä»¶å¯èƒ½å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;dependencies&quot;:&#123;</span><br><span class="line">    &quot;gulp&quot;:&quot;4.0.2&quot;</span><br><span class="line">    &quot;gulp-plugin-example&quot;:&quot;0.1.1&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†è¿™æ—¶å€™å¦‚æœæ‰§è¡Œ npm install å¯èƒ½ä¼šå¯¼è‡´æˆ‘ä»¬ä¸æœŸæœ›çš„ä¾èµ–æ ‘</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â”œâ”€â”€ gulp@4.0.2</span><br><span class="line">â””â”€â”¬ gulp-plugin-example@0.1.1</span><br><span class="line">  â””â”€â”€ gulp@3.2.0</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶æ’ä»¶ä½¿ç”¨çš„å’Œå®¿ä¸»ç¯å¢ƒçš„ gulp ç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œç”±äº gulp-plugin-example åªæ˜¯æ’ä»¶ï¼Œæˆ‘ä»¬å¹¶ä¸æƒ³å› æ­¤å®‰è£…å¤šæ¬¡ gulpï¼Œä¸”å¸Œæœ›å®¿ä¸»ç¯å¢ƒå»å®‰è£…æ»¡è¶³æ’ä»¶ peerDependencies æ‰€æŒ‡å®šä¾èµ–çš„åŒ…ï¼Œç„¶ååœ¨æ’ä»¶ import æˆ–è€… require ä¾èµ–åŒ…æ—¶ï¼Œæ°¸è¿œå¼•ç”¨çš„æ˜¯å®¿ä¸»ç¯å¢ƒç»Ÿä¸€å®‰è£…çš„ npm åŒ…ï¼Œæœ€ç»ˆè§£å†³æ’ä»¶ä¸æ‰€ä¾èµ–åŒ…ä¸ä¸€è‡´çš„é—®é¢˜ã€‚</p>
<p>é€šå¸¸æˆ‘ä»¬ä¼šç”¨ peerDependencies å»è¡¨è¾¾ï¼šå¦‚æœä½ è¦ä½¿ç”¨æ­¤æ’ä»¶ï¼Œéœ€è¦ç¡®ä¿å®¿ä¸»ç¯å¢ƒçš„ä¾èµ–å…³ç³»ç‰ˆæœ¬ä¸º@xx.xxã€‚æ‹¥æœ‰ peerDependencies æ„å‘³ç€ä½ çš„åŒ…éœ€è¦çš„ä¾èµ–å…³ç³»å’Œå…¶ä»–å®‰è£…æ­¤åŒ…çš„ç”¨æˆ·çš„ç°æœ‰ä¾èµ–å…³ç³»æ˜¯éœ€è¦ä¿æŒä¸€è‡´çš„ã€‚æ‰€ä»¥åœ¨ç¼–å†™æ’ä»¶æ—¶ï¼Œéœ€è¦ç¡®å®šä¸»ä¾èµ–åŒ…çš„ç‰ˆæœ¬ï¼Œå¹¶æ·»åŠ è‡³æ’ä»¶ package.json ä¸­çš„ peerDependencies ä¸­ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line"> &quot;name&quot;: &quot;gulp-plugin-example&quot;,</span><br><span class="line"> &quot;peerDependencies&quot;: &#123;</span><br><span class="line">   &quot;gulp&quot;:&quot;^4.0.0&quot;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¿™æ—¶å€™æ‰§è¡Œ npm install gulp-plugin-exampleï¼Œgulp åŒ…ä¹Ÿä¼šéšä¹‹å®‰è£…ã€‚å¦‚æœä¹‹åå°è¯•å»å®‰è£…å¦ä¸€ä¸ª gulp æ’ä»¶ä¸”ä¾èµ–åªä¾èµ– gulp 3.x ç‰ˆæœ¬çš„è¯ï¼Œå°†ä¼šæŠ¥é”™ï¼Œè¿™ä¹ŸæˆåŠŸè§£å†³äº†æ’ä»¶å¼•ç”¨ä¸åŒä¾èµ–åŒ…ç‰ˆæœ¬çš„é—®é¢˜ï¼</p>
<p>æ›´æ–°ï¼šnpm ç‰ˆæœ¬ 1ï¼Œ2 å’Œ 7 ä¼šè‡ªåŠ¨å®‰è£… peerDependencies çš„ä¾èµ–åŒ…å¦‚æœå…¶æœªåœ¨ä¸Šå±‚ä¾èµ–æ ‘ä¸­æ˜ç¡®ã€‚npm ç‰ˆæœ¬ 3 è‡³ 6ï¼Œæˆ‘ä»¬åˆ™ä¼šæ”¶åˆ°å‘Šè­¦å‘ŠçŸ¥ peerDependencies è¿˜æœªå®‰è£…ã€‚</p>
<p>peerDependencies ä¾èµ–åŒ…çš„ç‰ˆæœ¬è¦æ±‚ä¸å¸¸è§„çš„ dependencies ä¸åŒï¼Œéœ€è¦æ›´åŠ å¹¿ã€‚ä½¿ç”¨è¿‡ç¨‹ä¸­ä¸åº”è¯¥æŠŠ peer dependencies çš„é”å®šåœ¨å›ºå®šçš„ç‰ˆæœ¬ã€‚å¦‚æœä¸¤ä¸ªæ’ä»¶ä¾èµ–çš„ç‰ˆæœ¬ä¸ä¸€æ ·ï¼Œè€Œä½¿ç”¨è€…åˆæ‡’å¾—èŠ±æ—¶é—´å»æ£€æŸ¥å®é™…ä¸Šç¬¦åˆæ¡ä»¶çš„å…±ç”¨æœ€ä½ç‰ˆæœ¬ï¼Œè¿™å°±ä¼šå¾ˆç³Ÿå¿ƒã€‚</p>
<p>æœ€ä½³æƒ…å†µæ˜¯æ ¹æ®<a href="https://semver.org/">semver</a>è§„åˆ™å†³å®š peerDependencies çš„ç‰ˆæœ¬è¦æ±‚ï¼Œåˆç†ä½¿ç”¨^ä»¥åŠï½å»åŒ¹é…ç‰ˆæœ¬ã€‚å¦‚æœä¾èµ– 1.5.4 ç‰ˆæœ¬çš„ç‰¹æ€§ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨èŒƒå›´å»åŒ¹é…ï¼Œå¦‚ï¼šâ€&gt;&#x3D; 1.5.4 &lt; 2â€</p>
<h2 id="optionalDependencies"><a href="#optionalDependencies" class="headerlink" title="optionalDependencies"></a>optionalDependencies</h2><p>å¦‚æœä¸€ä¸ªä¾èµ–å…³ç³»å¯ä»¥è¢«ä½¿ç”¨ï¼Œä½†æ˜¯åˆå¸Œæœ› npm åœ¨æ‰¾ä¸åˆ°ä»–æˆ–è€…å®‰è£…å¤±è´¥çš„æƒ…å†µä¸‹ç»§ç»­è¿›è¡Œï¼Œé‚£ä¹ˆå…¶å¯ä»¥è¢«æ”¾å…¥ optionalDependencies å†…ã€‚é€šå¸¸è¿™å¯¹é‚£äº›ä¸æ˜¯æ‰€æœ‰è¿è¡Œç¯å¢ƒæˆ–æœºå™¨éƒ½éœ€è¦çš„ä¾èµ–å…³ç³»å¾ˆæœ‰ç”¨ã€‚</p>
<p>tipsï¼šoptionalDependencies ä¼šè¦†ç›– dependencies ä¸­çš„åŒåä¾èµ–åŒ…ï¼Œæ‰€ä»¥ä¸è¦æŠŠåŒ…åŒæ—¶å†™è¿›è¿™ä¸¤ä¸ªå­—æ®µä¸­ã€‚</p>
<h2 id="bundleDependencies"><a href="#bundleDependencies" class="headerlink" title="bundleDependencies"></a>bundleDependencies</h2><p>bundleDependencies æ˜¯ä¸€ä¸ªå­˜æ”¾åœ¨ä¸»åŒ…å‘å¸ƒæ—¶ä¹Ÿéœ€è¦åŒæ—¶æ‰“åŒ…çš„åŒ…åçš„æ•°ç»„ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬çš„æœ‰å¦‚ä¸‹çš„åŒ…ï¼Œæ‰§è¡Œ npm pack</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;test&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class="line">  &quot;dependencies&quot;: &#123;</span><br><span class="line">    &quot;moment&quot;: &quot;^2.29.3&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;bundleDependencies&quot;: [</span><br><span class="line">    &quot;moment&quot;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆæˆ‘ä»¬å°†ä¼šå¾—åˆ°çš„ test-1.0.0.tgz æ–‡ä»¶ï¼Œæ‰§è¡Œ npm install test-1.0.0.tgz åä¹Ÿä¼šå¾—åˆ°å¦‚ä¸‹ç»“æ„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â”œâ”€ node_modules</span><br><span class="line">    â”œâ”€â”€ test</span><br><span class="line">    â”‚    â””â”€â”€ moment</span><br><span class="line">    â””â”€â”€ xxx</span><br></pre></td></tr></table></figure>

<h1 id="package-lock-json-æ–‡ä»¶"><a href="#package-lock-json-æ–‡ä»¶" class="headerlink" title="package-lock.json æ–‡ä»¶"></a>package-lock.json æ–‡ä»¶</h1><p>package-lock.json æ–‡ä»¶æ˜¯ npm ä¿®æ”¹äº† node_modules ä¾èµ–æ ‘æˆ–è€… package.json æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆçš„äº§ç‰©ã€‚å®ƒæè¿°äº†ç”Ÿæˆçš„å‡†ç¡®ä¾èµ–æ ‘ï¼Œä»¥ä¾¿åç»­å®‰è£…æˆ–è€…å…¶ä»–äººå®‰è£…éƒ½èƒ½ç”Ÿæˆç›¸åŒçš„æ ‘ã€‚</p>
<p>å‡æƒ³ç°æœ‰çš„ package.json æ–‡ä»¶çš„ä¾èµ–æ˜¯ â€œreactâ€ ï¼šâ€œ^18.0.0â€ï¼Œå› ä¸ºæœ‰æ ‡è¯†ç¬¦^ï¼Œæ‰€ä»¥å¦‚æœ react åœ¨ 18 å¤§ç‰ˆæœ¬ä¸‹æ›´æ–°è‡³ 18.0.1ï¼Œé‚£ä¹ˆ npm install çš„æ—¶å€™å°†ä¼šè‡ªåŠ¨å®‰è£…æœ€æ–°ç‰ˆæœ¬ 18.0.1ã€‚è¿™æ ·å¯èƒ½å°±ä¼šè®©ä½ æœ¬åœ°çš„ç‰ˆæœ¬å’Œå…¶ä»–äººä¸ä¸€è‡´ï¼Œä»è€Œå¼•èµ·ä¸€äº›å¯èƒ½å‘ç”Ÿçš„ç›¸å…³é—®é¢˜ã€‚</p>
<p>package-lock.json çš„å‡ºç°å°±å¾ˆå¥½çš„è§£å†³æ­¤é—®é¢˜ï¼Œä»–çš„ç›®çš„å°±æ˜¯é”å®šå…·ä½“ç‰ˆæœ¬å·ï¼Œä½¿æ¯ä¸€ä¸ªä½¿ç”¨è€…å®‰è£…çš„ç‰ˆæœ¬éƒ½ä¿æŒä¸€è‡´ã€‚</p>
<p>npm install æ—¶ï¼Œnode ä¼šä» package.json ä¸­è¯»å–åˆ°æ‰€æœ‰ dependencies çš„ä¿¡æ¯ä¸ç°æœ‰çš„ node_modules æ¨¡å—è¿›è¡Œå¯¹æ¯”ï¼Œå¦‚æœä¸å­˜åœ¨çš„è¯å°±å®‰è£…ï¼Œå¹¶å°†ä¾èµ–é¡¹ç¡®å®šçš„ç‰ˆæœ¬æ›´æ–°åˆ° package-lock.json æ–‡ä»¶ä¸­ï¼Œä¸ä¼šæ›´æ–°å…¶ä»–ä¾èµ–é¡¹ç‰ˆæœ¬ï¼›å¦‚æœå­˜åœ¨å°±æ£€æŸ¥æ›´æ–°ï¼Œä» package-lock æ–‡ä»¶ä¸­è·å–å¯¹åº”é”å®šçš„ç‰ˆæœ¬è¿›è¡Œæ›´æ–°ã€‚</p>
<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><ul>
<li><a href="https://nodejs.org/en/blog/npm/peer-dependencies/">nodejs-Peer Dependencies</a></li>
<li><a href="https://segmentfault.com/a/1190000009927946">è¯»æ‡‚ package.json â€“ ä¾èµ–ç®¡ç†</a></li>
</ul>
]]></content>
      <categories>
        <category>NPM</category>
      </categories>
      <tags>
        <tag>ä¾èµ–</tag>
        <tag>NPM</tag>
      </tags>
  </entry>
  <entry>
    <title>iframeå†…åµŒçˆ¶å­é¡µé¢è·¯ç”±åŒæ­¥</title>
    <url>/2022/09/16/iframe%E5%86%85%E5%B5%8C%E7%88%B6%E5%AD%90%E9%A1%B5%E9%9D%A2%E8%B7%AF%E7%94%B1%E5%90%8C%E6%AD%A5/</url>
    <content><![CDATA[<p><strong>èƒŒæ™¯ï¼š</strong>åœ¨å‰ç«¯çš„é¡¹ç›®ä¸­ï¼Œå¯èƒ½ä¼šé‡åˆ°éœ€è¦åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­å†…åµŒå¦ä¸€ä¸ªå®Œæ•´é¡¹ç›®ã€‚ä»Šå¤©æˆ‘ä»¬å°±æ¥è®¨è®ºè®¨è®ºåˆ©ç”¨ iframe å†…åµŒé¡¹ç›®çš„è·¯ç”±å¤„ç†ã€‚</p>
<p>é¦–å…ˆå†…åµŒé¡¹ç›®å’Œè¢«å†…åµŒé¡¹ç›®éƒ½æœ‰å„è‡ªçš„è·¯ç”±ï¼Œå¹¶å‡é…æœ‰è·¯ç”±è·³è½¬ã€‚å‡å®šæˆ‘ä»¬ç°æœ‰ä¸¤ä¸ª umi é¡¹ç›® A å’Œ B å¹¶ä¸”å‡å·²éƒ¨ç½²å‘å¸ƒï¼Œurl åˆ†åˆ«ä¸º<code>https://www.myProjectA.com</code>å’Œ<code>https://www.myProjectB.com</code>ï¼Œéœ€è¦å°†é¡¹ç›® A å†…åµŒè‡³é¡¹ç›® B çš„<code>https://www.myProjectB.com/iframe</code>é¡µé¢ä¸­ã€‚</p>
<span id="more"></span>

<p>åœ¨é¡¹ç›® B çš„ config æ–‡ä»¶å¤¹ä¸­çš„ config.ts æ–‡ä»¶ä¸­æ·»åŠ è·¯ç”±</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">export default <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="comment">/** ---å…¶ä»–é…ç½®--- */</span></span><br><span class="line">  ...otherConfig</span><br><span class="line">  routes<span class="punctuation">:</span><span class="punctuation">[</span></span><br><span class="line">    <span class="comment">/** ---å…¶ä»–è·¯ç”±åœ°å€--- */</span></span><br><span class="line">    ...otherRoutes</span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      path<span class="punctuation">:</span> &#x27;/iframe&#x27;<span class="punctuation">,</span></span><br><span class="line">      component<span class="punctuation">:</span> &#x27;src/pages/iframe&#x27;<span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ src&#x2F;pages&#x2F;iframe&#x2F;index.tsx æ–‡ä»¶ä¸­åŠ å…¥ iframe:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import React from &#x27;react&#x27;;</span><br><span class="line"></span><br><span class="line">const Iframe: React.FC = React.memo(() =&gt; &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;iframe</span><br><span class="line">      src=&quot;https://www.myProjectA.com&quot;</span><br><span class="line">      name=&quot;iframe&quot;</span><br><span class="line">      allowFullScreen</span><br><span class="line">      id=&quot;iframe&quot;</span><br><span class="line">      style=&#123;&#123; width: &#x27;100%&#x27;, height: &#x27;100%&#x27; &#125;&#125;</span><br><span class="line">    &gt;&lt;/iframe&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">export default Iframe;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶åªè¦ projectA çš„åœ°å€èƒ½å¤Ÿè¢« projectB å†…åµŒï¼Œé‚£ä¹ˆå†…åµŒå°±æˆåŠŸå•¦ï½ä¸å¦¨è¯•è¯•ç›´æ¥å†…åµŒæ˜é‡‘å®˜ç½‘<code>https://juejin.cn</code>å§ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨é¡¹ç›® B ä¸­è®¿é—®æ“ä½œå†…åµŒçš„é¡¹ç›® Aï¼Œå’Œç›´æ¥è®¿é—®é¡¹ç›® A å‡ ä¹æ²¡æœ‰åŒºåˆ«ï¼Œä½†æ˜¯ç»†å¿ƒçš„äººå°±ä¼šå‘ç°ï¼Œä¸ç®¡é¡¹ç›® A åœ°å€æ€ä¹ˆå˜ï¼Œé¡¹ç›® B å§‹ç»ˆåªæ˜¯ iframe å†…åµŒé¡µçš„è·¯ç”±ï¼Œå³<code>https://www.myProjectB.com/iframe</code>ã€‚è¿™æ ·å°±ä¼šå¸¦æ¥ä¸€ä¸ªé—®é¢˜ï¼šæˆ‘ä»¬æ— æ³•ç›´æ¥åœ¨é¡¹ç›® B ä¸­é€šè¿‡è·¯ç”±è®¿é—®é¡¹ç›® A çš„æŸä¸€ä¸ªé¡µé¢ï¼Œè¿™ä¹Ÿæ˜¯æœ¬æ–‡æ¢è®¨çš„æ ¸å¿ƒé—®é¢˜ã€‚</p>
<h1 id="å­è·¯ç”±å˜åŒ–é€šçŸ¥çˆ¶é¡µé¢"><a href="#å­è·¯ç”±å˜åŒ–é€šçŸ¥çˆ¶é¡µé¢" class="headerlink" title="å­è·¯ç”±å˜åŒ–é€šçŸ¥çˆ¶é¡µé¢"></a>å­è·¯ç”±å˜åŒ–é€šçŸ¥çˆ¶é¡µé¢</h1><p>é¦–å…ˆæˆ‘ä»¬çŸ¥é“é¡¹ç›® B ä¸­çš„é¡¹ç›® A è¦æƒ³è·³è½¬æ˜¯å…¶è·¯ç”±å‘ç”Ÿçš„æ”¹å˜ï¼Œè¦æƒ³é¡¹ç›® B ä¹Ÿæ„ŸçŸ¥å¹¶ä½“ç°ï¼Œé‚£ä¹ˆç¬¬ä¸€æ­¥å°±æ˜¯è¦å°†å­è·¯ç”±çš„æ”¹å˜é€šçŸ¥çˆ¶é¡µé¢å¹¶è¿›è¡Œè·¯ç”±æ”¹å˜ã€‚iframe çš„é¡µé¢é—´é€šä¿¡é€šè¿‡ postMessage æ–¹æ³•å¯ä»¥å®ç°ã€‚</p>
<p>æ€è·¯ï¼šåŠ«æŒå­é¡µé¢è·¯ç”±å˜åŒ–ï¼Œé€šè¿‡ postMessage é€šçŸ¥çˆ¶é¡µé¢ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const &#123; replaceState &#125; = window.history;</span><br><span class="line">// åŠ«æŒè·¯ç”±</span><br><span class="line">function hijackHistoryRoute() &#123;</span><br><span class="line">  Object.assign(window.history, &#123;</span><br><span class="line">    pushState(data: any, unused: string, url?: string | URL) &#123;</span><br><span class="line">      // ä½¿ç”¨ replaceState</span><br><span class="line">      replaceState.call(this, data || &#123; key: Date.now() &#125;, unused, url);</span><br><span class="line">      top?.postMessage(&#123; type: &#x27;routePush&#x27;, payLoad: url &#125;, &#x27;*&#x27;);</span><br><span class="line">    &#125;,</span><br><span class="line">    replaceState(data: any, unused: string, url?: string | URL) &#123;</span><br><span class="line">      replaceState.call(this, data || &#123; key: Date.now() &#125;, unused, url);</span><br><span class="line">      top?.postMessage(&#123; type: &#x27;routeReplace&#x27;, payLoad: url &#125;, &#x27;*&#x27;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">useEffect(() =&gt; &#123;</span><br><span class="line">  // å¦‚æœæ˜¯iframeå†…åµŒé¡µï¼Œä¸ºå®ç°è·¯ç”±è·³è½¬ï¼Œæ·»åŠ è·¯ç”±åŠ«æŒ</span><br><span class="line">  if (window.name === &#x27;iframe&#x27;) &#123;</span><br><span class="line">    hijackHistoryRoute();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, []);</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°å®ç°äº†å­é¡¹ç›®å…±ç”¨ä¸€ä¸ªè·¯ç”±ï¼ŒåŒæ—¶å¢åŠ äº†è·¯ç”±åŠ«æŒå¹¶é€šçŸ¥çˆ¶é¡µé¢ï¼Œç¬”è€…å°†è¿™éƒ¨åˆ†åŠŸèƒ½åŠ åœ¨äº†å…¨å±€çš„ä¸€ä¸ª context ä¸­ï¼Œå…·ä½“å¼•å…¥å› é¡¹ç›®è€Œä¸åŒã€‚æ­¤æ—¶åœ¨çˆ¶é¡µé¢æ“ä½œå›é€€å‘ç°ï¼ŒåŸæœ¬å¯ä»¥æ­£å¸¸å›é€€ç°åœ¨å›é€€å°†ä¼šé€€å‡º iframe é¡µé¢ï¼Œè¿™æ˜¯å› ä¸ºå­é¡¹ç›®ä¸­åªæœ‰ä¸€ä¸ªè·¯ç”±ï¼Œæ‰€ä»¥ç›¸å½“äºçˆ¶é¡µé¢å½“å‰é¡µä¹Ÿåªæœ‰ä¸€ä¸ªè·¯ç”±ã€‚</p>
<h1 id="çˆ¶é¡µé¢ç›‘å¬å­é¡µé¢è·¯ç”±å˜åŒ–æ”¹å˜è·¯ç”±"><a href="#çˆ¶é¡µé¢ç›‘å¬å­é¡µé¢è·¯ç”±å˜åŒ–æ”¹å˜è·¯ç”±" class="headerlink" title="çˆ¶é¡µé¢ç›‘å¬å­é¡µé¢è·¯ç”±å˜åŒ–æ”¹å˜è·¯ç”±"></a>çˆ¶é¡µé¢ç›‘å¬å­é¡µé¢è·¯ç”±å˜åŒ–æ”¹å˜è·¯ç”±</h1><p>åœ¨ç¬¬ä¸€æ­¥ä¸­å·²ç»å®ç°äº†å­é¡µé¢è·¯ç”±æ”¹å˜é€šçŸ¥çˆ¶é¡µé¢ï¼Œç°åœ¨éœ€è¦åœ¨çˆ¶é¡µé¢å°†è·¯ç”±çš„å˜åŒ–ä½“ç°å‡ºæ¥ã€‚</p>
<p>æ€è·¯ï¼šå°†å­é¡µé¢çš„è·¯ç”±åœ°å€ä½œä¸ºçˆ¶é¡µé¢è·¯ç”±çš„ä¸€ä¸ªå‚æ•°ï¼ŒåŠçˆ¶é¡µé¢çš„è·¯ç”±æ”¹é€ ä¸º<code>https://www.myProjectB.com/iframeï¼Ÿurl=&#123;å­è·¯ç”±&#125;</code>ã€‚</p>
<p>çˆ¶é¡µé¢å¢åŠ ç›‘å¬å¹¶å¤„ç†è·¯ç”±ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">export enum PostMessageType &#123;</span><br><span class="line">  ROUTE_PUSH = &#x27;routePush&#x27;,</span><br><span class="line">  ROUTE_REPLACE = &#x27;routeReplace&#x27;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">import &#123; history &#125; from &#x27;umi&#x27;;</span><br><span class="line"></span><br><span class="line">// è·¯ç”±å¤„ç†</span><br><span class="line">const handleRouteChange = (toRoute: string, postMessageType: string) =&gt; &#123;</span><br><span class="line">  const &#123; pathname, search &#125; = window.location;</span><br><span class="line">  const current = decodeURIComponent(search.slice(5));</span><br><span class="line">  if (current === toRoute) return;</span><br><span class="line">  const route = `$&#123;pathname&#125;?url=$&#123;encodeURIComponent(toRoute)&#125;`;</span><br><span class="line">  if (postMessageType === PostMessageType.ROUTE_PUSH) &#123;</span><br><span class="line">    history.push(route);</span><br><span class="line">  &#125; else if (postMessageType === PostMessageType.ROUTE_REPLACE) &#123;</span><br><span class="line">    history.replace(route);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">useEffect(() =&gt; &#123;</span><br><span class="line">  // ç›‘å¬postMessageæ–¹æ³•</span><br><span class="line">  window.addEventListener(</span><br><span class="line">    &#x27;message&#x27;,</span><br><span class="line">    (e) =&gt; &#123;</span><br><span class="line">      const postMessageType = e.data.type;</span><br><span class="line">      if (</span><br><span class="line">        postMessageType === PostMessageType.ROUTE_PUSH ||</span><br><span class="line">        postMessageType === PostMessageType.ROUTE_REPLACE</span><br><span class="line">      ) &#123;</span><br><span class="line">        handleRouteChange(e.data.payLoad, postMessageType);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    false,</span><br><span class="line">  );</span><br><span class="line">&#125;, []);</span><br></pre></td></tr></table></figure>

<p>è·¯ç”±å¤„ç†å¯ä»¥ç›´æ¥æ˜¯å­é¡µé¢çš„å®Œæ•´è·¯ç”±ï¼Œä¹Ÿå¯ä»¥æ˜¯ç‰¹å®šè·¯å¾„ï¼Œä¸ºäº†æ”¯æŒ umi çš„ replace è·³è½¬ï¼Œæˆ‘è¿™é‡Œä¼šå°†è·¯ç”±å¤„ç†ä¸ºè·³è½¬ç›®æ ‡é¡µçš„è·¯å¾„ã€‚</p>
<p>ç°åœ¨åœ¨å†…åµŒé¡µä¸­ç‚¹å‡»å…¶ä»–è·¯ç”±ï¼Œè·¯ç”±å·²ç»å¯ä»¥å®Œæˆå˜åŒ–äº†ï¼Œä½†æ˜¯å›é€€æˆ–è€…åˆ·æ–°é¡µé¢ï¼Œæˆ‘ä»¬è¿˜æ˜¯ä¸èƒ½è¿›å…¥æ­£ç¡®çš„æŒ‡å®šé¡µé¢ã€‚</p>
<h1 id="çˆ¶é¡µé¢è·¯ç”±å˜åŒ–é€šçŸ¥å­é¡µé¢"><a href="#çˆ¶é¡µé¢è·¯ç”±å˜åŒ–é€šçŸ¥å­é¡µé¢" class="headerlink" title="çˆ¶é¡µé¢è·¯ç”±å˜åŒ–é€šçŸ¥å­é¡µé¢"></a>çˆ¶é¡µé¢è·¯ç”±å˜åŒ–é€šçŸ¥å­é¡µé¢</h1><p>å­é¡µé¢è·¯ç”±å˜åŒ–èƒ½å¤ŸåŒæ­¥çˆ¶é¡µé¢ï¼Œç°åœ¨æˆ‘ä»¬è¦å®Œæˆçˆ¶é¡µé¢è·¯ç”±å˜åŒ–åŒæ­¥å­é¡µé¢ã€‚</p>
<p>æ€è·¯ï¼šç›‘å¬çˆ¶é¡µé¢è·¯ç”±å˜åŒ–ï¼Œé€šè¿‡ postMessage å‘ŠçŸ¥å­é¡µé¢</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// å¯¹è±¡è½¬ä¸º query stringæ–¹æ³•</span><br><span class="line">export function objToQueryStr(obj: Record&lt;string, any&gt;) &#123;</span><br><span class="line">  if (!obj) return &#x27;&#x27;;</span><br><span class="line">  const str: string[] = [];</span><br><span class="line">  Object.keys(obj).forEach((key) =&gt; &#123;</span><br><span class="line">    str.push(`$&#123;encodeURIComponent(key)&#125;=$&#123;encodeURIComponent(obj[key])&#125;`);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  return str.join(&#x27;&amp;&#x27;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">import &#123; history, useLocation &#125; from &#x27;umi&#x27;;</span><br><span class="line"></span><br><span class="line">const &#123; query &#125; = useLocation() as any;</span><br><span class="line"></span><br><span class="line">useEffect(() =&gt; &#123;</span><br><span class="line">  const iframe = document.getElementById(&#x27;iframe&#x27;) as any;</span><br><span class="line">  const iw = iframe?.contentWindow;</span><br><span class="line">  if (!iw) return;</span><br><span class="line">  iw?.postMessage(&#123; type: &#x27;routeChange&#x27;, payLoad: objToQueryStr(query).slice(4) &#125;, &#x27;*&#x27;);</span><br><span class="line">&#125;, [query]);</span><br></pre></td></tr></table></figure>

<p>å­é¡¹ç›®ç›‘å¬ postMessage å¹¶è·³è½¬è·¯ç”±ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const current = `$&#123;window.location.pathname&#125;$&#123;window.location.search&#125;`;</span><br><span class="line">// ç›‘å¬postMessageè·¯ç”±æ”¹å˜æ“ä½œ</span><br><span class="line">const handleListenMessage = useCallback(</span><br><span class="line">  debounce(</span><br><span class="line">    (e) =&gt; &#123;</span><br><span class="line">      const postMessageType = e.data.type;</span><br><span class="line">      if (postMessageType === &#x27;routeChange&#x27;) &#123;</span><br><span class="line">        if (!e.data.payLoad) return;</span><br><span class="line">        const route = decodeURIComponent(e.data.payLoad);</span><br><span class="line">        if (current === route) return;</span><br><span class="line">        history.replace(route);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    200,</span><br><span class="line">    &#123; trailing: true, leading: false &#125;,</span><br><span class="line">  ),</span><br><span class="line">  [current],</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">// å¦‚æœæ˜¯å†…åµŒé¡µï¼Œæ·»åŠ é¡µé¢äº‹ä»¶ç›‘å¬</span><br><span class="line">useEffect(() =&gt; &#123;</span><br><span class="line">  if (window.name === &#x27;iframe&#x27;) &#123;</span><br><span class="line">    window.addEventListener(&#x27;message&#x27;, handleListenMessage);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  return () =&gt; &#123;</span><br><span class="line">    if (window.name === &#x27;iframe&#x27;) &#123;</span><br><span class="line">      window.removeEventListener(&#x27;message&#x27;, handleListenMessage);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;, [current]);</span><br></pre></td></tr></table></figure>

<p>å®Œæˆå­é¡µé¢ç›‘å¬çˆ¶é¡µé¢è·¯ç”±å˜åŒ–å¹¶è·³è½¬ï¼Œå°±å®ç°äº†çˆ¶å­é¡µé¢çš„è·¯ç”±åŒæ­¥ï¼Œç‚¹å‡»å†…åµŒé¡µå…¶ä»–è·¯ç”±ï¼Œæˆ–è€…ç‚¹å‡»åé€€å‰è¿›æŒ‰é’®è·¯ç”±éƒ½èƒ½æ­£å¸¸è·³è½¬ã€‚è¦æƒ³åˆ·æ–°é¡µé¢èƒ½è¿›å…¥æ­£ç¡®çš„é¡µé¢åªéœ€æ”¯æŒ iframe çš„ src ä¸­å¸¦å‚æ•°å³å¯ï¼Œå­é¡µé¢è¯†åˆ«æ­¤åœ°å€è¿›è¡Œè·³è½¬å³å¯ã€‚</p>
<p>çˆ¶é¡µé¢</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const [toUrl, setToUrl] = useState(&#x27;/&#x27;);</span><br><span class="line"></span><br><span class="line">useEffect(() =&gt; &#123;</span><br><span class="line">  if (query.url) &#123;</span><br><span class="line">    setToUrl(query.url);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,[]);</span><br><span class="line"></span><br><span class="line">return (</span><br><span class="line">  &lt;iframe</span><br><span class="line">    src=`https://www.myProjectA.com?to=&#123;toUrl&#125;`</span><br><span class="line">    name=&quot;iframe&quot;</span><br><span class="line">    allowFullScreen</span><br><span class="line">    id=&quot;iframe&quot;</span><br><span class="line">    style=&#123;&#123; width: &#x27;100%&#x27;, height: &#x27;100%&#x27; &#125;&#125;</span><br><span class="line">  &gt;&lt;/iframe&gt;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>å­é¡µé¢</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import useLocationQuery from &#x27;@/hooks/useLocationQuery&#x27;;</span><br><span class="line"></span><br><span class="line">const &#123; to = &#x27;/&#x27;, token = &#x27;&#x27;, tenantId &#125; = useLocationQuery();</span><br><span class="line"></span><br><span class="line">useEffect(() =&gt; &#123;</span><br><span class="line">  history.replace(to);</span><br><span class="line">&#125;, []);</span><br></pre></td></tr></table></figure>

<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æœ¬æ–‡æ¢è®¨å®ç°äº†åœ¨ iframe å†…åµŒåœºæ™¯ä¸­å¦‚ä½•å®ç°çˆ¶å­é¡µé¢çš„è·¯ç”±åŒæ­¥ï¼Œä¹Ÿæ˜¯è¸©äº†å¾ˆå¤šå‘å®ç°çš„ï¼Œå¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©ï½</p>
]]></content>
      <categories>
        <category>iframe</category>
      </categories>
      <tags>
        <tag>è·¯ç”±</tag>
        <tag>iframe</tag>
      </tags>
  </entry>
  <entry>
    <title>whistleä½¿ç”¨å®è·µ</title>
    <url>/2022/05/06/whistle%E4%BD%BF%E7%94%A8%E5%AE%9E%E8%B7%B5/</url>
    <content><![CDATA[<h1 id="å…³äº-whistle"><a href="#å…³äº-whistle" class="headerlink" title="å…³äº whistle"></a>å…³äº whistle</h1><p>whistle åŸºäº Node å®ç°çš„è·¨å¹³å° web è°ƒè¯•ä»£ç†å·¥å…·ï¼Œä¸»è¦ç”¨äºæŸ¥çœ‹ã€ä¿®æ”¹ HTTPã€HTTPSã€Websocket è¯·æ±‚ã€ç›¸åº”ï¼Œä¹Ÿå¯ä»¥ä½œä¸º HTTP ä»£ç†æœåŠ¡å™¨ä½¿ç”¨ã€‚ä¸€åˆ‡æ“ä½œå¯ä»¥é€šè¿‡é…ç½®å®ç°ï¼Œæ”¯æŒåŸŸåã€è·¯å¾„ã€æ­£åˆ™è¡¨è¾¾å¼ã€é€šé…ç¬¦ç­‰å¤šç§åŒ¹é…æ–¹å¼ã€‚</p>
<span id="more"></span>

<h1 id="whistle-å®è·µ"><a href="#whistle-å®è·µ" class="headerlink" title="whistle å®è·µ"></a>whistle å®è·µ</h1><h2 id="å®‰è£…å¯åŠ¨"><a href="#å®‰è£…å¯åŠ¨" class="headerlink" title="å®‰è£…å¯åŠ¨"></a>å®‰è£…å¯åŠ¨</h2><ol>
<li>å®‰è£… Node</li>
</ol>
<p>whistle æ”¯æŒ v0.10.0 ä»¥ä¸Šç‰ˆæœ¬çš„ Nodeï¼Œä¸ºè·å–æ›´å¥½çš„æ€§èƒ½ï¼Œæ¨èå®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ Nodeã€‚</p>
<p>mac ç”µè„‘å»ºè®®ä½¿ç”¨ nvm è¿›è¡Œ node çš„ç‰ˆæœ¬ç®¡ç†ï½</p>
<ol start="2">
<li>å®‰è£… whistle</li>
</ol>
<p>Node å®‰è£…å®Œæˆåï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£… whistleï¼š</p>
<p><code>$ npm install -g whistle</code></p>
<p>å®‰è£…å®Œæˆåè¿è¡Œ<code>$ w2 help</code></p>
<p>å¦‚æœå‡ºç°ä»¥ä¸‹ç»“æœè¯´æ˜å®‰è£…æˆåŠŸï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">âœ  ~ w2 help</span><br><span class="line"></span><br><span class="line">  Usage: w2 &lt;command&gt; [options]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  Commands:</span><br><span class="line"></span><br><span class="line">    status          Show the running status</span><br><span class="line">    add [filepath]  Add rules from local js file (.whistle.js by default)</span><br><span class="line">    install         Install a whistle plugin</span><br><span class="line">    uninstall       Uninstall a whistle plugin</span><br><span class="line">    exec            Exec whistle plugin command</span><br><span class="line">    run             Start a front service</span><br><span class="line">    start           Start a background service</span><br><span class="line">    stop            Stop current background service</span><br><span class="line">    restart         Restart current background service</span><br><span class="line">    help            Display help information</span><br><span class="line"></span><br><span class="line">  Options:</span><br><span class="line"></span><br><span class="line">    -h, --help                                      output usage information</span><br><span class="line">    -D, --baseDir [baseDir]                         set the configured storage root path</span><br><span class="line">    -z, --certDir [directory]                       set custom certificate store directory</span><br><span class="line">    -l, --localUIHost [hostname]                    set the domain for the web ui (local.whistlejs.com by default)</span><br><span class="line">    -L, --pluginHost [hostname]                     set the domain for the web ui of plugin  (as: &quot;script=a.b.com&amp;vase=x.y.com&quot;)</span><br><span class="line">    -n, --username [username]                       set the username to access the web ui</span><br><span class="line">    -w, --password [password]                       set the password to access the web ui</span><br><span class="line">    -N, --guestName [username]                      set the the guest name to access the web ui (can only view the data)</span><br><span class="line">    -W, --guestPassword [password]                  set the guest password to access the web ui (can only view the data)</span><br><span class="line">    -s, --sockets [number]                          set the max number of cached connections on each domain (256 by default)</span><br><span class="line">    -S, --storage [newStorageDir]                   set the configured storage directory</span><br><span class="line">    -C, --copy [storageDir]                         copy the configuration of the specified directory to a new directory</span><br><span class="line">    -c, --dnsCache [time]                           set the cache time of DNS (60000ms by default)</span><br><span class="line">    -H, --host [boundHost]                          set the bound host (INADDR_ANY by default)</span><br><span class="line">    -p, --port [proxyPort]                          set the proxy port (8899 by default)</span><br><span class="line">    -P, --uiport [uiport]                           set the webui port</span><br><span class="line">    -m, --middlewares [script path or module name]  set the express middlewares loaded at startup (as: xx,yy/zz.js)</span><br><span class="line">    -M, --mode [mode]                               set the starting mode (as: pureProxy|debug|multiEnv|capture|disableH2|network|rules|plugins|prod)</span><br><span class="line">    -t, --timeout [ms]                              set the request timeout (360000ms by default)</span><br><span class="line">    -e, --extra [extraData]                         set the extra parameters for plugin</span><br><span class="line">    -f, --secureFilter [secureFilter]               set the path of secure filter</span><br><span class="line">    -r, --shadowRules [shadowRules]                 set the shadow (default) rules</span><br><span class="line">    -R, --reqCacheSize [reqCacheSize]               set the cache size of request data (600 by default)</span><br><span class="line">    -F, --frameCacheSize [frameCacheSize]           set the cache size of webSocket and socket&#x27;s frames (512 by default)</span><br><span class="line">    -A, --addon [pluginPaths]                       add custom plugin paths</span><br><span class="line">    --config [workers]                              start the cluster server and set worker number (os.cpus().length by default)</span><br><span class="line">    --cluster [config]                              load the startup config from a local file</span><br><span class="line">    --dnsServer [dnsServer]                         set custom dns servers</span><br><span class="line">    --socksPort [socksPort]                         set the socksv5 server port</span><br><span class="line">    --httpPort [httpPort]                           set the http server port</span><br><span class="line">    --httpsPort [httpsPort]                         set the https server port</span><br><span class="line">    --no-global-plugins                             do not load any globally installed plugins</span><br><span class="line">    --no-prev-options                               do not reuse the previous options when restarting</span><br><span class="line">    --inspect [[host:]port]                         activate inspector on host:port (127.0.0.1:9229 by default)</span><br><span class="line">    --inspectBrk [[host:]port]                      activate inspector on host:port and break at start of user script (127.0.0.1:9229 by default)</span><br><span class="line">    -V, --version                                   output the version number</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>å¯åŠ¨ whistle</li>
</ol>
<p>æœ€æ–°ç‰ˆæœ¬æ”¯æŒ whistle ä¸‰ç§ç­‰ä»·å‘½ä»¤ï¼š<strong>whistle</strong>ã€<strong>w2</strong>ã€<strong>wproxy</strong></p>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¡Œå¯åŠ¨ whistleï¼š</p>
<p><code>$ w2 start</code></p>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¡Œåœæ­¢ whistleï¼š</p>
<p><code>$ w2 stop</code></p>
<ol start="4">
<li>é…ç½®ä»£ç†</li>
</ol>
<p>ä»£ç†é…ç½®æœ‰å…¨å±€ä»£ç†å’Œæµè§ˆå™¨ä»£ç†ï¼ˆæ¨èï¼‰ä¸¤ç§æ–¹å¼ã€‚</p>
<p>æ¨èä½¿ç”¨æµè§ˆå™¨ä»£ç†ï¼Œå®‰è£… Chrome ä»£ç†æ’ä»¶ï¼š<a href="https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif">SwitchyOmega</a></p>
<p>å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼æ¥è®¿é—®é…ç½®é¡µé¢ï¼š</p>
<ul>
<li>æ–¹å¼ 1ï¼šåŸŸåè®¿é—® <a href="http://local.whistlejs.com/">http://local.whistlejs.com/</a></li>
<li>æ–¹å¼ 2ï¼šé€šè¿‡ ip+ç«¯å£æ¥è®¿é—®ï¼Œå½¢å¼å¦‚ <a href="http://whistleServerIP:whistlePort/">http://whistleServerIP:whistlePort/</a> e.g. <a href="http://127.0.0.1:8899/">http://127.0.0.1:8899</a></li>
</ul>
<ol start="5">
<li>å®‰è£…æ ¹è¯ä¹¦</li>
</ol>
<p>å®‰è£…è¯ä¹¦è¯·å‚è€ƒæ–‡æ¡£: <a href="http://wproxy.org/whistle/webui/https.html">http://wproxy.org/whistle/webui/https.html</a></p>
<p>æ›´å¤šè¯·ç§»æ­¥ï¼š<a href="https://wproxy.org/whistle/install.html">whistle å®˜æ–¹æ–‡æ¡£ - å®‰è£…å¯åŠ¨</a></p>
<h2 id="whistle-é…ç½®"><a href="#whistle-é…ç½®" class="headerlink" title="whistle é…ç½®"></a>whistle é…ç½®</h2><p>whistle æ‰€æœ‰çš„æ“ä½œéƒ½å¯ä»¥é€šè¿‡ç±»ä¼¼å¦‚ä¸‹é…ç½®æ–¹å¼å®ç°ï¼š</p>
<p><code>pattern operatorURI</code></p>
<ul>
<li><ol>
<li>whistle çš„åŒ¹é…æ¨¡å¼(pattern)å¤§ä½“å¯ä»¥åˆ†æˆ åŸŸåã€è·¯å¾„ã€æ­£åˆ™ã€ç²¾ç¡®åŒ¹é…ã€é€šé…ç¬¦åŒ¹é…</li>
</ol>
</li>
<li><ol start="2">
<li>operatorURI ä¸ºå¯¹åº”çš„æ“ä½œï¼Œç”±æ“ä½œåè®®+æ“ä½œå€¼ç»„æˆ(operatorURI &#x3D; opProtocol:&#x2F;&#x2F;opValue)ï¼šopProtocol(æ“ä½œåè®®)ï¼Œ å¯¹åº”æŸç±»æ“ä½œã€‚</li>
</ol>
</li>
<li><ol start="3">
<li>pattern å’Œ operatorURI åœ¨å¤šæ•°æƒ…å†µä¸‹ä½ç½®å¯ä»¥è°ƒæ¢ï¼Œä¸”æ”¯æŒç»„åˆæ¨¡å¼ï¼Œå…·ä½“å‚è§ï¼šé…ç½®æ–¹å¼</li>
</ol>
</li>
<li><ol start="4">
<li>å½“ operatorURI ä¸ä¸º url çš„æ—¶å€™ï¼Œpattern å’Œ operatorURI çš„ä½ç½®å¯ä»¥äº¤æ¢ã€‚</li>
</ol>
</li>
</ul>
<h3 id="è¯·æ±‚æ›¿æ¢"><a href="#è¯·æ±‚æ›¿æ¢" class="headerlink" title="è¯·æ±‚æ›¿æ¢"></a>è¯·æ±‚æ›¿æ¢</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">## è®¿é—®ç™¾åº¦æ—¶è¿”å›githubé¡µé¢</span><br><span class="line">https://www.baidu.com https://www.github.com</span><br></pre></td></tr></table></figure>

<h3 id="æ”¹å˜è¯·æ±‚çŠ¶æ€"><a href="#æ”¹å˜è¯·æ±‚çŠ¶æ€" class="headerlink" title="æ”¹å˜è¯·æ±‚çŠ¶æ€"></a>æ”¹å˜è¯·æ±‚çŠ¶æ€</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">## è®¿é—®urlæ—¶è¿”å›404</span><br><span class="line">www.example.com statusCode://404</span><br></pre></td></tr></table></figure>

<h3 id="æ’å…¥æ ‡ç­¾"><a href="#æ’å…¥æ ‡ç­¾" class="headerlink" title="æ’å…¥æ ‡ç­¾"></a>æ’å…¥æ ‡ç­¾</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">www.example.com log://&#123;test_log.js&#125;</span><br><span class="line"></span><br><span class="line">www.example.com js:///Users/myname/test/test.js</span><br></pre></td></tr></table></figure>

<h3 id="æ›¿æ¢è¯·æ±‚å†…å®¹"><a href="#æ›¿æ¢è¯·æ±‚å†…å®¹" class="headerlink" title="æ›¿æ¢è¯·æ±‚å†…å®¹"></a>æ›¿æ¢è¯·æ±‚å†…å®¹</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">www.example.com resBody:///Users/myname/Desktop/mock.json</span><br></pre></td></tr></table></figure>

<h3 id="host-ä¿®æ”¹"><a href="#host-ä¿®æ”¹" class="headerlink" title="host ä¿®æ”¹"></a>host ä¿®æ”¹</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://admin.local.ym.qq.com http://localhost:8000</span><br></pre></td></tr></table></figure>

<h3 id="è·¨åŸŸ"><a href="#è·¨åŸŸ" class="headerlink" title="è·¨åŸŸ"></a>è·¨åŸŸ</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># `*` è¡¨ç¤ºè®¾ç½® access-control-allow-origin: *</span><br><span class="line">www.example.com resCors://*</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>whistle</tag>
        <tag>è°ƒè¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸€èµ·è®¤è¯†npm</title>
    <url>/2022/05/19/%E4%B8%80%E8%B5%B7%E8%AE%A4%E8%AF%86npm/</url>
    <content><![CDATA[<h1 id="å…³äº-npm"><a href="#å…³äº-npm" class="headerlink" title="å…³äº npm"></a>å…³äº npm</h1><p>NPMï¼ˆnode package managerï¼‰æ˜¯ Node.js å®˜æ–¹æä¾›çš„åŒ…ç®¡ç†å·¥å…·ï¼Œç”¨äº node åŒ…çš„ç®¡ç†ï¼ˆåŒ…æ‹¬å®‰è£…ã€å¸è½½ã€ç®¡ç†ä¾èµ–ç­‰ï¼‰ã€‚å‘å±•åˆ°ç°åœ¨ npm å·²ç»æˆä¸ºä¸–ç•Œä¸Šæœ€å¤§è§„æ¨¡çš„åŒ…ç®¡ç†ç³»ç»Ÿï¼Œä¸ºå¹¿å¤§å¼€å‘è€…æ„å»ºäº†ä¸€ä¸ªå‹å¥½çš„å¼€æºå¹³å°ï¼Œç”¨æˆ·èƒ½å¤Ÿå‘ NPM æœåŠ¡å™¨ä¸Šä¼ è‡ªå·±ç¼–å†™çš„ç¬¬ä¸‰æ–¹åŒ…æˆ–è€…å‘½ä»¤è¡Œç¨‹åºï¼Œä¹Ÿå¯ä»¥ä¸‹è½½åˆ«äººç¼–å†™çš„è‡³æœ¬åœ°ä½¿ç”¨ã€‚</p>
<p>ä¼šä½¿ç”¨ npm æœ€åŸºæœ¬çš„ npm initã€npm install ç­‰å‘½ä»¤å‡ ä¹å°±å¯ä»¥å°†åŒ…ç®¡ç†å®æ–½åœ¨é¡¹ç›®é‡Œï¼Œç„¶å npm è¿œä¸æ­¢è¿™äº›ã€‚</p>
<p>æœ¬æ–‡æ˜¯ç¬”è€…å‡ºäºå…´è¶£æŒ–æ˜çš„ä¸€äº› npm å¸¸ç”¨çš„åŸç†ã€ç‰¹æ€§ä»¥åŠä¸ªäººå®è·µã€‚</p>
<span id="more"></span>

<h1 id="å®‰è£…ä½¿ç”¨"><a href="#å®‰è£…ä½¿ç”¨" class="headerlink" title="å®‰è£…ä½¿ç”¨"></a>å®‰è£…ä½¿ç”¨</h1><p>npm ä¸éœ€è¦å•ç‹¬å®‰è£…ï¼Œåœ¨å®‰è£… Node æ—¶ä¼šè¿å¸¦ä¸€èµ·å®‰è£…ã€‚ä½†æ˜¯ Node é™„å¸¦çš„ npm ç‰ˆæœ¬ä¹Ÿå¯èƒ½ä¸æ»¡è¶³éœ€è¦ï¼Œæœ‰æ—¶å¯èƒ½ä¼šæ¶‰åŠåˆ°éœ€è¦è°ƒæ•´ npm çš„ç‰ˆæœ¬ï¼Œæˆ–è€…å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># ä¸‹è½½æœ€æ–°ç‰ˆæœ¬npm</span><br><span class="line">$ sudo npm install npm@latest -g</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œè¿˜æ˜¯æ¨èä½¿ç”¨ nvm è¿›è¡Œ Node ç‰ˆæœ¬ç®¡ç†ï¼Œåˆ‡æ¢ Node çš„åŒæ—¶ä¹Ÿå¯ä»¥åˆ‡æ¢ npm çš„ç‰ˆæœ¬ã€‚</p>
<p>å¦‚æœèƒ½æˆåŠŸæŸ¥çœ‹ npm çš„ç‰ˆæœ¬åˆ™è¡¨ç¤ºå®‰è£…æˆåŠŸäº†</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ sudo npm -v</span><br><span class="line">## æˆ–è€…</span><br><span class="line">$ sudo npm --version</span><br></pre></td></tr></table></figure>

<h1 id="npm-ç‰ˆæœ¬å·"><a href="#npm-ç‰ˆæœ¬å·" class="headerlink" title="npm ç‰ˆæœ¬å·"></a>npm ç‰ˆæœ¬å·</h1><p>npm çš„ç‰ˆæœ¬éµå¾ª semver è§„èŒƒã€‚ç‰ˆæœ¬å·æ ¼å¼ä¸º major.minor.patchï¼Œä¸” majorï¼Œminorï¼Œpatch å‡å¿…é¡»ä¸ºé 0 å¼€å¤´çš„éè´Ÿæ•°ã€‚</p>
<ul>
<li>æœ‰æ•ˆç‰ˆæœ¬ï¼š1.0.4ã€0.5.9</li>
<li>æ— æ•ˆç‰ˆæœ¬ï¼š0.2.04ã€1.a.a</li>
</ul>
<ol>
<li>majorï¼ˆä¸»ç‰ˆæœ¬å·ï¼‰ï¼šå½“ API å‘ç”Ÿæ”¹å˜ï¼Œå¹¶ä¸”äº§ç”Ÿ breaking change æ— æ³•ä¸ä¹‹å‰ç‰ˆæœ¬å…¼å®¹</li>
<li>minorï¼ˆæ¬¡ç‰ˆæœ¬å·ï¼‰ï¼šå½“åŠŸèƒ½å˜æ›´ï¼Œä½†æ˜¯å‘åå…¼å®¹</li>
<li>patchï¼ˆè¡¥ä¸ç‰ˆæœ¬ï¼‰ï¼šbug ä¿®å¤ï¼Œä½†æ˜¯å‘åå…¼å®¹</li>
</ol>
<h2 id="ç‰ˆæœ¬åŒ¹é…"><a href="#ç‰ˆæœ¬åŒ¹é…" class="headerlink" title="ç‰ˆæœ¬åŒ¹é…"></a>ç‰ˆæœ¬åŒ¹é…</h2><ul>
<li>ï½ ä¼šåŒ¹é…æœ€è¿‘çš„å°ç‰ˆæœ¬ï¼Œæ¯”å¦‚ï¼šï½ 1.2.1 ä¼šåŒ¹é…æ‰€æœ‰ 1.2.x çš„ç‰ˆæœ¬ï¼Œä½†æ˜¯ä¸åŒ…æ‹¬ 1.3.0</li>
<li>^ ä¼šåŒ¹é…æœ€æ–°çš„å¤§ç‰ˆæœ¬ï¼Œæ¯”å¦‚ï¼š^1.2.1 ä¼šåŒ¹é…æ‰€æœ‰ 1.x.x çš„ç‰ˆæœ¬ï¼Œä¸åŒ…æ‹¬ 2.0.0</li>
<li>æ— å‰ç¼€ï¼Œæ¯”å¦‚ 1.2.3ï¼Œåªä¼šåŒ¹é…ç‰¹å®š 1.2.3 ç‰ˆæœ¬</li>
<li>- ä¿æŒæœ€æ–°çš„ç‰ˆæœ¬ï¼Œå®¹æ˜“å› ä¸ºç‰ˆæœ¬å…¼å®¹å¼•èµ·é—®é¢˜</li>
</ul>
<p>æ¨èä½¿ç”¨ï½ä¸ºä¸»ï¼Œå¯ä»¥ä¿è¯é¡¹ç›®ä¸å‡ºå¤§é—®é¢˜çš„æƒ…å†µä¸‹åˆèƒ½è®©åŒ…ä¸­çš„å° bug ä¿®å¤ã€‚ä½¿ç”¨^å’Œ* éœ€è¦è°¨æ…é˜²æ­¢å› ä¸ºåŒ…çš„æ”¹åŠ¨è¿‡å¤§é€ æˆé¡¹ç›®ä»£ç é”™è¯¯ã€‚</p>
<h1 id="npm-å¸¸ç”¨å‘½ä»¤"><a href="#npm-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="npm å¸¸ç”¨å‘½ä»¤"></a>npm å¸¸ç”¨å‘½ä»¤</h1><h2 id="npm-init"><a href="#npm-init" class="headerlink" title="npm init"></a>npm init</h2><p>npm init å‘½ä»¤ç”¨äºåˆ›å»ºä¸€ä¸ªæ–°çš„æˆ–è€…å·²å­˜åœ¨çš„ npm åŒ…ï¼Œéšä¹‹åœ¨ç›®å½•ä¸‹ç”Ÿæˆæˆ–è€…æ›´æ–°ä¸€ä¸ªåä¸º package.json çš„æ–‡ä»¶ã€‚</p>
<p>ä½¿ç”¨æ­¤å‘½ä»¤æ—¶ï¼Œä¼šå‘ç”¨æˆ·æå‡ºä¸€ç³»åˆ—é»˜è®¤é—®é¢˜å¹¶æ ¹æ®æ­¤ç”Ÿæˆ package.json æ–‡ä»¶çš„æœ€åˆç‰ˆ</p>
<p><img src="init.png"></p>
<p>å¦‚æœä¸å¸Œæœ›å›ç­”è€Œç›´æ¥ç”Ÿæˆ package.json æ–‡ä»¶ï¼Œå¯ä»¥ä¸€è·¯å›è½¦å®Œæˆåˆ›å»ºï¼Œæ¯•ç«Ÿ package.json æ–‡ä»¶åç»­è¿˜æ˜¯å¯ä»¥æ›´æ”¹ã€‚</p>
<p>æˆ–è€…æ·»åŠ  init çš„é…ç½® -fï¼ˆä»£è¡¨ forceï¼‰ã€-yï¼ˆä»£è¡¨ yesï¼‰è·³è¿‡æé—®é˜¶æ®µï¼Œç›´æ¥ç”Ÿæˆæ–°çš„ package.json æ–‡ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ npm init -y</span><br></pre></td></tr></table></figure>

<h2 id="npm-config"><a href="#npm-config" class="headerlink" title="npm config"></a>npm config</h2><p>npm config set ç”¨äºè®¾ç½®ç¯å¢ƒå˜é‡</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ npm config set init-author-name &#x27;My Name&#x27;</span><br><span class="line">$ npm config set init-license &#x27;MIT&#x27;</span><br><span class="line"># æ¢é•œåƒæºregistry</span><br><span class="line">$ npm config set registry &#x27;http://registry.npm.taobao.org/&#x27;</span><br></pre></td></tr></table></figure>

<p>npm config set ç›¸å½“äºå¢åŠ äº† init çš„é»˜è®¤å€¼ï¼Œä»¥åæ‰§è¡Œ npm init çš„æ—¶å€™ package.json ä¸­çš„å¯¹åº”å­—æ®µå°±ä¼šç›´æ¥ç”Ÿæ•ˆã€‚</p>
<h2 id="npm-install"><a href="#npm-install" class="headerlink" title="npm install"></a>npm install</h2><p><code>npm install</code>ï¼Œç¼©å†™ <code>npm i</code> ï¼šå¯ä»¥æ ¹æ® package.json çš„é…ç½®å®‰è£…æ’ä»¶ã€‚å¦‚æœä¸€ä¸ªåŒ…æœ‰ package-lockã€npm-shrinkwrap æˆ–è€… yarn.lock æ–‡ä»¶ï¼Œåˆ™ä¾èµ–åŒ…çš„ä¸‹è½½å°†ä¼šè¢«è¿™äº›æ–‡ä»¶é©±åŠ¨ï¼Œå¹¶éµå¾ªä»¥ä¸‹ä¼˜å…ˆçº§ï¼š</p>
<ul>
<li>npm-shrinkwrap.json</li>
<li>package-lock.json</li>
<li>yarn.lock</li>
</ul>
<p>å‘½ä»¤è¡Œ <code>npm install [&lt;@scope&gt;/]&lt;name&gt;</code> åˆ™ä¼šä¸‹è½½å®‰è£…ä¸€ä¸ªä¾èµ–åŒ…ä»¥åŠå…¶ä¾èµ–çš„æ‰€æœ‰å…¶ä»–ä¾èµ–åŒ…ã€‚</p>
<p>å…·ä½“å‘½ä»¤è¯¦æƒ…ï¼š<br><img src="install1.png"></p>
<p>è¿è¡Œä¸Šè¿°å‘½ä»¤ï¼Œåœ¨ npm init åˆ›å»ºçš„é»˜è®¤ package.json æ–‡ä»¶ä¸­çš„ dependencies å­—æ®µä¸­ä¼šæ·»åŠ å…¥å¯¹åº”çš„æ’ä»¶åŒ…ï¼š</p>
<p><img src="install2.png"></p>
<p>é€šç”¨å¯é€‰å‚æ•°: [-P|â€“save-prod|-D|â€“save-dev|-O|â€“save-optional] [-E|â€“save-exact] [-B|â€“save-bundle] [â€“no-save] [â€“dry-run]</p>
<p>å…·ä½“å‚æ•°è¯´æ˜ï¼š</p>
<p><img src="install3.png"></p>
<h2 id="npm-uninstall"><a href="#npm-uninstall" class="headerlink" title="npm uninstall"></a>npm uninstall</h2><p>npm uninstall ç”¨æ¥å¸è½½å·²ç»å®‰è£…çš„åŒ…ï¼Œå‚æ•°ä¸ install çš„ç±»ä¼¼ï¼Œå¯ä»¥é€šè¿‡åœ¨å‘½ä»¤è¡Œåé¢åŠ -g | -S | -D | -O | â€“no-save ç­‰è¿›è¡Œé™åˆ¶ã€‚</p>
<p>å¦‚æœæœ‰ npm-shrinkwrap.json æ–‡ä»¶çš„è¯ï¼Œä¹Ÿä¼šè¢«åŒæ—¶æ›´æ–°ã€‚</p>
<h2 id="npm-search"><a href="#npm-search" class="headerlink" title="npm search"></a>npm search</h2><p><code>npm search &lt;name&gt;</code>ç”¨äºæœç´¢ npm ä»“åº“å¯¹åº”çš„åŒ…åï¼Œå¦‚æœæœç´¢ä¸æˆåŠŸæœ‰å¯èƒ½æ˜¯ regisrty æ”¹å˜å¯¼è‡´çš„ï¼Œæ³¨æ„æŸ¥çœ‹.npmrc å†…çš„ registryã€‚</p>
<h2 id="npm-info"><a href="#npm-info" class="headerlink" title="npm info"></a>npm info</h2><p>npm info å¯ä»¥æŸ¥çœ‹æ¯ä¸ªæ¨¡å—çš„å…·ä½“ä¿¡æ¯ï¼Œæ¯”å¦‚æŸ¥çœ‹å·²ç»å®‰è£…çš„ moment åŒ…ä¿¡æ¯ï¼š</p>
<p><img src="info.png"></p>
<h2 id="npm-update"><a href="#npm-update" class="headerlink" title="npm update"></a>npm update</h2><p>é€šå¸¸ä½¿ç”¨ npm update å‘½ä»¤å»æ›´æ–°ä¸€ä¸ªåŒ…ï¼ŒåŒæ ·å¦‚æœåŠ äº†å‚æ•°-g è¡¨ç¤ºæ›´æ–°å…¨å±€çš„åŒ…ç‰ˆæœ¬ï¼Œå¦åˆ™åˆ™æ˜¯æ›´æ–°é¡¹ç›®ä¸­çš„ç‰ˆæœ¬</p>
<h2 id="npm-list"><a href="#npm-list" class="headerlink" title="npm list"></a>npm list</h2><p>npm list ç”¨äºæŸ¥çœ‹å·²å®‰è£…çš„æ¨¡å—ã€‚-g å‚æ•°è¡¨ç¤ºæŸ¥è¯¢å…¨å±€å®‰è£…çš„åŒ…ï¼Œâ€“depth 0 å¯ä»¥é™åˆ¶æŸ¥è¯¢æ·±åº¦ã€‚</p>
<h2 id="npm-run"><a href="#npm-run" class="headerlink" title="npm run"></a>npm run</h2><p>é€šå¸¸æˆ‘ä»¬ç”¨ npm run æ‰§è¡Œè„šæœ¬å‘½ä»¤ã€‚package.json æ–‡ä»¶ä¸­çš„ scripts å­—æ®µå­˜æ”¾ç€å¯ä»¥ä¾› npm ç›´æ¥è°ƒç”¨çš„è„šæœ¬å‘½ä»¤ã€‚</p>
<p>æ‰§è¡Œ npm run ä¸å¸¦ä»»ä½•å‚æ•°ï¼Œé‚£ä¹ˆä¼šåˆ—å‡º package.json å†…æ‰€æœ‰å¯ä»¥æ‰§è¡Œçš„è„šæœ¬å‘½ä»¤ã€‚start å’Œ test å±äºç‰¹æ®Šå‘½ä»¤å¯ä»¥çœç•¥ run ç›´æ¥æ‰§è¡Œã€‚</p>
<p><strong>åŸç†ï¼š</strong><br>npm åœ¨æ‰§è¡Œ install æ—¶ï¼Œä¼šæ ¹æ®ç¬¬ä¸‰æ–¹ä¾èµ–ä¸­çš„ package.json æ–‡ä»¶ä¸­çš„ bin é…ç½®ï¼Œåœ¨é¡¹ç›® node_modules ä¸‹é¢çš„.bin ç›®å½•ä¸­ç”Ÿæˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€‚</p>
<p>npm è¿è¡Œ scripts è„šæœ¬æ—¶ä¼šè‡ªåŠ¨ç»™è„šæœ¬è·¯å¾„åŠ ä¸Š node_modules&#x2F;.bin å‰ç¼€ï¼Œè¿™æ„å‘³ç€æ¯æ¬¡è¿è¡Œ script è„šæœ¬æ—¶ï¼Œå®é™…ä¸Šè¿è¡Œçš„æ˜¯ node_modules&#x2F;.bin ä¸‹å¯¹åº”çš„è½¯é“¾æ¥æ–‡ä»¶ï¼Œæ­¤è½¯è¿æ¥åœ¨ npm i æ—¶å°±å·²ç»å®Œæˆé…ç½®ï¼Œç›¸å½“äºä¸€ç§æ˜ å°„ã€‚</p>
<p>ä»¥ umi åŒ…ä¸ºä¾‹ï¼š<br>åœ¨æ‰§è¡Œ npm i umi å‘½ä»¤ä¹‹åï¼Œnode_modules ç›®å½•ä¸­ä¼šç”Ÿæˆ umi æ–‡ä»¶å¤¹ï¼Œä¸”.bin ç›®å½•ä¸­ä¹Ÿä¼šç”Ÿæˆ umi æ–‡ä»¶ã€‚</p>
<p><img src="umi.png"></p>
<p>ä» umi åŒ…çš„ package.json ä¸­å¯çŸ¥ï¼Œnpm å°† bin&#x2F;umi.js ä½œä¸º bin å£°æ˜äº†ã€‚æ‰€ä»¥ npm i çš„æ—¶å€™ï¼Œnpm è¯»å–æ­¤é…ç½®å¹¶å°†æ­¤æ–‡ä»¶è½¯é“¾æ¥åˆ°.&#x2F;node_modules&#x2F;.bin ç›®å½•ä¸­ã€‚</p>
<p>å¦å¤– npm run ä¼šå°† node_modules&#x2F;.bin åŠ å…¥åˆ° PATH ä¸­ä»¥æ”¯æŒè„šæœ¬çš„è¿è¡Œã€‚æ‰€ä»¥åœ¨ç¼–å†™ scripts å‘½ä»¤æ—¶å¦‚æœéœ€è¦è¿è¡Œå®‰è£…çš„å¯æ‰§è¡Œæ–‡ä»¶æ—¶ä¸éœ€è¦æ·»åŠ å‰ç¼€ node_modules&#x2F;.binï¼Œå¦‚ gulp çš„ä½¿ç”¨ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;scripts&quot;:&#123;</span><br><span class="line">  &quot;clear&quot;: &quot;gulp clear:dist&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>npm run ä¸­å«æœ‰ pre-å’Œ post-ä¸¤ä¸ªé’©å­å‡½æ•°ï¼Œåˆ†åˆ«è¡¨ç¤ºåœ¨æ­¤è„šæœ¬ä¹‹å‰å’Œä¹‹åæ‰§è¡Œå¯¹åº”å‘½ä»¤ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">  &quot;pretest&quot;:&quot;echo \&quot;before\&quot;&quot;,</span><br><span class="line">  &quot;posttest&quot;:&quot;echo \&quot;after\&quot;&quot;,</span><br><span class="line">  &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot;&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ç»ˆç«¯æ‰§è¡Œ npm test æˆ– npm run test æ—¶ï¼Œè„šæœ¬è¿è¡Œé¡ºåºä¸º pretest&gt;posttest&gt;testã€‚</p>
<h2 id="npm-publish"><a href="#npm-publish" class="headerlink" title="npm publish"></a>npm publish</h2><p>npm publish ç”¨äºå°†åŒ…å‘å¸ƒè‡³ npm ä»“åº“ã€‚å¦‚æœæ²¡æœ‰è´¦å·ï¼Œåˆ™éœ€è¦åœ¨<a href="https://www.npmjs.com/">https://www.npmjs.com</a>æ³¨å†Œç”¨æˆ·ã€‚æ³¨å†Œå®Œç”¨æˆ·åœ¨ç»ˆç«¯è¾“å…¥æ‰§è¡Œ npm login è¿›è¡Œç™»é™†ï¼Œç™»é™†æˆåŠŸåæ‰§è¡Œ npm publish å°†åŒ…å‘å¸ƒã€‚</p>
<h1 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h1><ul>
<li><a href="https://neveryu.github.io/2017/04/10/npm/">npm å…¨é¢ä»‹ç»</a></li>
<li>CLI Commands</li>
</ul>
]]></content>
      <categories>
        <category>NPM</category>
      </categories>
      <tags>
        <tag>NPM</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸‰æ‹›åº”å¯¹å°ç¨‹åºå¤šæ¬¡è·³è½¬</title>
    <url>/2022/10/12/%E4%B8%89%E6%8B%9B%E5%BA%94%E5%AF%B9%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%A4%9A%E6%AC%A1%E8%B7%B3%E8%BD%AC/</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>è¿‘æ—¥æ”¶åˆ°äº§å“çš„åé¦ˆï¼Œè¯´å°ç¨‹åºå•†å“åˆ—è¡¨é¡µä¸­çš„å•†å“å¡ç‰‡è¿ç»­å¿«é€Ÿç‚¹å‡»è·³è½¬å•†å“è¯¦æƒ…é¡µçš„è¯æœ‰æ—¶ä¼šå‡ºç°ä¸¤æ¬¡è·³è½¬ã€‚å°ç¨‹åºè·³è½¬ä¸ºä»€ä¹ˆä¼šè·³è½¬ä¸¤æ¬¡å‘¢ï¼Œå¦‚æœè¿™é—®é¢˜å­˜åœ¨ï¼Œå°ç¨‹åºå…¶ä»–æ¶‰åŠè·³è½¬çš„åœ°æ–¹æ˜¯å¦éƒ½ä¼šæœ‰è¿™é—®é¢˜å‘¢ï¼Ÿå¸¦ç€ç–‘é—®ï¼Œç¬”è€…å¼€å§‹äº†å¯¹é¡¹ç›®æ­¤éƒ¨åˆ†çš„æ¢ç©¶ã€‚</p>
<span id="more"></span>

<h1 id="é—®é¢˜æ¢ç©¶"><a href="#é—®é¢˜æ¢ç©¶" class="headerlink" title="é—®é¢˜æ¢ç©¶"></a>é—®é¢˜æ¢ç©¶</h1><h2 id="åœºæ™¯å¤ç°"><a href="#åœºæ™¯å¤ç°" class="headerlink" title="åœºæ™¯å¤ç°"></a>åœºæ™¯å¤ç°</h2><p>é¦–å…ˆå±•ç¤ºä¸‹å¤šæ¬¡è·³è½¬çš„åœºæ™¯ï¼Œç¡®å®è·¯ç”±è·³è½¬äº†ä¸¤æ¬¡ï¼Œè¿™æ—¶æ‰§è¡Œå›é€€ï¼Œç¬¬ä¸€æ¬¡ä¼šå›é€€åˆ°ç›¸åŒçš„å•†å“è¯¦æƒ…é¡µéœ€è¦å†æ¬¡å›é€€æ‰èƒ½å›åˆ°å•†å“åˆ—è¡¨é¡µã€‚</p>
<p><img src="view1.gif"></p>
<h2 id="é—®é¢˜åˆ†æ"><a href="#é—®é¢˜åˆ†æ" class="headerlink" title="é—®é¢˜åˆ†æ"></a>é—®é¢˜åˆ†æ</h2><p>é¦–å…ˆå¯¹è¿™éƒ¨åˆ†çš„å‰ç«¯ <strong>wxml</strong> ç»“æ„è¿›è¡Œåˆ†æï¼š</p>
<p>å•†å“åˆ—è¡¨é¡µä¸ºå°ç¨‹åº <strong>tab</strong> é¡µé¢ï¼Œé¡µé¢ä¸­å¼•å…¥äº†<code>goods-category-list</code>è‡ªå®šä¹‰ç»„ä»¶ï¼Œè¿™ç»„ä»¶ä¾èµ–äº<code>category-goods-list</code>è‡ªå®šä¹‰ç»„ä»¶ï¼Œè¿™ç»„ä»¶å¼•å…¥äº†<code>biz-goods-list</code>é¡¹ç›®å…¬å…±è‡ªå®šä¹‰ç»„ä»¶ï¼Œæ­¤ç»„ä»¶ä¸­åŒ…å«äº†<code>goods-item</code>ç»„ä»¶ç”¨äºä¸“é—¨å±•ç¤ºæ¯ä¸€ä¸ªå•†å“å¡çš„æ ·å¼ã€‚</p>
<p>çœ‹åˆ°è¿™ä½ æ˜¯ä¸æ˜¯ä¼šåæ§½ä¸ºä»€ä¹ˆä¸€ä¸ªå•†å“åˆ—è¡¨å¦‚æ­¤å¤æ‚ï¼Œç›´æ¥ç”¨<code>wx:for</code>é…åˆ<code>goods-item</code>ç»„ä»¶ä¸å°±å¯ä»¥å®ç°äº†å˜›ã€‚ç”±äºå†å²åŸå› ï¼Œé¡¹ç›®ä¸­æœ‰å¾ˆå¤šå•†å“åˆ—è¡¨çš„åœºæ™¯ä¸”æ ·å¼å„æ ·ï¼Œä¼°è®¡ä¸ºäº†ç»Ÿä¸€ç»´æŠ¤å°±æŠŠæ‰€æœ‰åœºæ™¯éƒ½æ•´åˆå…¥ä¸€ä¸ªå…¬å…±ç»„ä»¶é€ æˆäº†ç°åœ¨è¿™æ¨¡æ ·ã€‚å½“ç„¶å…¬å…±ç»„ä»¶æŠ½å–å¤ç”¨å¯ä»¥é¿å…å¾ˆå¤šé€ è½®å­é‡å¤å·¥ä½œï¼Œä½†æ˜¯å¦‚æœæ¯ä¸€ä¸ªåœºæ™¯éƒ½è¦é‡æ–°å†™çš„è¯é‚£å°±ä¸èƒ½ç§°ä¹‹ä¸ºå…¬å…±ç»„ä»¶ï¼Œä¸èƒ½ä¸ºäº†æŠ½å–ç»„ä»¶è€ŒæŠ½å–ã€‚å½“ç„¶è¿™ä¸åœ¨æœ¬æ–‡çš„æ¢è®¨èŒƒå›´å†…ï¼Œå°±ä¸æ·±ç©¶å•¦ï½</p>
<p>å†çœ‹çœ‹å°ç¨‹åºè·³è½¬é€»è¾‘ï¼š</p>
<p>åœ¨ç”¨æˆ·ç‚¹å‡»å•†å“å¡ç‰‡çš„æ—¶å€™è§¦å‘<code>goods-item</code>ç»„ä»¶æ ¹èŠ‚ç‚¹çš„<code>bind:tap</code>äº‹ä»¶ï¼Œç»‘å®šçš„äº‹ä»¶ä¼šè¿›è¡ŒåŸ‹ç‚¹æ•°æ®è·å–å¹¶ä¸ŠæŠ¥ï¼Œç„¶ååˆ©ç”¨é¡¹ç›®å°è£…çš„ <strong>Navigator</strong> è¿›è¡Œå°ç¨‹åºè·³è½¬ã€‚</p>
<p>ä»ä»£ç å±‚é¢çœ‹è·¯ç”±çš„è·³è½¬æ²¡æœ‰é—®é¢˜ï¼Œå°è£…çš„ <strong>Navigator</strong> åœ¨é¡¹ç›®å…¶ä»–åœ°æ–¹ä¹Ÿéƒ½ç”¨çš„æ²¡é—®é¢˜ï¼Œä¸ä¼šå‡ºç°å¤šæ¬¡è·³è½¬çš„æƒ…å†µã€‚å› æ­¤æ’é™¤æ˜¯é¡¹ç›®ä¸­å°è£…çš„ <strong>Navigator</strong> å¼•èµ·çš„é—®é¢˜ã€‚</p>
<p>ä»ä½“éªŒä¸Šçœ‹ï¼Œæ¯æ¬¡èƒ½å¤ç°ä¸¤æ¬¡è·³è½¬çš„æƒ…å†µä¸­ï¼Œç‚¹å‡»å•†å“å¡ç‰‡è·³è½¬è‡³å•†å“è¯¦æƒ…é¡µåˆ°é¡µé¢å±•ç¤ºè€—æ—¶å¾ˆé•¿ï¼ŒæœŸé—´ä¼šæœ‰ç©ºç™½é¡µé¢çš„æƒ…å†µï¼Œä¸”ä¸¤æ¬¡è·³è½¬ä¹Ÿåªä¼šå‡ºç°åœ¨ç¬¬ä¸€æ¬¡è¿›å…¥å•†å“è¯¦æƒ…é¡µï¼Œç”¨çœŸæœºé«˜æ€§èƒ½æœºæ¨¡æ‹Ÿçš„æ—¶å€™åˆå¾ˆéš¾å¤ç°ã€‚å¦‚æœæ”¹ç”¨è·³è½¬è‡³é‚£äº›å†…å®¹ç›¸å¯¹ç®€å•çš„é¡µé¢ï¼Œè·³è½¬é€Ÿåº¦å¾ˆå¿«ä¸”é¡µé¢æ¸²æŸ“ä¹Ÿå¿«ï¼Œè¿™æ—¶å°±å‡ ä¹å¤ç°ä¸äº†å¤šæ¬¡è·³è½¬çš„åœºæ™¯ã€‚</p>
<h2 id="åŸå› æ€»ç»“"><a href="#åŸå› æ€»ç»“" class="headerlink" title="åŸå› æ€»ç»“"></a>åŸå› æ€»ç»“</h2><p>ä¸ºäº†æŸ¥çœ‹å„ä¸ªæ—¶é—´ç‚¹ï¼Œæˆ‘åœ¨è·¯ç”±è·³è½¬çš„ <strong>complete</strong> å›è°ƒä¸­ä»¥åŠåœ¨é¡µé¢çš„ <strong>onLoad</strong>ï¼Œ<strong>onShow</strong> å’Œ <strong>onReady</strong> ä¸‰ä¸ªç”Ÿå‘½å‘¨æœŸä¸­åˆ†åˆ«è¾“å‡ºå½“å‰çš„æ—¶é—´ç‚¹åšå¯¹æ¯”ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="view2.png"></p>
<p>ç”±ä¸Šå¯ä»¥çœ‹å‡ºåœ¨é¡µé¢ <strong>onReady</strong> çš„ä¹‹å‰è¿˜ä¼šæ‰§è¡Œæ–°çš„è·¯ç”±è·³è½¬å¼•èµ·æ–°ä¸€è½®çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¹¶åœ¨æœ€åé¡µé¢æ‰§è¡Œäº†ä¸¤æ¬¡ <strong>onReady</strong> ç”Ÿå‘½å‘¨æœŸï¼Œå› æ­¤å¼•èµ·äº†è·¯ç”±çš„äºŒæ¬¡è·³è½¬ã€‚</p>
<p>åœ¨å°ç¨‹åºä¸­ï¼Œè™½ç„¶æ¯ä¸ªé¡µé¢éƒ½æœ‰ä¸€ä¸ªæ¸²æŸ“é¡µé¢çš„ WebView çº¿ç¨‹ï¼Œä½†æ˜¯è¿è¡Œè„šæœ¬çš„é€»è¾‘å±‚çº¿ç¨‹æ˜¯å…±äº«çš„ï¼Œå› æ­¤è™½ç„¶é¡µé¢è°ƒæ•´ä¼šåˆ‡æ¢é¡µé¢å±‚çº§ï¼Œä½†æˆ‘ä»¬çš„ä¸šåŠ¡ä»£ç æ‰§è¡Œä¸Šä¸‹æ–‡ä¾æ—§åœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸­ã€‚æ‰€ä»¥è·³è½¬è¿‡ç¨‹ä¸­åŸæœ¬æ‰§è¡Œçš„é€»è¾‘ä¼šç»§ç»­æ‰§è¡Œã€‚è€ƒè™‘åˆ°å¾®ä¿¡ä¾§åº”è¯¥åœ¨è·³è½¬åšäº†èŠ‚æµå¤„ç†é¿å…äº†ç‚¹å‡»å‡ æ¬¡è·³è½¬å‡ æ¬¡çš„æƒ…å†µï¼Œæ‰€ä»¥è¿ç»­ç‚¹å‡»è§¦å‘è·³è½¬åªæœ‰é‚£äº›æœªèƒ½è¢«èŠ‚æµæ‹¦æˆªçš„è¯·æ±‚å°†ä¼šå¼•èµ·å†æ¬¡è·³è½¬ã€‚</p>
<p>è‡³äºä¸ºä»€ä¹ˆè·³è½¬å¿«çš„åœºæ™¯ä¸ä¼šå¤šæ¬¡è·³è½¬ï¼Œæ˜¯å› ä¸ºåœ¨è·³è½¬è¿‡ç¨‹ä¸­ï¼Œæ–°é¡µé¢èƒ½æ›´å¿«çš„ readyï¼Œä½¿å¾—æˆ‘ä»¬å¯èƒ½è§¦å‘å¤šæ¬¡ç‚¹å‡»è·³è½¬çš„æ—¶æœºå˜çŸ­ã€‚ç®€å•æ¥è¯´å°±æ˜¯æœ¬æ¥åœ¨æ—§é¡µé¢è¢«åˆ‡æ¢ç§»é™¤åˆ°æ–°é¡µé¢å‡†å¤‡å¥½çš„ 0.5s å†…ç”¨æˆ·éƒ½èƒ½ç‚¹å‡»è§¦å‘è·¯ç”±è·³è½¬ï¼Œç°åœ¨åªæœ‰ 0.1s çš„æ—¶é—´ã€‚</p>
<h1 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h1><h2 id="æ–¹æ¡ˆä¸€ï¼šä¸šåŠ¡ä¾§è°ƒç”¨æ—¶å¢åŠ é˜²æŠ–-debounce"><a href="#æ–¹æ¡ˆä¸€ï¼šä¸šåŠ¡ä¾§è°ƒç”¨æ—¶å¢åŠ é˜²æŠ–-debounce" class="headerlink" title="æ–¹æ¡ˆä¸€ï¼šä¸šåŠ¡ä¾§è°ƒç”¨æ—¶å¢åŠ é˜²æŠ– debounce"></a>æ–¹æ¡ˆä¸€ï¼šä¸šåŠ¡ä¾§è°ƒç”¨æ—¶å¢åŠ é˜²æŠ– debounce</h2><p>æ­¤æ–¹æ¡ˆæ˜¯å¤„ç†æ­¤ç±»é—®é¢˜æœ€å®¹æ˜“æƒ³åˆ°çš„æ–¹æ¡ˆï¼Œé€šè¿‡å¯¹ç‚¹å‡»å•†å“å¡ç‰‡äº‹ä»¶æ·»åŠ é˜²æŠ–ï¼Œæ¥å‡å°‘ç”¨æˆ·å› ä¸ºè¿ç»­å¤šæ¬¡ç‚¹å‡»è§¦å‘å°ç¨‹åºè·¯ç”±è·³è½¬çš„å¯èƒ½æ€§ã€‚æ­¤æ–¹æ¡ˆåœ¨å¾ˆå¤šå…¶ä»–ç±»ä¼¼çš„åœºæ™¯å¾ˆå¸¸ç”¨ï¼Œåœ¨æ­¤åœºæ™¯ä¸­è¿™æ–¹æ³•å¯ä»¥å¾ˆå¤§ç¨‹åº¦å‡å°‘é—®é¢˜çš„å¤ç°ï¼Œä½†æ˜¯åœ¨å°ç¨‹åºå¼€å‘è€…å·¥å…·ä¸Šæˆ–è€…æ˜¯æ€§èƒ½å·®çš„æœºå‹ä¸Šè¿˜æ˜¯æ— æ³•å…¨éƒ¨é¿å…ï¼Œä¸”è®¾ç½®çš„æ—¶é—´é—´éš”å¤šå°‘ä¹Ÿæ²¡æœ‰æ ‡å‡†ã€‚å½“ç„¶æˆ‘ä»¬å¯ä»¥è®¾ç½®é˜²æŠ–é—´éš”å¾ˆå¤§è¾¾åˆ°æ¯æ¬¡å°½é‡è§¦å‘ä¸€æ¬¡è·¯ç”±è·³è½¬çš„ç›®çš„ï¼Œæ¯•ç«Ÿè¿™é‡Œæˆ‘ä»¬çš„ç›®çš„æ˜¯è·³è½¬è‡³ç›®æ ‡é¡µé¢ä¸åº”è¯¥æœ‰ç‚¹å‡»ä¸¤æ¬¡çš„æƒ…å†µï¼Œä½†æ˜¯å¦‚æ­¤æš´åŠ›çš„æ–¹å¼è¿˜æ˜¯ä¸å¤ªå‹å¥½ï¼Œä¸”è®¾ç½®äº†é˜²æŠ–ä¼šå¯¼è‡´åŸæœ¬ç‚¹å‡»äº‹ä»¶ä¸­çš„åŸ‹ç‚¹ä¸ŠæŠ¥ä»¥åŠå…¶ä»–æ“ä½œè®°å½•ä¸å‡†ç¡®ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">onGoodsItemTap = debounce(function (this: GoodsItem, e) &#123;</span><br><span class="line">  // å•†å“ä¿¡æ¯åˆ¤æ–­ &amp;&amp; è·å–åŸ‹ç‚¹æ•°æ® &amp;&amp; å°ç¨‹åºè·³è½¬å‚æ•°paramsè·å–</span><br><span class="line">  doSomething()</span><br><span class="line">  // è·¯ç”±è·³è½¬</span><br><span class="line">  routeJump();</span><br><span class="line">&#125;, 1000);</span><br></pre></td></tr></table></figure>

<h2 id="æ–¹æ¡ˆäºŒï¼šæ·»åŠ è·³è½¬é”-Lock"><a href="#æ–¹æ¡ˆäºŒï¼šæ·»åŠ è·³è½¬é”-Lock" class="headerlink" title="æ–¹æ¡ˆäºŒï¼šæ·»åŠ è·³è½¬é” Lock"></a>æ–¹æ¡ˆäºŒï¼šæ·»åŠ è·³è½¬é” Lock</h2><p>å’Œæ–¹æ¡ˆä¸€é™åˆ¶è§¦å‘æ—¶æœºä¸åŒï¼Œæ–¹æ¡ˆäºŒé€šè¿‡æ·»åŠ é” Lock å¯¹è·³è½¬èƒ½åŠ›è¿›è¡Œé™åˆ¶ï¼Œä¿è¯æ— è®ºä¸šåŠ¡æ–¹è§¦å‘è°ƒç”¨å‡ æ¬¡è·¯ç”±è·³è½¬ï¼Œæ¯æ¬¡éƒ½åªæ‰§è¡Œä¸€æ¬¡ã€‚</p>
<p>ä¸ºäº†å¯¹å°ç¨‹åºè·³è½¬è¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼Œå¯ä»¥åœ¨é¡¹ç›®ä¸­ç»Ÿä¸€å°è£… <strong>MyNavigator</strong> ç±»ï¼Œå†…å«å°ç¨‹åºæ‰€æœ‰çš„è·³è½¬åŒ…æ‹¬ <strong>switchTab</strong>ã€<strong>reLaunch</strong>ã€<strong>redirectTo</strong>ã€<strong>navigateTo</strong>ã€<strong>navigateBack</strong> ç­‰ã€‚åœ¨å°ç¨‹åºè¿›è¡Œè·³è½¬çš„è¿‡ç¨‹ä¸­é˜»æ­¢å…¶ä»–è·³è½¬è¡Œä¸ºï¼Œåªæœ‰åœ¨æ–°é¡µé¢ onShow å®Œæˆåæ‰å…è®¸å°ç¨‹åºè¿›è¡Œå…¶ä»–è·³è½¬ã€‚</p>
<p>æ”¹é€  <strong>MyNavigator</strong> ç±»ä½œä¸ºå®ä¾‹å¼•ç”¨ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyNavigator</span> &#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="attr">instance</span>: <span class="literal">undefined</span> | <span class="title class_">MyNavigator</span>;</span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">getInstance</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">instance</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">instance</span> = <span class="keyword">new</span> <span class="title class_">MyNavigator</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">instance</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å¢åŠ å°ç¨‹åºè·³è½¬é”ï¼Œåªæœ‰isLock ä¸ºfalseçš„æ—¶å€™æ‰å¯ä»¥è·³è½¬ï¼Œåœ¨æ‰§è¡Œè·¯ç”±è·³è½¬æ—¶è®¾ç½®ä¸ºtrueï¼Œåœ¨æ–°é¡µé¢onShowçš„æ—¶å€™é‡ç½®å…¶ä¸ºfalse</span></span><br><span class="line">  isLock = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// otherFunction start</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="comment">// otherFunction end</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">MyNavigator</span>.<span class="title function_">getInstance</span>();</span><br></pre></td></tr></table></figure>

<p>æ—¢ç„¶æœ‰å…³é”æ“ä½œå¿…ç„¶å°±éœ€è¦æœ‰å¼€é”æ“ä½œã€‚ä¸€å¼€å§‹è€ƒè™‘æ˜¯åœ¨è·¯ç”±å®Œæˆè·³è½¬çš„ <strong>complete</strong> å›è°ƒä¸­å¼€é”ï¼Œä½†æ˜¯ä»ç°è±¡ä¸­å¯ä»¥çœ‹è§ï¼Œå›è°ƒ <strong>complete</strong> çš„æ—¶æœºå’Œé¡µé¢ <strong>onReady</strong> ä¹‹é—´å¯èƒ½å­˜åœ¨è¾ƒå¤§æ—¶é—´å·®ï¼Œè¿™æœŸé—´è¿˜æ˜¯å¯èƒ½å¼•å‘è·¯ç”±è·³è½¬ï¼Œæ‰€ä»¥éœ€è¦å°†å¼€é”æ“ä½œæ—¶æœºå»¶åã€‚åœ¨é¡µé¢çš„è£…é¥°å™¨ä¸­å¯¹ <strong>onShow</strong> æ–¹æ³•å¢åŠ <code>navigator.isLock = false;</code>å®ç°åœ¨æ¯ä¸€ä¸ªé¡µé¢ onShow çš„æ—¶å€™éƒ½èƒ½å¼€é”æ”¯æŒå°ç¨‹åºåç»­è·³è½¬ã€‚</p>
<p>tipsï¼šä¸Šè¿°åœ¨é¡µé¢ <strong>onShow</strong> ç”Ÿå‘½å‘¨æœŸå¼€é”èƒ½å¤Ÿæ”¯æŒå°ç¨‹åºå†…éƒ¨è·³è½¬ï¼Œä½†æ˜¯å¦‚æœè·³è½¬çš„ç›®æ ‡æ˜¯å…¶ä»–å°ç¨‹åºçš„è¯é”å°±æ— æ³•åŠæ—¶æ‰“å¼€ï¼Œæ‰€ä»¥éœ€è¦åœ¨ <code>wx.navigateToMiniProgram</code> æ–¹æ³•çš„ <strong>complete</strong> å›è°ƒæ–¹æ³•ä¸­å°†é”æ‰“å¼€ã€‚</p>
<p>æ­¤æ–¹æ¡ˆèƒ½å¤Ÿä¿è¯é¡¹ç›®æ¯æ¬¡åœ¨è·³è½¬ç›®æ ‡é¡µé¢å±•ç¤ºä¹‹å‰æ— æ³•è¿›è¡Œå…¶ä»–è·³è½¬ï¼Œæ‰€ä»¥ä¸ä¼šå­˜åœ¨å¤šæ¬¡è·³è½¬çš„æƒ…å†µï¼Œè·³è½¬åŠ é”æ–¹æ¡ˆåœ¨åŠ é”è¿™æ­¥æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœå¼€é”å¤±è´¥å°±ä¼šå¼•å‘ä¸å¯é¢„ä¼°çš„é—®é¢˜ï¼Œæ¯”å¦‚ä¸‹é¢ä¸¤ç§åœºæ™¯ã€‚</p>
<p>å¦‚æœé¡¹ç›®åŸæœ¬æ²¡æœ‰ç»Ÿä¸€çš„è£…é¥°å™¨çš„è¯ï¼Œå°±éœ€è¦åœ¨æ¯ä¸€ä¸ªé¡µé¢çš„ <strong>onShow</strong> ç”Ÿå‘½å‘¨æœŸä¸­åŠ å¼€é”çš„æ­¥éª¤ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸åˆç†çš„ã€‚å¦‚æœé¡¹ç›®ä¸­æœ‰é¡µé¢æ²¡æœ‰ä½¿ç”¨è£…é¥°å™¨çš„è¯ä½†åˆæœ‰é¡µé¢è·³è½¬è‡³æ­¤é¡µé¢ï¼Œé‚£ä¹ˆä¹Ÿä¼šå¯¼è‡´é¡¹ç›®å¤±å»è·³è½¬èƒ½åŠ›ï¼Œä»è€Œå¯¼è‡´ä¸å¯é¢„ä¼°çš„åæœã€‚æ­¤å¤–ç”±äºå¼€é”æ“ä½œåŠ åœ¨è£…é¥°å™¨ä¸­ï¼Œå¦‚æœè£…é¥°å™¨ä¸­çš„å…¶ä»–é€»è¾‘æŠ¥é”™å¯¼è‡´é€»è¾‘æ‰§è¡Œåˆ°ä¸äº†å¼€é”æ“ä½œè¿™ä¸€æ­¥ï¼Œé‚£ä¹ˆè·³è½¬åŠŸèƒ½ä¹Ÿå°†å¤±æ•ˆã€‚</p>
<p>å¦‚æœè·³è½¬å› ä¸ºå…¶ä»–ä¸å¯æ§å› ç´ å¯¼è‡´å¤±è´¥ï¼Œè€Œä¸€ç›´æ²¡æ³•è¿›å…¥æ–°é¡µé¢è§¦å‘ <strong>onShow</strong> ç”Ÿå‘½å‘¨æœŸæ‰§è¡Œå¼€é”æ“ä½œï¼Œé‚£ä¹ˆå°ç¨‹åºå°±å°†åœç•™åœ¨é¡µé¢ä¸”å¤±å»äº†æ‰€æœ‰è·³è½¬èƒ½åŠ›ã€‚ï¼ˆè™½ç„¶è¿™ç§æƒ…å†µç†è®ºä¸Šä¸å­˜åœ¨ï¼Œä½†æ˜¯è°èƒ½ä¿è¯å¾®ä¿¡åŸºç¡€è·³è½¬åŠŸèƒ½ä¸ä¼šå‡ºä¸ªé—®é¢˜å•¥çš„ï½ï¼‰</p>
<h2 id="æ–¹æ¡ˆä¸‰ï¼šåˆ†åŒ…å¼‚æ­¥åŒ–"><a href="#æ–¹æ¡ˆä¸‰ï¼šåˆ†åŒ…å¼‚æ­¥åŒ–" class="headerlink" title="æ–¹æ¡ˆä¸‰ï¼šåˆ†åŒ…å¼‚æ­¥åŒ–"></a>æ–¹æ¡ˆä¸‰ï¼šåˆ†åŒ…å¼‚æ­¥åŒ–</h2><p><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/subpackages/async.html">è·¨åˆ†åŒ…è‡ªå®šä¹‰ç»„ä»¶å¼•ç”¨</a>ï¼šä¸€ä¸ªåˆ†åŒ…ä½¿ç”¨å…¶ä»–åˆ†åŒ…çš„è‡ªå®šä¹‰ç»„ä»¶æ—¶ï¼Œç”±äºå…¶ä»–åˆ†åŒ…è¿˜æœªä¸‹è½½æˆ–æ³¨å…¥ï¼Œå…¶ä»–åˆ†åŒ…çš„ç»„ä»¶å¤„äºä¸å¯ç”¨çš„çŠ¶æ€ã€‚é€šè¿‡ä¸ºå…¶ä»–åˆ†åŒ…çš„è‡ªå®šä¹‰ç»„ä»¶è®¾ç½®å ä½ç»„ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæ¸²æŸ“å ä½ç»„ä»¶ä½œä¸ºæ›¿ä»£ï¼Œåœ¨åˆ†åŒ…ä¸‹è½½å®Œæˆåå†è¿›è¡Œæ›¿æ¢ã€‚</p>
<p>ä»ä¸Šé¢çš„é—®é¢˜åŸå› åˆ†æä¸­å¯ä»¥çŸ¥é“ï¼Œå› ä¸ºå°ç¨‹åºæ‰§è¡Œè·³è½¬åˆ°æ–°é¡µé¢å±•ç¤ºè€—æ—¶é•¿ï¼Œåœ¨è¿™æœŸé—´ç”¨æˆ·å¯ä»¥ä¸€ç›´ç‚¹å‡»åŸé¡µé¢çš„è·³è½¬æŒ‰é’®ï¼Œå› ä¸ºæ— æ³•è¢«ç¬¬ä¸€æ¬¡èŠ‚æµä»è€Œå¼•å‘äºŒæ¬¡è·³è½¬ã€‚æ‰€ä»¥å¯ä»¥ä»è¿™æ–¹é¢ä¼˜åŒ–å…¥æ‰‹ï¼Œæé«˜é¡µé¢è·³è½¬æ€§èƒ½ã€‚</p>
<p>å•†å“è¯¦æƒ…é¡µå› ä¸ºå†…å®¹å¤šä¸”æ‚ï¼Œé¡¹ç›®å°†å…¶æŠ½å–ä¸ºç‹¬ç«‹åˆ†åŒ…ï¼Œé¡µé¢ä¸­å¼•å…¥äº†å¾ˆå¤šå­ç»„ä»¶ï¼Œå„ä¸ªå­ç»„ä»¶åˆä¾èµ–å¾ˆå¤šå…¶ä»–ç»„ä»¶ï¼Œå› ä¸ºå¤æ‚çš„ä¾èµ–å…³ç³»ï¼Œæ‰€ä»¥åœ¨ä¸»åŒ…ä¸­è·³è½¬è¿›å…¥æ­¤ç‹¬ç«‹åˆ†åŒ…é¡µé¢åŠ è½½æ¸²æŸ“è€—æ—¶ç›¸å¯¹é•¿ä¸”ç›®æ ‡é¡µæ¸²æŸ“æ—¶é—´ä¹…ã€‚</p>
<p>è€ƒè™‘åˆ°ä¸€äº›ç»„ä»¶åŠ è½½å®Œæˆéœ€è¦ä¾èµ–å…¶ä»–ç»„ä»¶çš„åŠ è½½ï¼Œæˆ‘ä»¬å¯ä»¥ç»“åˆåˆ†åŒ…å¼‚æ­¥çš„ç‰¹æ€§è¿›è¡Œè°ƒæ•´ã€‚å› æ­¤å°†ç›®æ ‡é¡µçš„å†…å®¹å’Œæ¶‰åŠåˆ°çš„ç»„ä»¶ç§»å…¥å¯¹åº”åˆ†åŒ…ï¼Œé¡µé¢åŠ è½½æ—¶å¦‚æœåˆ†åŒ…æœªä¸‹è½½æˆ–æ³¨å…¥å°±ç”¨å ä½ç»„ä»¶æ›¿ä»£ï¼Œä»è€Œå¤§å¹…å‡å°‘é¡µé¢é¦–æ¬¡æ¸²æŸ“æ—¶é—´ï¼Œå³å¯ç”¨æ—¶é—´ã€‚æ­¤æ–¹æ¡ˆä¸ä»…èƒ½è§£å†³å¤šæ¬¡è·³è½¬é—®é¢˜å¹¶ä¸”è¿˜æå‡äº†ç”¨æˆ·ä½“éªŒï¼Œæ›´ä¸ºå¯å–ã€‚</p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æœ¬æ–‡æä¾›äº†ä¸‰ç§å°ç¨‹åºå¤šæ¬¡è·³è½¬çš„è§£å†³æ€è·¯ï¼š</p>
<ul>
<li>ç¬¬ä¸€ç§æ˜¯åœ¨ä¸šåŠ¡ä¾§æ·»åŠ ç‚¹å‡»è§¦å‘çš„é˜²æŠ–ï¼Œé€šè¿‡æ§åˆ¶è·³è½¬è¯·æ±‚å‘èµ·é¿å…å¤šæ¬¡è·³è½¬çš„æƒ…å†µã€‚</li>
<li>ç¬¬äºŒç§æ˜¯ä¸ºè·³è½¬è¡Œä¸ºæ·»åŠ é”ï¼Œé€šè¿‡å¼€å…³é”å®ç°æ–°é¡µé¢å±•ç¤ºä¹‹å‰æ— æ³•è¿›è¡Œå…¶ä»–å°ç¨‹åºè·³è½¬é¿å…å¤šæ¬¡è·³è½¬ã€‚</li>
<li>ç¬¬ä¸‰ç§æ˜¯é€šè¿‡åˆ†åŒ…å¼‚æ­¥åŒ–æé«˜è·³è½¬æ€§èƒ½é¿å…å¤šæ¬¡è·³è½¬ã€‚</li>
</ul>
<p>ä¸ä»…é™äºå°ç¨‹åºè·¯ç”±è·³è½¬ï¼Œè¿™ä¸‰ç§æ€è·¯ä¹Ÿå¯åº”ç”¨äºå…¶ä»–æ¶‰åŠå¤šæ¬¡è§¦å‘çš„åœºæ™¯ã€‚å¸Œæœ›æœ¬æ–‡å¯¹å®è·µä¸­é‡åˆ°ç±»ä¼¼é—®é¢˜çš„ä½ èƒ½æœ‰å¯å‘ï¼</p>
]]></content>
      <categories>
        <category>å°ç¨‹åº</category>
      </categories>
      <tags>
        <tag>å°ç¨‹åº</tag>
        <tag>è·¯ç”±è·³è½¬</tag>
      </tags>
  </entry>
  <entry>
    <title>å‡ ä¸ªæ¶‰åŠå˜åŒ–çš„CSSå±æ€§çŸ¥å¤šå°‘</title>
    <url>/2022/11/02/%E5%87%A0%E4%B8%AA%E6%B6%89%E5%8F%8A%E5%8F%98%E5%8C%96%E7%9A%84CSS%E5%B1%9E%E6%80%A7%E7%9F%A5%E5%A4%9A%E5%B0%91/</url>
    <content><![CDATA[<p>æœ¬æ–‡ä¸»è¦å¯¹ CSS ä¸­çš„ <strong>transform</strong>ã€<strong>translate</strong>ã€<strong>transition</strong> å’Œ <strong>animation</strong> è¿™äº›å®¹æ˜“æ··æ·†çš„å±æ€§è¿›è¡Œæ¢³ç†å½’çº³ï¼Œå¸Œæœ›å¸®ä½ ä¸€æ–‡æå®šè¿™äº›å±æ€§ã€‚</p>
<span id="more"></span>

<h1 id="Transform"><a href="#Transform" class="headerlink" title="Transform"></a>Transform</h1><p>CSS ä¸­ <strong>transform</strong> å±æ€§å…è®¸å…ƒç´ è¿›è¡Œæ—‹è½¬ <em>rotate()</em> ï¼Œç¼©æ”¾ <em>scale()</em> ï¼Œå€¾æ–œ <em>skew()</em> ï¼Œå¹³ç§» <em>translate()</em> æˆ–çŸ©é˜µ <em>matrix()</em> ç­‰æ“ä½œï¼Œé€šè¿‡ä¿®æ”¹ CSS è§†è§‰æ ¼å¼åŒ–æ¨¡å‹çš„åæ ‡ç©ºé—´å®ç°ã€‚</p>
<p>è¯­æ³•ï¼š<code>transform: none | &lt;transform-function&gt;</code></p>
<p>å¤åˆå˜åŒ–åº”ç”¨é¡ºåºï¼šä»å³åˆ°å·¦ã€‚</p>
<p><strong>transform-origin</strong> å±æ€§å…è®¸è®¾ç½® <strong>transform</strong> å˜åŒ–çš„åŸç‚¹ã€‚å¯ä»¥æœ‰ 1-3 ä¸ªå€¼åˆ†åˆ«ä»£è¡¨ Xï¼ŒYï¼ŒZ è½´çš„åç§»é‡ï¼Œå…¶ä¸­ Xï¼ŒY è½´å¯ä»¥ä¸ºå…·ä½“é•¿åº¦ï¼Œç™¾åˆ†æ¯”æˆ–è€…æ˜¯å…³é”®å­—ï¼ŒZ è½´åªèƒ½æ˜¯å…·ä½“é•¿åº¦ã€‚å¦‚æœæ²¡å€¼åˆ™é»˜è®¤ä¸º <em>center</em> ã€‚</p>
<p>å…³é”®å­—æœ‰: leftï¼Œtopï¼Œcenterï¼Œrightï¼Œbottomã€‚</p>
<p><strong>transform</strong> å¸¸è§ç”¨æ³•ï¼š</p>
<ol>
<li>å±…ä¸­æ“ä½œ</li>
</ol>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.transform-panel</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>å…ƒç´  <em>hover</em> æ—¶çš„ç‰¹æ®Šå¤„ç†</li>
</ol>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.transform-panel</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  // æ”¾å¤§</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line">  // æ—‹è½¬<span class="number">45</span>åº¦</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">45deg</span>);</span><br><span class="line">  // å‘xã€yè½´åç§»</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">12px</span>, <span class="number">50%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>åŠ¨æ€æ”¹å˜å…ƒç´ å±æ€§å®ç°åŠ¨ç”»</li>
</ol>
<p>ä¸»è¦é€šè¿‡é€»è¾‘æ”¹å˜å…ƒç´ çš„ <strong>transform</strong> çš„å€¼æ¥å®ç°ï¼Œå…·ä½“å¸¸ç”¨åœºæ™¯å¦‚ï¼š</p>
<ul>
<li>å¼¹å¹•æ»‘åŠ¨</li>
<li>å°çƒæ»šåŠ¨</li>
<li>è½®æ’­å±•ç¤º</li>
</ul>
<h1 id="Translate"><a href="#Translate" class="headerlink" title="Translate"></a>Translate</h1><p>CSS ä¸­çš„ <strong>translate</strong> å±æ€§å…è®¸å•ç‹¬å£°æ˜å…ƒç´ çš„å¹³ç§»ï¼Œå¹¶ç‹¬ç«‹äº <strong>transform</strong> å±æ€§ã€‚ç”¨æˆ·ä¸éœ€è¦é€šè¿‡ <strong>transform</strong> å±æ€§å»å£°æ˜ <strong>translate</strong> å‡½æ•°ï¼Œä¹Ÿä¸éœ€è¦è®°ä½å…¶é¡ºåºï¼Œåœ¨å¾ˆå¤šæ¶‰åŠå¹³ç§»çš„åœºæ™¯ä½¿ç”¨æ›´åŠ å‹å¥½ã€‚</p>
<p>translate çš„å€¼å¯ä»¥ä¸º 1-3 ä¸ªå¹³ç§»é‡å€¼æˆ–è€…æ˜¯ <em>none</em> å€¼ï¼Œå¹¶ä¸”å½“å€¼ä¸º 1 ä¸ªæˆ– 2 ä¸ªæ—¶ç­‰åŒäº 2D å¹³ç§»å‡½æ•° <em>translate()</em> ï¼Œå½“å€¼æœ‰ 3 ä¸ªæ—¶ç­‰åŒäº 3D å¹³ç§»å‡½æ•° <em>translate3d()</em> ã€‚</p>
<h1 id="Transition"><a href="#Transition" class="headerlink" title="Transition"></a>Transition</h1><p>CSS ä¸­çš„ <strong>transition</strong> å±æ€§å®šä¹‰äº†å…ƒç´ ä¸åŒçŠ¶æ€çš„è¿‡æ¸¡æ•ˆæœï¼Œæ˜¯ <strong>transition-property</strong>ã€<strong>transition-duration</strong>ã€<strong>transition-timing-function</strong> å’Œ <strong>transition-delay</strong> å±æ€§çš„é›†åˆã€‚å¯ä»¥æŒ‡å®šå¤šä¸ªå±æ€§éœ€ç”¨é€—å·åˆ†éš”ã€‚</p>
<p>è¯­æ³•ï¼š<code>transitionï¼š property name | duration | timing function | delay</code></p>
<p><strong>transition-property</strong> å±æ€§ï¼šæŒ‡å®šåº”ç”¨è¿‡æ¸¡å±æ€§çš„åç§°ã€‚</p>
<ul>
<li>noneï¼š æ²¡æœ‰è¿‡æ¸¡åŠ¨ç”»</li>
<li>allï¼šæ‰€æœ‰è¡¨ç°æ­¤è¿‡æ¸¡åŠ¨ç”»</li>
<li>&lt;ç‰¹å®šå±æ€§&gt;</li>
</ul>
<p><strong>transition-timing-function</strong> å±æ€§ï¼šæè¿°äº†åœ¨è¿‡æ¸¡è¿‡ç¨‹ä¸­çš„å˜åŒ–é€Ÿåº¦ã€‚å¯é€‰å€¼æœ‰ <em>linear</em> | <em>ease</em> | <em>ease-in-out</em> ç­‰ã€‚<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/easing-function">æŸ¥çœ‹æ›´å¤š</a></p>
<p><strong>transition</strong> å¸¸è§ç”¨æ³•ï¼š</p>
<ol>
<li>ä¸ºå…ƒç´ çš„:hovorï¼Œ:active æ·»åŠ åŠ¨ç”»</li>
<li>ç»“åˆ <strong>translate</strong> æ›´åŠ æŸ”å’Œå±•ç¤ºè½®æ’­æ•ˆæœ</li>
</ol>
<h1 id="Animation"><a href="#Animation" class="headerlink" title="Animation"></a>Animation</h1><p>CSS ä¸­çš„ <strong>animation</strong> å±æ€§ç”¨æ¥æŒ‡å®šä¸€ç»„æˆ–å¤šç»„åŠ¨ç”»ï¼Œæ˜¯ <strong>animation-name</strong>ï¼Œ<strong>animation-duration</strong>ï¼Œ<strong>animation-timing-function</strong>ï¼Œ<strong>animation-delay</strong>ï¼Œ<strong>animation-iteration-count</strong>ï¼Œ<strong>animation-direction</strong>ï¼Œ<strong>animation-fill-mode</strong> å’Œ <strong>animation-play-state</strong> çš„é›†åˆã€‚</p>
<p>è¯­æ³•ï¼š<code>animationï¼š@keyframes name | duration | timing-function | delay | iteration-count | direction | fill-mode | play-state</code></p>
<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>æ„ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>animation-name</td>
<td>æŒ‡å®šåŠ¨ç”»åï¼Œç”±@keyframes å®šä¹‰çš„åŠ¨ç”»åºåˆ—</td>
</tr>
<tr>
<td>animation-duration</td>
<td>ä¸€ä¸ªåŠ¨ç”»å‘¨æœŸçš„æ—¶é•¿</td>
</tr>
<tr>
<td>animation-timing-function</td>
<td>å®šä¹‰äºä¸€ä¸ªå…³é”®å¸§åŒºå—çš„ç¼“åŠ¨å‡½æ•°</td>
</tr>
<tr>
<td>animation-delay</td>
<td>åŠ¨ç”»å“åº”å»¶æ—¶</td>
</tr>
<tr>
<td>animation-iteration-count</td>
<td>å¾ªç¯æ¬¡æ•°ï¼Œå¯ä»¥ä¸ºæ•°å­—æˆ–è€… infinite</td>
</tr>
<tr>
<td>animation-direction</td>
<td>æ’­æ”¾æ–¹å‘ï¼Œå¯é€‰å€¼ï¼šnormalï¼Œreverseï¼Œalternateï¼Œalternate-reverse</td>
</tr>
<tr>
<td>animation-fill-mode</td>
<td>åŠ¨ç”»åœ¨æ‰§è¡Œä¹‹å‰å’Œä¹‹åå¦‚ä½•å°†æ ·å¼åº”ç”¨äºå…¶ç›®æ ‡ï¼Œå¯é€‰å€¼ï¼šnoneï¼Œforwardsï¼Œbackwardsï¼Œboth</td>
</tr>
<tr>
<td>animation-play-state</td>
<td>åŠ¨ç”»æ˜¯å¦è¿è¡Œæˆ–è€…æš‚åœï¼Œå¯é€‰å€¼ï¼špausedï¼Œrunning</td>
</tr>
</tbody></table>
<p>åœ¨ <strong>animation</strong> çš„å±æ€§ä½¿ç”¨è¿‡ç¨‹ä¸­éœ€è¦å…ˆåˆ›å»ºå¸¦åç§°çš„ <strong>@keyframes</strong> å…³é”®å¸§è§„åˆ™ï¼Œç„¶åè®¾ç½® <strong>animation-name</strong> ä¸ä¹‹ç›¸åŒ¹é…ã€‚ <strong>@keyframes</strong> å…³é”®å¸§èƒ½æ§åˆ¶ CSS åŠ¨ç”»åºåˆ—ä¸­çš„ä¸­é—´æ­¥éª¤ã€‚ä¸­é—´æ­¥éª¤å–å€¼ï¼šfrom(0%)ï¼Œç™¾åˆ†æ¯”ï¼Œto(100%)ã€‚è¦æ³¨æ„çš„æ˜¯ <em>!important</em> å±æ€§å°†è¢«å¿½ç•¥ã€‚</p>
<p>ä¸€ä¸ªç®€å•çš„èƒŒæ™¯é¢œè‰²å˜åŒ– ğŸŒ°ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.transform-panel</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background</span>: red;</span><br><span class="line">  <span class="attribute">animation</span>: animationDemo <span class="number">5s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> animationDemo &#123;</span><br><span class="line">  <span class="selector-tag">from</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="number">10%</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: blue;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="number">60%</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: green;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: yellow;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>animation</strong> å¸¸ç”¨ä½¿ç”¨åœºæ™¯ï¼š</p>
<ol>
<li>è‡ªåŠ¨æ‰§è¡Œçš„è¿‡æ¸¡åŠ¨ç”»</li>
<li>åˆ©ç”¨ js è§¦å‘åŠ¨ç”»æ‰§è¡Œã€æ”¹å˜åŠ¨ç”»æ•ˆæœã€æ”¹å˜æ¬¡æ•°ç­‰</li>
</ol>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><ul>
<li>ä¸ºäº†æ›´å¥½ç†è§£ï¼Œæˆ‘å¯¹å‡ ä¸ªåè¯æœ‰ä¸ªå®šä¹‰ï¼š<strong>transform</strong> æ˜¯å˜æ¢ã€<strong>translate</strong> æ˜¯å¹³ç§»ã€<strong>transition</strong> æ˜¯å˜æ¢çš„æ•ˆæœã€<strong>animation</strong> æ˜¯åŠ¨ç”»ã€‚</li>
<li><strong>transform</strong> å¹¶ä¸æ˜¯ä¸€ç§åŠ¨ç”»ï¼Œè¦å®ç°åŠ¨ç”»éœ€è¦é…åˆ <strong>transition</strong> å’Œ <strong>animation</strong>ã€‚</li>
<li><strong>translate</strong> æ˜¯ <em>translate()</em> å‡½æ•°ç‹¬ç«‹å‡ºæ¥çš„ CSS å±æ€§</li>
<li><strong>transition</strong> çš„åŠ¨ç”»åªæœ‰å¼€å§‹å’Œç»“æŸçŠ¶æ€ï¼Œæ²¡æœ‰ä¸­é—´æ€ï¼Œ<strong>animation</strong> å¯ä»¥å®šä¹‰åŠ¨ç”»ä¸­é—´æ€ã€‚</li>
<li><strong>transition</strong> çš„åŠ¨ç”»éœ€è¦è§¦å‘äº‹ä»¶å»æ‰§è¡Œçš„ï¼Œ<strong>animation</strong> åŠ¨ç”»ä¸éœ€è¦è§¦å‘å¯ä»¥è‡ªå®šä¹‰ç”šè‡³æ— é™æ‰§è¡Œã€‚</li>
<li>ç»“åˆ js åŠ¨æ€æ”¹å˜å±æ€§å¯ä»¥ä¸°å¯Œæ•ˆæœã€‚</li>
</ul>
]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>transform</tag>
        <tag>translate</tag>
        <tag>transition</tag>
        <tag>animation</tag>
      </tags>
  </entry>
  <entry>
    <title>å®æˆ˜ä¸­äº†è§£useRef</title>
    <url>/2022/09/27/%E5%AE%9E%E6%88%98%E4%B8%AD%E4%BA%86%E8%A7%A3useRef/</url>
    <content><![CDATA[<p>åœ¨ React æ•°æ®æµä¸­ï¼Œprops æ˜¯çˆ¶å­ç»„ä»¶äº¤äº’çš„å”¯ä¸€æ–¹å¼ï¼Œè¦ä¿®æ”¹ä¸€ä¸ªå­ç»„ä»¶åªèƒ½é€šè¿‡æ”¹å˜ props é‡æ–°æ¸²æŸ“ã€‚è€Œ refs æä¾›äº†å¦ä¸€ç§æ–¹å¼ï¼Œå…è®¸æˆ‘ä»¬æ“ä½œ DOM å…ƒç´ å’Œç»„ä»¶å®ä¾‹ï¼ŒåŠ Refs æä¾›äº†ä¸€ç§è·å–åœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­ç”Ÿæˆçš„ DOM èŠ‚ç‚¹å’Œ React å…ƒç´ çš„æ–°æ–¹å¼ã€‚</p>
<span id="more"></span>

<h1 id="DOM-å’Œ-Refs"><a href="#DOM-å’Œ-Refs" class="headerlink" title="DOM å’Œ Refs"></a>DOM å’Œ Refs</h1><p>React ä¸­æœ‰ä¸¤ç§åˆ›å»º ref çš„æ–¹å¼<code>createRef()</code>å’Œ<code>useRef()</code>ï¼Œæœ¬æ–‡åªé’ˆå¯¹åè€…è¿›è¡Œä»‹ç»ã€‚</p>
<p><code>const ref = useRef(initValue)</code></p>
<p>ä¸Šé¢è¿™ä¸€è¡Œå°±æ˜¯ useRef çš„ç”¨æ³•å•¦ï¼Œåˆ«çœ‹ä»–ç®€å•ï¼Œé‡Œé¢å¯æœ‰ä¸å°‘ç„æœºï½</p>
<p>æŒ‰ç…§ React å®˜æ–¹æ–‡æ¡£çš„ä»‹ç»ï¼ŒuseRef è¿”å›äº†ä¸€ä¸ªå¯å˜å¯¹è±¡ï¼Œå…¶.current å±æ€§è¢«å…¥å‚ initValue åˆå§‹åŒ–ï¼Œè¿”å›çš„å€¼å°†ä¿å­˜åœ¨ç»„ä»¶çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸå†…ã€‚</p>
<h1 id="useRef-çš„å‡ ç§ç”¨æ³•"><a href="#useRef-çš„å‡ ç§ç”¨æ³•" class="headerlink" title="useRef()çš„å‡ ç§ç”¨æ³•"></a>useRef()çš„å‡ ç§ç”¨æ³•</h1><ul>
<li>å­˜å‚¨å€¼ï¼Œç±»ä¼¼å®ä¾‹å˜é‡</li>
<li>ç»“åˆ forwardRef å’Œ useImperativeHandle hook å®ç°å‡½æ•°ç»„ä»¶ ref è½¬å‘</li>
<li>è¿æ¥ DOMï¼Œè¿™é‡Œå¯æœ‰å‘å–”ï½</li>
</ul>
<h2 id="ç”¨æ³•ä¸€ï¼šå€¼å­˜å‚¨"><a href="#ç”¨æ³•ä¸€ï¼šå€¼å­˜å‚¨" class="headerlink" title="ç”¨æ³•ä¸€ï¼šå€¼å­˜å‚¨"></a>ç”¨æ³•ä¸€ï¼šå€¼å­˜å‚¨</h2><p>å› ä¸º useRef åœ¨ç»„ä»¶æ¯æ¬¡ render åè¿”å›å€¼éƒ½æ˜¯åŒä¸€ä¸ªï¼Œæ‰€ä»¥å®ƒå¯ä»¥ç”¨æ¥å­˜å‚¨ä¸€äº›åœ¨ç»„ä»¶ç”Ÿå‘½å‘¨æœŸå†…éƒ½ä¸ä¼šå˜åŒ–çš„å€¼ã€‚å¯ä»¥æŠŠå®ƒç†è§£æˆå…¨å±€çš„ä¸€ä¸ªå˜é‡ã€‚</p>
<p>å®šä¹‰ï¼š<code>const myRef = useRef(initValue)</code></p>
<p>ä½¿ç”¨ï¼š<code>console.log(myRef.current)</code></p>
<h2 id="ç”¨æ³•äºŒï¼šè½¬å‘"><a href="#ç”¨æ³•äºŒï¼šè½¬å‘" class="headerlink" title="ç”¨æ³•äºŒï¼šè½¬å‘"></a>ç”¨æ³•äºŒï¼šè½¬å‘</h2><p>ä½¿ç”¨ forwardRef åŒ…è£¹å‡½æ•°ç»„ä»¶å¹¶è·å–å®ä¾‹</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">RefGuideChild</span>: <span class="title class_">React</span>.<span class="property">FC</span> = <span class="title class_">React</span>.<span class="title function_">memo</span>(</span><br><span class="line">  <span class="title function_">forwardRef</span>(<span class="function">(<span class="params">props, ref</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">button</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">ref</span>=<span class="string">&#123;ref&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-xml">          console.log(&#x27;è§¦å‘ç‚¹å‡»ï¼&#x27;);</span></span><br><span class="line"><span class="language-xml">        &#125;&#125;</span></span><br><span class="line"><span class="language-xml">      /&gt;</span></span><br><span class="line">    );</span><br><span class="line">  &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">RefGuideParent</span>: <span class="title class_">React</span>.<span class="property">FC</span> = <span class="title class_">React</span>.<span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> childRef = <span class="title function_">useRef</span>(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    childRef.<span class="property">current</span>.<span class="title function_">click</span>();</span><br><span class="line">  &#125;, []);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">RefGuideChild</span> <span class="attr">ref</span>=<span class="string">&#123;childRef&#125;</span> /&gt;</span></span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šè¿°ä¾‹å­ä¸­ RefGuideParent ç»„ä»¶æ‹¿åˆ°äº† RefGuideChild çš„å®ä¾‹å¹¶ä½¿ç”¨äº† click æ–¹æ³•ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»– DOM æ–¹æ³•ï¼Œä½†æ˜¯ä»”ç»†çš„äººå‘ç°ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹çˆ¶ç»„ä»¶å°†å¯ä»¥æ¯«æ— é™åˆ¶çš„æ“çºµå­ç»„ä»¶ DOMï¼Œè¿™æ˜¯ä¸æ¨èçš„ï¼Œåº”è¯¥ç”¨ useImperativeHandle æ¥é™åˆ¶æš´éœ²ç»™çˆ¶ç»„ä»¶çš„æ–¹æ³•ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">RefGuideChild</span>: <span class="title class_">React</span>.<span class="property">FC</span> = <span class="title class_">React</span>.<span class="title function_">memo</span>(</span><br><span class="line">  <span class="title function_">forwardRef</span>(<span class="function">(<span class="params">props, ref</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> btnRef = <span class="title function_">useRef</span>(<span class="literal">null</span>);</span><br><span class="line">    <span class="title function_">useImperativeHandle</span>(ref, <span class="function">() =&gt;</span> (&#123;</span><br><span class="line">      <span class="attr">click</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        btnRef.<span class="property">current</span>.<span class="title function_">click</span>();</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">customerFn</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;è‡ªå®šä¹‰æ–¹æ³•&#x27;</span>);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;));</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">button</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">ref</span>=<span class="string">&#123;btnRef&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">color:</span> &#x27;<span class="attr">red</span>&#x27; &#125;&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-xml">          console.log(&#x27;è§¦å‘ç‚¹å‡»ï¼&#x27;);</span></span><br><span class="line"><span class="language-xml">        &#125;&#125;</span></span><br><span class="line"><span class="language-xml">        onBlur=&#123;() =&gt; &#123;</span></span><br><span class="line"><span class="language-xml">          console.log(&#x27;è§¦å‘blurï¼&#x27;);</span></span><br><span class="line"><span class="language-xml">        &#125;&#125;</span></span><br><span class="line"><span class="language-xml">      &gt;</span></span><br><span class="line"><span class="language-xml">        æŒ‰é’®</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">RefGuideParent</span>: <span class="title class_">React</span>.<span class="property">FC</span> = <span class="title class_">React</span>.<span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> childRef = <span class="title function_">useRef</span>(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    childRef.<span class="property">current</span>.<span class="title function_">click</span>();</span><br><span class="line">    childRef.<span class="property">current</span>.<span class="title function_">customerFn</span>();</span><br><span class="line">  &#125;, []);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">RefGuideChild</span> <span class="attr">ref</span>=<span class="string">&#123;childRef&#125;</span> /&gt;</span></span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>æ”¹é€ åå­ç»„ä»¶å¯ä»¥å°†æ–¹æ³•æš´éœ²ç»™çˆ¶ç»„ä»¶è°ƒç”¨ï¼ŒåŒæ—¶åˆå¯ä»¥åœ¨å†…éƒ¨ç»´æŠ¤è‡ªå·±çš„ refï¼Œçˆ¶å­ç»„ä»¶å¯ä»¥å®ç°å®Œç¾é€šä¿¡ã€‚</p>
<h2 id="ç”¨æ³•ä¸‰ï¼šè¿æ¥-DOM"><a href="#ç”¨æ³•ä¸‰ï¼šè¿æ¥-DOM" class="headerlink" title="ç”¨æ³•ä¸‰ï¼šè¿æ¥ DOM"></a>ç”¨æ³•ä¸‰ï¼šè¿æ¥ DOM</h2><p>å…¶å®åœ¨ç”¨æ³•äºŒä¸­å°±å·²ç»ä½“ç°äº†ï¼Œä½¿ç”¨ useRef å®šä¹‰å®Œåèµ‹å€¼ç»™ç»„ä»¶èŠ‚ç‚¹çš„ ref å±æ€§ã€‚è¿™é‡Œæˆ‘æƒ³è®²ä¸€ä¸‹åœ¨å®é™…åœºæ™¯ä¸­æˆ‘é‡åˆ°çš„å‘ä¾›å¤§å®¶åœ¨æœªæ¥å‚è€ƒã€‚</p>
<p>å…ˆè¡¨è¿°ä¸€ä¸‹ç¬”è€…çš„åœºæ™¯ï¼Œç¬”è€…é¡¹ç›®çš„æŸä¸€å­èœå•è¦ä»çˆ¶èœå• A ç§»å…¥èœå• Bï¼Œå¹¶ä¸”éœ€è¦é’ˆå¯¹ B èœå•ç”Ÿæˆè’™å±‚æç¤ºç”¨æˆ·ï¼Œè’™å±‚ç»„ä»¶çš„å®ç°éœ€è¦ä¾æ®èœå• B èŠ‚ç‚¹å®šä½ã€‚</p>
<p>è’™å±‚ç»„ä»¶çš„ä½¿ç”¨ï¼Œä¼šä¾æ® content çš„å†…å®¹ç”Ÿæˆå¼¹å‡ºæ°”æ³¡ï¼Œå®šä½ä¾ç…§ element å±æ€§çš„èŠ‚ç‚¹å®šä½ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;Link to=&#123;href&#125; ref=&#123;menuRef&#125;&gt;èœå•B&lt;/Link&gt;</span><br><span class="line">&lt;Guide</span><br><span class="line">  className=&#123;styles[&#x27;guide-wrap&#x27;]&#125;</span><br><span class="line">  visible=&#123;visible&#125;</span><br><span class="line">  onVisibleChange=&#123;(v) =&gt; &#123;</span><br><span class="line">    setVisible(v);</span><br><span class="line">    setDone(&#x27;done&#x27;);</span><br><span class="line">  &#125;&#125;</span><br><span class="line">  content=&#123;[</span><br><span class="line">    &#123;</span><br><span class="line">      description: (</span><br><span class="line">        &lt;span style=&#123;&#123; whiteSpace: &#x27;pre-wrap&#x27; &#125;&#125;&gt;</span><br><span class="line">          ç›¸å…³åŠŸèƒ½å·²è¿ç§»è‡³æ­¤</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">      ),</span><br><span class="line">      element: menuRef.current!,</span><br><span class="line">      placement: &#x27;right&#x27;,</span><br><span class="line">    &#125;,</span><br><span class="line">  ]&#125;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ ç”Ÿæˆé€»è¾‘ï¼Œåˆ©ç”¨ useLocalStorageState ä¸­å­˜å‚¨çš„<code>&#39;GUIDE&#39;</code>å€¼å®ç°æµè§ˆå™¨åªéœ€å±•ç¤ºä¸€æ¬¡ï¼Œåç»­è¿›å…¥ä¸å±•ç¤ºè’™å±‚çš„åŠŸèƒ½ï¼š</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> menuRef = <span class="title function_">useRef</span>(<span class="literal">null</span>);</span><br><span class="line"><span class="keyword">const</span> [visible, setVisible] = <span class="title function_">useState</span>(<span class="literal">false</span>);</span><br><span class="line"><span class="keyword">const</span> [done, setDone] = <span class="title function_">useLocalStorageState</span>(<span class="string">&#x27;GUIDE&#x27;</span>, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line"><span class="comment">/** å¯åŠ¨è’™å±‚ */</span></span><br><span class="line"><span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (!done) &#123;</span><br><span class="line">    <span class="title function_">setVisible</span>(<span class="literal">true</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, [done]);</span><br></pre></td></tr></table></figure>

<p>è‡³æ­¤åˆ·æ–°é¡µé¢ï¼Œè’™å±‚å±•ç¤ºï¼Œç‚¹å‡»ç¡®å®šåå†æ¬¡åˆ·æ–°ï¼Œè’™å±‚ä¸å±•ç¤ºï¼ŒåŠŸèƒ½å®ç°è¾¾åˆ°é¢„æœŸï¼</p>
<p>ç„¶åå½“ç¬”è€…é€€å‡ºç™»å½•åæ¸…é™¤ localStorage æ•°æ®ï¼Œé‡æ–°ç™»å½•é¡¹ç›®ï¼Œå‘ç°é¦–æ¬¡å¹¶æ²¡æœ‰å±•ç¤ºè’™å±‚ï¼Œåè€Œæ˜¯ç‚¹å‡»å…¶ä»–èœå•åæ‰å±•ç¤ºï¼Œä½†æ˜¯åˆ·æ–°é¡µé¢åˆæ­£å¸¸ã€‚ä¸ºäº†éªŒè¯æ˜¯å¦æ˜¯åŠŸèƒ½é—®é¢˜ï¼Œç¬”è€…æ–°èµ·äº†ä¸€ä¸ªç®€å•é¡µé¢å°±åªæœ‰ä¸€ä¸ªè’™å±‚ç»„ä»¶å’ŒæŒ‡å‘èŠ‚ç‚¹ï¼Œå‘ç°ä¸ç®¡å¦‚ä½•è’™å±‚å±•ç¤ºéƒ½æ²¡é—®é¢˜ã€‚ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™è¯¡å¼‚çš„ç°è±¡å‘¢ï¼Ÿ</p>
<p>æ¨æµ‹ï¼šåœ¨è’™å±‚ç»„ä»¶æ¸²æŸ“å±•ç¤ºçš„æ—¶å€™ï¼Œref æœªå®ŒæˆæŒ‚è½½ã€‚</p>
<p>è’™å±‚ç»„ä»¶ Guide æ˜æ˜å·²ç»è®¾ç½®äº† visible å±æ€§ä¸º true ä¸ºä»€ä¹ˆè¿˜ä¸å±•ç¤ºå‘¢ï¼Œç¬”è€…è¯•ç€å°† menuRef.current é€šè¿‡ console æ‰“å°å‘ç°ï¼Œé¦–æ¬¡è¿›å…¥æ—¶ menuRef.current å€¼ä¸º nullï¼Œåç»­æ¯æ¬¡ render çš„å€¼éƒ½æ˜¯æˆ‘ä»¬è¦çš„èœå•èŠ‚ç‚¹ï¼Œç½ªé­ç¥¸é¦–æ‰¾åˆ°äº†ï¼ç°åœ¨å»çœ‹çœ‹<a href="https://reactjs.org/docs/hooks-reference.html#useref">å®˜ç½‘çš„æ–‡æ¡£</a>ï¼šuseRef ä¸ä¼šå‘Šè¯‰ä½ ä»€ä¹ˆæ—¶å€™å®ƒçš„å†…å®¹æ”¹å˜ï¼Œ.current å±æ€§æ”¹å˜ä¹Ÿä¸ä¼šå¼•èµ·é‡æ–°æ¸²æŸ“ï¼ï¼</p>
<p>å†ä»”ç»†è¯»äº†<a href="https://reactjs.org/docs/hooks-effect.html">useEffect å®˜æ–¹æ–‡æ¡£</a>ï¼Œæœ‰è¿™ä¹ˆä¸¤å¥è¯ You might find it easier to think that effects happen â€œafter renderâ€. React guarantees the DOM has been updated by the time it runs the effects. å°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥è®¤ä¸º useEffect æ˜¯åœ¨ render åæ‰§è¡Œçš„ï¼Œreact æ›¿æˆ‘ä»¬ä¿è¯äº† DOM æ›´æ–°å®Œæˆå‰ useEffect å‡å·²æ‰§è¡Œã€‚</p>
<p>æ€»ç»“ä¸€ä¸‹åŸå› ï¼šç»“åˆ useEffect çš„æ‰§è¡Œé¡ºåºï¼šç»„ä»¶æ›´æ–°æŒ‚è½½å®Œæˆ-&gt;æµè§ˆå™¨ DOM ç»˜åˆ¶å®Œæˆ -&gt; æ‰§è¡Œ useEffect å›è°ƒï¼Œä¸” useRef çš„æ”¹å˜ä¸ä¼šå¼•èµ·ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ï¼Œé€ æˆæ­¤ç°è±¡çš„åŸå› æ˜¯ ref æŒ‚è½½æ™šäºç»„ä»¶æ¸²æŸ“å®Œæˆï¼Œå³æ¸²æŸ“è’™å±‚ç»„ä»¶æ—¶ ref è¿˜æœªæˆåŠŸæŒ‚è½½è‡³èŠ‚ç‚¹ï¼Œåç»­æŒ‚è½½æˆåŠŸåç”±äº.current å˜åŒ–ä¸ä¼šå¼•èµ·é‡æ–°æ¸²æŸ“æ‰€ä»¥å¯¼è‡´è’™å±‚ç»„ä»¶ä¸ä¼šå±•ç¤ºã€‚</p>
<p>è§£å†³æ•´ä½“æ€è·¯ï¼šåœ¨ ref æŒ‚è½½å®Œæˆåï¼Œè§¦å‘ç»„ä»¶èƒ½å¤Ÿé‡æ–°æ¸²æŸ“å³å¯ã€‚</p>
<p>è§£å†³æ–¹å¼ä¸€ï¼šè®¾ç½® setTimeoutï¼Œå³ä¿®æ”¹è’™å±‚æ˜¯å¦å±•ç¤ºé€»è¾‘</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">/** å¯åŠ¨è’™å±‚ */</span></span><br><span class="line"><span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (!done) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">setVisible</span>(<span class="literal">true</span>);</span><br><span class="line">    &#125;, <span class="number">100</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, [done]);</span><br></pre></td></tr></table></figure>

<p>è§£å†³æ–¹å¼äºŒï¼šä½¿ç”¨ callback ref</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const targetNode = useRef(null);</span><br><span class="line"></span><br><span class="line">const menuNodeRef = useCallback((node) =&gt; &#123;</span><br><span class="line">  if (node !== null) &#123;</span><br><span class="line">    targetNode.current = node;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, []);</span><br><span class="line"></span><br><span class="line">// åŒæ—¶æ”¹é€ ç›®æ ‡èŠ‚ç‚¹refå’Œè’™å±‚ç»„ä»¶contentä¸­çš„elementå±æ€§</span><br><span class="line">&lt;Link to=&#123;href&#125; ref=&#123;menuNodeRef&#125;&gt;èœå•B&lt;/Link&gt;</span><br><span class="line">&lt;Guide</span><br><span class="line">  className=&#123;styles[&#x27;guide-wrap&#x27;]&#125;</span><br><span class="line">  visible=&#123;visible&#125;</span><br><span class="line">  onVisibleChange=&#123;(v) =&gt; &#123;</span><br><span class="line">    setVisible(v);</span><br><span class="line">    setDone(&#x27;done&#x27;);</span><br><span class="line">  &#125;&#125;</span><br><span class="line">  content=&#123;[</span><br><span class="line">    &#123;</span><br><span class="line">      description: (</span><br><span class="line">        &lt;span style=&#123;&#123; whiteSpace: &#x27;pre-wrap&#x27; &#125;&#125;&gt;</span><br><span class="line">          ç›¸å…³åŠŸèƒ½å·²è¿ç§»è‡³æ­¤</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">      ),</span><br><span class="line">      element: targetNode!,</span><br><span class="line">      placement: &#x27;right&#x27;,</span><br><span class="line">    &#125;,</span><br><span class="line">  ]&#125;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>

<p><strong>callback ref</strong> èƒ½å¤Ÿå®ç°åœ¨ ref æŒ‚è½½åå†è¿›è¡Œé€»è¾‘å¤„ç†ï¼Œä¹Ÿä¿è¯äº† ref å¿…æœ‰å€¼ã€‚ä¹Ÿæ¨èä½¿ç”¨è¿™ç§æ–¹å¼å¤„ç†ç±»ä¼¼çš„é—®é¢˜ã€‚</p>
<p>è‡³æ­¤ï¼Œé—®é¢˜ä¹Ÿè§£å†³å•¦ï½</p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æ¯æ¬¡æ¸²æŸ“ useRef çš„è¿”å›å€¼éƒ½ç›¸åŒï¼ˆç›¸åŒå¼•ç”¨ï¼‰ï¼Œæ‰€ä»¥å°½é‡ä¸è¦ç”¨ myRef.current ä½œä¸ºä¾èµ–é¡¹ï¼Œå¯ä»¥å°†å…¶è§†ä¸ºå…¨å±€çš„ä¸€ä¸ªå˜é‡ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ç”¨ useRef è·å–çœŸå® DOM å…ƒç´ ï¼Œä½†æ˜¯è¦æ³¨æ„.current æ”¹å˜ä¸ä¼šå¼•èµ·ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œè¦æƒ³åœ¨ ref æŒ‚è½½å®Œæˆåè°ƒç”¨å…¶ä»–æ–¹æ³•ï¼Œéœ€è¦ä½¿ç”¨å®˜æ–¹ç»™å‡ºçš„<a href="https://zh-hans.reactjs.org/docs/hooks-faq.html#how-can-i-measure-a-dom-node">callback ref</a></p>
<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://reactjs.org/docs/hooks-reference.html#useref">React useRef å®˜æ–¹æ–‡æ¡£</a></p>
]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
        <tag>Hooks</tag>
      </tags>
  </entry>
  <entry>
    <title>æ·±å…¥ç†è§£npm installåŸç†</title>
    <url>/2022/07/13/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3npm-install%E5%8E%9F%E7%90%86/</url>
    <content><![CDATA[<p>ç›¸ä¿¡ä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜å¯¹ npm çš„åŸºæœ¬ä½¿ç”¨å‘½ä»¤åº”è¯¥äº†å¦‚æŒ‡æŒï¼Œä½†æ˜¯ä½ çœŸçš„äº†è§£ npm install æ‰§è¡Œçš„æœºåˆ¶ä¹ˆï¼Ÿä¸ºä»€ä¹ˆ npm install çš„æ—¶å€™ä¼šå¤šå‡ºä¸€ä¸ª package-lock.json æ–‡ä»¶ï¼Ÿä¸ºä»€ä¹ˆæœ‰æ—¶å€™æ‰§è¡Œ npm install çš„æ—¶å€™ä¼šåŒæ­¥æ›´æ–° package-lock.json æ–‡ä»¶ï¼Œæœ‰æ—¶å€™åˆä¸ä¼šæ›´æ–°ï¼Ÿpackage-lock.json æ–‡ä»¶ä»€ä¹ˆæ—¶å€™éœ€è¦æ›´æ–°ï¼Œä»€ä¹ˆæ—¶å€™ä¸éœ€è¦æ›´æ–°ï¼Ÿ</p>
<p>å¸¦ç€ä¸Šè¿°é—®é¢˜ï¼Œç¬”è€…å¯¹ npm install çš„åŸç†å’Œæœºåˆ¶è¿›è¡Œäº†ä¸€æ³¢ç ”ç©¶ï¼Œä¹Ÿä½œä¸ºè‡ªå·±å¯¹ npm çŸ¥è¯†çš„å­¦ä¹ æ€»ç»“ã€‚</p>
<span id="more"></span>

<p>npm install ä¼šå®‰è£…æˆ‘ä»¬é¡¹ç›®ä¸­æ‰€æœ‰çš„ä¾èµ–åŒ…è‡³ node_modules æ–‡ä»¶å¤¹ä¸­ï¼Œå‡è®¾ç°åœ¨æœ‰ä¸€ç§æƒ…å†µå­˜åœ¨ä¸¤ä¸ªåŒ… A å’Œ B åˆ†åˆ«ä¾èµ– C åŒ…çš„ v1 å’Œ v2 ç‰ˆæœ¬ï¼Œé‚£ä¹ˆæœ€ç»ˆå°†ä¼šäº§ç”Ÿæ€ä¹ˆæ ·çš„ä¾èµ–æ ‘å‘¢ï¼Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;myProject&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class="line">  &quot;dependencies&quot;: &#123;</span><br><span class="line">    &quot;packageA&quot;: &quot;1.0.0&quot;,</span><br><span class="line">    &quot;packageB&quot;: &quot;1.0.0&quot;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åŒæ ·çš„ package.json æ–‡ä»¶ï¼Œæ—©æœŸ npm ç‰ˆæœ¬äº§ç”Ÿçš„ä¾èµ–æ ‘åªä¼šå«æœ‰ packageA å’Œ packageBã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â”œâ”€ node_modules</span><br><span class="line">    â”œâ”€â”€ packageA@1.0.0</span><br><span class="line">    â”‚    â””â”€â”€ packageC@1.0.0</span><br><span class="line">    â””â”€â”€ packageB@2.0.0</span><br><span class="line">         â””â”€â”€ packageC@1.0.0</span><br></pre></td></tr></table></figure>

<p>ç”¨ npm3 ä»¥ä¸Šç‰ˆæœ¬ä¹‹åï¼Œæˆ‘ä»¬çš„ä¾èµ–æ ‘ä¸­ä¹Ÿä¼šå«æœ‰ packageCï¼Œnode_modules ç›®å½•ç»“æ„ä¹Ÿå°†å˜ä¸ºå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â”œâ”€ node_modules</span><br><span class="line">    â”œâ”€â”€ packageA@1.0.0</span><br><span class="line">    â””â”€â”€ packageB@2.0.0</span><br><span class="line">    â””â”€â”€ packageC@1.0.0</span><br></pre></td></tr></table></figure>

<h1 id="å®‰è£…æœºåˆ¶å·®å¼‚"><a href="#å®‰è£…æœºåˆ¶å·®å¼‚" class="headerlink" title="å®‰è£…æœºåˆ¶å·®å¼‚"></a>å®‰è£…æœºåˆ¶å·®å¼‚</h1><h2 id="npm2-å®‰è£…æœºåˆ¶"><a href="#npm2-å®‰è£…æœºåˆ¶" class="headerlink" title="npm2 å®‰è£…æœºåˆ¶"></a>npm2 å®‰è£…æœºåˆ¶</h2><p>è¿˜æ˜¯ä¸Šè¿°å‡è®¾çš„åœºæ™¯ï¼Œä¾èµ–åŒ… A ä¾èµ– v1.0 ç‰ˆæœ¬çš„åŒ… Cï¼ŒåŒ… B ä¾èµ– v2.0 ç‰ˆæœ¬çš„åŒ… Cï¼Œæ­¤æ—¶æˆ‘ä»¬åˆ›å»ºé¡¹ç›® My Project ä¾èµ–åŒ… A å’Œ B å¦‚ä¸‹ï¼š</p>
<p><img src="intro1.png"></p>
<p>æˆ‘ä»¬çŸ¥é“ npm install ä¼šå®‰è£…æ‰€æœ‰é¡¹ç›®çš„ä¾èµ–åŒ…ä»¥åŠæ‰€æœ‰ä¾èµ–åŒ…è‡ªèº«çš„ä¾èµ–ï¼Œé‚£ä¹ˆ My Project è¿™ä¸ªé¡¹ç›®æ‰€ä¾èµ–çš„åŒ… C ç‰ˆæœ¬æ˜¯ v1.0 è¿˜æ˜¯ v2.0ï¼Ÿ</p>
<p>åœ¨ npm2 ä¸­ï¼Œnpm ä¸ä¼šå»è€ƒè™‘ C åŒ…çš„å…·ä½“ä½¿ç”¨ç‰ˆæœ¬ï¼Œæ¯ä¸ªç‰ˆæœ¬éƒ½ä¼šè¢«åŠ å…¥åˆ°ä¾èµ–æ ‘ä¸­ï¼Œå­˜æ”¾åœ¨å…¶è¢«å¼•ç”¨çš„æ¨¡å—ä¸‹ã€‚ä»è€Œç”Ÿæˆå¦‚ä¸‹ä¾èµ–æ ‘ï¼š</p>
<p><img src="intro2.png"></p>
<p>ä½¿ç”¨ npm ls æŸ¥çœ‹å…¨éƒ¨ä¾èµ–å’Œå…³ç³»ä¼šå¾—åˆ°ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â”œâ”€ node_modules</span><br><span class="line">    â”œâ”€â”€ packageA@1.0.0</span><br><span class="line">    â”‚    â””â”€â”€ packageC@1.0.0</span><br><span class="line">    â””â”€â”€ packageB@1.0.0</span><br><span class="line">         â””â”€â”€ packageC@2.0.0</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ npm ls â€“depth&#x3D;0 æŸ¥çœ‹ä¸»è¦ä¾èµ–ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â”œâ”€â”€ packageA@1.0.0</span><br><span class="line">â””â”€â”€ packageB@1.0.0</span><br></pre></td></tr></table></figure>

<p>å°½ç®¡åµŒå¥—çš„ä½ç½®å…è®¸åŒä¸€æ¨¡å—çš„ä¸¤ä¸ªä¸åŒç‰ˆæœ¬å…±å­˜ï¼Œä½†å¤§å¤šæ¨¡å—åŠ è½½å™¨æ— æ³•å°†åŒä¸€æ¨¡å—çš„ä¸¤ä¸ªç‰ˆæœ¬åŠ è½½åˆ°å†…å­˜ä¸­ã€‚Node.js çš„å¼ºå¤§å°±æ˜¯å®ƒæ˜¯é’ˆå¯¹æ­¤æƒ…å†µè¯ç”Ÿçš„ï¼Œèƒ½å¤Ÿå®ç°å¤šç‰ˆæœ¬å…±å­˜ä¸”ä¸å†²çªã€‚</p>
<h2 id="npm3-æœºåˆ¶"><a href="#npm3-æœºåˆ¶" class="headerlink" title="npm3 æœºåˆ¶"></a>npm3 æœºåˆ¶</h2><p>npm3 çš„å¤„ç†ä¾èµ–æ–¹å¼ä¸åŒäº npm2ã€‚npm2 æ›´åƒæ˜¯ä»¥åµŒå¥—çš„æ–¹å¼å®‰è£…ä¾èµ–ï¼Œnpm3 åˆ™å°è¯•å°†ä¾èµ–æ ‘æ‰“å¹³ï¼Œå°†ä¸€äº›ä¾èµ–çš„ä¾èµ–ä½œä¸ºä¸»è¦ä¾èµ–å®‰è£…ç›®å½•ä¸­ã€‚</p>
<p>æ ¸å¿ƒåŒºåˆ«ï¼š</p>
<ol>
<li>ç›®å½•ç»“æ„ä¸­çš„ä½ç½®ä¸å†å†³å®šè¯¥ä¾èµ–æ˜¯é¡¹ç›®ä¸€çº§ä¾èµ–è¿˜æ˜¯é¡¹ç›®æŸä¸ªä¾èµ–çš„ä¾èµ–</li>
<li>ä¾èµ–æ ‘çš„ç”Ÿæˆä¼šå—å®‰è£…çš„é¡ºåºæ‰€å½±å“</li>
</ol>
<p>å‡è®¾é¡¹ç›®ä¾èµ–äº A æ¨¡å—ï¼Œä¸” A æ¨¡å—ä¾èµ–äº B æ¨¡å—ï¼Œåˆ™ Aã€B ä¸¤æ¨¡å—éƒ½ä¼šä½œä¸ºé¡¶çº§æ¨¡å—å¼•å…¥ï¼Œæ­¤æ—¶ç”Ÿæˆçš„ä¾èµ–æ ‘ä¸ºï¼š</p>
<p><img src="intro3.png"></p>
<p>æ­¤æ—¶é¡¹ç›®æ–°å¢äº†æ¨¡å— Cï¼Œä¸”ä¾èµ–äºæ¨¡å— B çš„ 2.0 ç‰ˆæœ¬ï¼Œç”±äºæ¨¡å— B çš„ 1.0 ç‰ˆæœ¬å·²ç»å­˜åœ¨äºé¡¶çº§æ¨¡å—ï¼Œæ‰€ä»¥ B2.0 æ¨¡å—çš„è¿˜æ˜¯ä»¥åµŒå¥—çš„æ–¹å¼å®‰è£…åœ¨ C æ¨¡å—ä¸‹ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<p><img src="intro4.png"></p>
<p>tipsï¼šå°½ç®¡åŒæ ·å¤„åœ¨ä¸€çº§ç›®å½•ï¼Œä¸ä»£è¡¨æ¨¡å— A å’Œæ¨¡å— B ä¹‹é—´æ²¡æœ‰ä¾èµ–å…³ç³»</p>
<p>å‡è®¾ç°åœ¨ä¾æ¬¡åˆè¦æ–°å¢æ¨¡å— Dï¼ˆä¾èµ– B1.0 ç‰ˆæœ¬ï¼‰å’Œæ¨¡å— Eï¼ˆä¾èµ– B2.0 ç‰ˆæœ¬ï¼‰ï¼Œç”±äºæ¨¡å— B1.0 å·²ç»å­˜åœ¨äºé¡¶çº§ï¼Œæ‰€ä»¥ä¸éœ€è¦å†å¤åˆ¶æ­¤ä¾èµ–ï¼Œç„¶è€Œä¾èµ– B2.0 éœ€è¦é‡æ–°åœ¨ E æ¨¡å—ä¸­å†å¤åˆ¶ä¸€ä»½ï¼š</p>
<p><img src="intro5.png"></p>
<p>æ¥ä¸‹æ¥è€ƒè™‘ä¾æ¬¡å‘é€ä»¥ä¸‹ä¸¤ä¸ªä¾èµ–å˜æ›´çš„åœºæ™¯</p>
<ol>
<li>æ¨¡å— A æ›´æ–°ä¸”ä¾èµ–ç”± B1.0-&gt;B2.0</li>
<li>æ¨¡å— D æ›´æ–°ä¸”ä¾èµ–ç”± B1.0-&gt;B2.0</li>
</ol>
<p>å‘ç”Ÿåœºæ™¯ 1: å½“æˆ‘ä»¬æ‰§è¡Œ npm install <a href="mailto:&#65;&#x40;&#50;&#x2e;&#48;">&#65;&#x40;&#50;&#x2e;&#48;</a> â€“save åï¼Œnpm3 ä¼šæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<ul>
<li>ç§»é™¤æ¨¡å— A1.0</li>
<li>å®‰è£…æ¨¡å— A2.0</li>
<li>ä¿ç•™ B1.0ï¼Œå› ä¸ºæ¨¡å— D ä¾æ—§ä¾èµ–æ¨¡å— A1.0</li>
<li>æ¨¡å— A2.0 ä¸‹å®‰è£…ä¾èµ– B2.0ï¼Œå› ä¸º B1.0 å·²ç»å­˜åœ¨é¡¶å±‚ä¾èµ–ç»“æ„</li>
</ul>
<p><img src="intro6.png"></p>
<p>å‘ç”Ÿåœºæ™¯ 2:npm3 ä¼šæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<ul>
<li>ç§»é™¤æ¨¡å— D1.0</li>
<li>å®‰è£…æ¨¡å— D2.0</li>
<li>ç§»é™¤æ¨¡å— B1.0ï¼Œå› ä¸ºæ²¡æœ‰æ¨¡å—å†ä¾èµ–æ­¤æ¨¡å—</li>
<li>å®‰è£…æ¨¡å— B2.0 è‡³é¡¶çº§ï¼Œå› ä¸ºæ­¤æ—¶ä¸å­˜åœ¨å…¶ä»– B æ¨¡å—ä¾èµ–</li>
</ul>
<p><img src="intro7.png"></p>
<p>è¿è¡Œ<strong>npm dedupe</strong>å¯ä»¥å»é™¤å¤šä½™çš„é‡å¤ï¼Œå¾—åˆ°å…¨æ–°çš„ä¾èµ–æ ‘ï¼š</p>
<p><img src="intro8.png"></p>
<p>npm3 çš„å¼Šç«¯ï¼šä¸ç¡®å®šæ€§<br>å¦‚æœä½ å’Œä½ çš„å¼€å‘å›¢é˜Ÿä½¿ç”¨äº† package.json åŒæ—¶åˆç”¨äº† npm install æ·»åŠ äº†ä¾èµ–åŒ…ï¼Œè¿™å°±ä¼šæœ‰å¯èƒ½å‡ºç°æœ¬åœ°çš„ node_modules ç›®å½•å’Œå…¶ä»–å›¢é˜Ÿæˆå‘˜çš„ä¸ä¸€è‡´ã€‚</p>
<p>ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µå‘¢ï¼Ÿ</p>
<p>è¿™å’Œä¸Šè¿°æåˆ°çš„ï¼Œnpm ä¾èµ–æ ‘çš„ç”Ÿæˆä¼šå—ä¾èµ–åŒ…çš„é¡ºåºæ‰€å½±å“ã€‚</p>
<p>å›åˆ°ä¸Šé¢çš„ä¾‹å­ï¼šåœ¨æœ¬åœ°æ¨¡å— A ç”± 1.0 ç‰ˆæœ¬æ›´æ–°è‡³ 2.0 åç”Ÿæˆå¦‚ä¸‹ä¾èµ–æ ‘ï¼š<br><img src="intro9.png"><br>å¯¹åº”çš„ package.json æ–‡ä»¶å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  ...,</span><br><span class="line">  &quot;dependencies&quot;:&#123;</span><br><span class="line">    &quot;a&quot;:&quot;^2.0&quot;,</span><br><span class="line">    &quot;c&quot;:&quot;^1.0&quot;,</span><br><span class="line">    &quot;d&quot;:&quot;^1.0&quot;,</span><br><span class="line">    &quot;e&quot;:&quot;^1.0&quot;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†å¦‚æœé¡¹ç›®å…¶ä»–æˆå‘˜æ‹¿åˆ°æ­¤æ–‡ä»¶è¿è¡Œ<strong>npm install</strong>åç”Ÿæˆçš„ä¾èµ–æ ‘ä¼šå¦‚ä¸‹ï¼š</p>
<p><img src="intro10.png"></p>
<p>ç‰¢è®°å®‰è£…é¡ºåºä¼šå½±å“ä¾èµ–æ ‘çš„ç”Ÿæˆï¼</p>
<p>ç”±äº npm install ä¼šæŒ‰å­—æ¯æ’åºè¿›è¡Œä¾èµ–åŒ…çš„å®‰è£…ï¼Œæ­¤æ—¶æ¨¡å— A2.0 ä¼šç¬¬ä¸€ä¸ªå®‰è£…ï¼ŒåŒæ—¶åœ¨é¡¶çº§å®‰è£…æ¨¡å— B2.0ï¼Œå’Œä¹‹å‰æœ€åå®‰è£…æ›´æ–°ä¸åŒï¼Œä»è€Œå¼•èµ·äº†ä¾èµ–æ ‘çš„ä¸åŒã€‚</p>
<p>ä¸ç”¨æ‹…å¿ƒï¼Œå¦å¤–å°½ç®¡ä¾èµ–æ ‘ä¸åŒï¼Œä½†æ˜¯åªè¦å…¨éƒ¨å®‰è£…äº†ä¾èµ–åŒ…å°±ç®—æ„å»ºçš„ä¾èµ–æ ‘ä¸åŒä¹Ÿä¸ä¼šæœ‰é—®é¢˜ã€‚</p>
<p>é‚£è¯¥å¦‚ä½•ä¿æŒä¾èµ–æ ‘ä¸€è‡´å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œåªè¦åˆ é™¤ node_modules æ–‡ä»¶å¤¹ï¼Œé‡æ–°æ‰§è¡Œ npm install å³å¯ã€‚å› ä¸ºå®‰è£…çš„é¡ºåºæ˜¯ç”± package.json æ–‡ä»¶å®šä¹‰çš„ï¼Œæ‰€ä»¥æ¯æ¬¡æ‰§è¡Œ npm install çš„æ—¶å€™å¿…ç„¶éƒ½æ˜¯ç›¸åŒçš„é¡ºåºï¼Œå³æŒ‰å­—æ¯æ’åºã€‚</p>
<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><ul>
<li><a href="https://npm.github.io/how-npm-works-docs/index.html">How npm Works</a></li>
<li><a href="https://juejin.cn/post/7089734818748956679">npm install åˆ° npm run xxx æ·±åº¦è§£è¯»</a></li>
<li><a href="https://cloud.tencent.com/developer/article/1555982">npm install åŸç†åˆ†æ</a></li>
</ul>
]]></content>
      <categories>
        <category>NPM</category>
      </categories>
      <tags>
        <tag>NPM</tag>
        <tag>npm install</tag>
      </tags>
  </entry>
  <entry>
    <title>å°ç¨‹åºé•¿åˆ—è¡¨æ¸²æŸ“åˆæ¢</title>
    <url>/2022/02/24/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%95%BF%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93%E5%88%9D%E6%8E%A2/</url>
    <content><![CDATA[<h1 id="ä¸€ã€èƒŒæ™¯"><a href="#ä¸€ã€èƒŒæ™¯" class="headerlink" title="ä¸€ã€èƒŒæ™¯"></a>ä¸€ã€èƒŒæ™¯</h1><p>åœ¨å‰ç«¯çš„ä¸šåŠ¡å¼€å‘ä¸­ï¼Œåˆ—è¡¨çš„æ¸²æŸ“æ˜¯å¾ˆå¸¸è§çš„åœºæ™¯ã€‚ä¸ç®¡åœ¨ Web ç«¯è¿˜æ˜¯å°ç¨‹åºï¼Œå½“ DOM èŠ‚ç‚¹è¶Šå¤šï¼Œæ¯ä¸€æ¬¡é‡ç»˜å¯¹æ€§èƒ½çš„å½±å“ä¹Ÿè¶Šå¤§ã€‚å¦‚æœä¸€ä¸ªå°ç¨‹åºé¡µé¢æ¸²æŸ“è¿‡å¤šçš„ DOM èŠ‚ç‚¹æ—¶ï¼Œå¾ˆå®¹æ˜“é€ æˆé¡µé¢å¡é¡¿ã€æ•°æ®æ¸²æŸ“è¾ƒæ…¢ç”šè‡³ç™½å±é—®é¢˜ï¼Œå½“å†…å­˜å ç”¨è¿‡å¤šæ—¶ï¼Œé¡µé¢ä¹Ÿä¼šè¢«å›æ”¶ã€‚</p>
<p>å‡è®¾æœ‰ä¸€ä¸ªåœºæ™¯éœ€è¦æ¸²æŸ“ä¸€ä¸ªæ‹¥æœ‰ä¸Šåƒå•†å“çš„å•†å“åˆ—è¡¨ï¼Œä¸”å•†å“æ•°æ®è¾ƒä¸ºå¤æ‚ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•ä¿æŒå…¶æ€§èƒ½å‘¢ï¼Ÿ</p>
<span id="more"></span>

<p>Web ç«¯å¤„ç†æ­¤ç±»é—®é¢˜å¸¸è§çš„å¤„ç†æ–¹å¼æœ‰ä¸¤ç§ï¼š</p>
<ul>
<li>è¿›è¡Œåˆ†é¡µæ“ä½œ</li>
<li>è™šæ‹Ÿåˆ—è¡¨</li>
</ul>
<p>åˆ†é¡µæ“ä½œå°±æ˜¯æˆ‘ä»¬å¸¸è§çš„ç‚¹å‡»ä¸Šä¸€é¡µã€ä¸‹ä¸€é¡µè·³è½¬æ–¹æ¡ˆï¼Œé€šè¿‡è®¾ç½®æ¯ä¸€é¡µçš„åˆ—è¡¨æ•°é‡å®ç°å®šé‡åŠ è½½ï¼Œæ›¿æ¢åŸå…ˆçš„åˆ—è¡¨æ•°æ®ï¼Œå®ç°åˆ—è¡¨çš„æ›´æ–°ï¼Œä¿è¯ä¸€æ¬¡çš„åŠ è½½æ•°é‡å›ºå®šã€‚</p>
<p>åœ¨å°ç¨‹åºä¾§ï¼Œç”±äºåˆ†é¡µæ“ä½œæ–¹æ¡ˆéœ€è¦ç”¨æˆ·å‚ä¸ç‚¹å‡»æ“ä½œï¼Œåœ¨ç”¨æˆ·ä½“éªŒä¸Šå¹¶ä¸å‹å¥½ï¼Œå¹¶ä¸”ä¸Šä¸‹é¡µè·³è½¬çš„æŒ‰é’®å¤§å°ç­‰äº¤äº’é—®é¢˜ä¹Ÿä¼šå¾ˆå¤§ç¨‹åº¦å½±å“ç”¨æˆ·çš„ä½“éªŒã€‚æ›´å¤šçš„ç”¨æˆ·è¿˜æ˜¯å–œæ¬¢èƒ½å¤Ÿæ— é™æ»šåŠ¨çš„é•¿åˆ—è¡¨ï¼Œåªéœ€è¦å‘ä¸‹æ»šåŠ¨å°±èƒ½çœ‹åˆ°æ–°çš„åˆ—è¡¨å†…å®¹ã€‚ç‰¹åˆ«æ˜¯åœ¨ç§»åŠ¨ç«¯ï¼Œç›¸ä¿¡å¤§éƒ¨åˆ†äººåœ¨é€›æ·˜å®ã€åˆ·å¾®åšçš„æ—¶å€™åªå–œæ¬¢å‘ä¸‹æ»šåŠ¨ï¼Œè€Œä¸æ˜¯é€šè¿‡ç‚¹å‡»ä¸‹ä¸€é¡µæŸ¥çœ‹æ–°å†…å®¹ã€‚</p>
<p>æœ¬ç¯‡æ–‡ç« å°†ä¼šä»ä¸€ä¸ªæ™®é€šé•¿åˆ—è¡¨å…¥æ‰‹ä¸€æ­¥æ­¥æ”¹é€ å®ç°ç»“åˆæ‡’åŠ è½½å’Œè™šæ‹Ÿåˆ—è¡¨æ€æƒ³çš„é•¿åˆ—è¡¨æ¸²æŸ“ä»¥åŠå¦‚ä½•åœ¨ç°æœ‰é¡¹ç›®ä¸­å¼•å…¥æ­¤æ–¹æ¡ˆè¿›è¡Œä¼˜åŒ–ã€‚</p>
<h1 id="äºŒã€æ™®é€šé•¿åˆ—è¡¨æ¸²æŸ“"><a href="#äºŒã€æ™®é€šé•¿åˆ—è¡¨æ¸²æŸ“" class="headerlink" title="äºŒã€æ™®é€šé•¿åˆ—è¡¨æ¸²æŸ“"></a>äºŒã€æ™®é€šé•¿åˆ—è¡¨æ¸²æŸ“</h1><p>æ™®é€šçš„é•¿åˆ—è¡¨æˆ‘ä»¬ç›´æ¥åˆ©ç”¨ <strong>wx:for</strong> å¯¹åˆ—è¡¨è¿›è¡Œéå†æ¸²æŸ“ï¼Œè¿™é‡Œæˆ‘ä»¬æ¨¡æ‹Ÿæ„å»ºäº†é•¿åº¦ä¸º 3000 çš„åˆ—è¡¨ï¼Œæ¯ä¸ªåˆ—è¡¨é¡¹åªå«æœ‰ title å’Œ image å±æ€§ï¼ˆçœŸå®ä¸šåŠ¡åœºæ™¯ä¸‹å¯èƒ½ä¼šæ›´å¤šæ›´å¤æ‚ï¼‰ã€‚</p>
<p>list.wxml æ–‡ä»¶:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;listData&#125;&#125;&quot;</span> <span class="attr">wx:for-index</span>=<span class="string">&quot;index&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;list-item&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123;item.image&#125;&#125;&quot;</span> <span class="attr">style</span>=<span class="string">&quot;height: 200rpx; width: 200rpx&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span>&gt;</span>&#123;&#123;item.title&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>list.ts æ–‡ä»¶:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>:&#123;</span><br><span class="line">  <span class="attr">listData</span>:[],</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">onLoad</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> list = [];</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3000</span>; i++) &#123;</span><br><span class="line">        list.<span class="title function_">push</span>(&#123;</span><br><span class="line">          <span class="attr">title</span>: <span class="string">`Virtual-List Title <span class="subst">$&#123;i&#125;</span>`</span>,</span><br><span class="line">          <span class="attr">image</span>:</span><br><span class="line">            <span class="string">&#x27;https://bizmid-material-qa-1302115263.file.myqcloud.com/persist/h60ks7hmciws/h60ks7hmciws-2b525811.jpeg&#x27;</span>,</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123; <span class="attr">listData</span>: list &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>æ•ˆæœå±•ç¤ºï¼š<br><img src="view1.gif" width="220" height="375" alt="æ…¢æ»‘æ•ˆæœå›¾" align="center"></p>
<p>åŒæ—¶åˆ©ç”¨å¼€å‘è€…å·¥å…·ä¸­çš„ Audits é¢æ¿å¯¹é¡µé¢è¿›è¡Œä½“éªŒè¯„åˆ†ï¼Œå¾—åˆ°ä»¥ä¸‹ä½“éªŒæŠ¥å‘Šï¼š<br><img src="view2.png" width="550" height="385" alt="æ…¢æ»‘æ•ˆæœå›¾" align="center"></p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºæˆ‘ä»¬çš„åˆ—è¡¨æ¸²æŸ“äº†å¤ªå¤š WXML èŠ‚ç‚¹ï¼Œä¸”æ¸²æŸ“ç•Œé¢å­˜åœ¨è€—æ—¶è¿‡é•¿çš„æƒ…å†µï¼Œæœ€é•¿è€—æ—¶è¾¾åˆ° 1495msã€‚</p>
<p>å¦å¤–å¦‚æœå°†åˆ—è¡¨é¡¹å¢åŠ è‡³ 4000 ä»¥ä¸Šçš„è¯ï¼Œé¡µé¢ä¼šå› ä¸ºå†…å­˜é—®é¢˜ç›´æ¥è¢«å›æ”¶ä¸è¿›è¡Œæ¸²æŸ“ã€‚æ­¤å¤„æ¨¡æ‹Ÿçš„æ¯ä¸ªåˆ—è¡¨é¡¹è¿˜åªæ˜¯ç®€å•çš„ä¸€å¼ å›¾å’Œåç§°ï¼ŒçœŸå®åœºæ™¯ä¸‹ï¼Œåˆ—è¡¨é¡¹å¯èƒ½æ›´ä¸ºå¤æ‚ï¼Œæ€§èƒ½ä¹Ÿä¼šæ›´å·®ã€‚</p>
<h1 id="ä¸‰ã€åº”ç”¨è™šæ‹Ÿåˆ—è¡¨æ€æƒ³"><a href="#ä¸‰ã€åº”ç”¨è™šæ‹Ÿåˆ—è¡¨æ€æƒ³" class="headerlink" title="ä¸‰ã€åº”ç”¨è™šæ‹Ÿåˆ—è¡¨æ€æƒ³"></a>ä¸‰ã€åº”ç”¨è™šæ‹Ÿåˆ—è¡¨æ€æƒ³</h1><h2 id="1-è™šæ‹Ÿåˆ—è¡¨æ¦‚å¿µ"><a href="#1-è™šæ‹Ÿåˆ—è¡¨æ¦‚å¿µ" class="headerlink" title="1. è™šæ‹Ÿåˆ—è¡¨æ¦‚å¿µ"></a>1. è™šæ‹Ÿåˆ—è¡¨æ¦‚å¿µ</h2><p>äº†è§£è™šæ‹Ÿåˆ—è¡¨å‰ï¼Œæˆ‘æƒ³å¼•å…¥<strong>æ‡’æ¸²æŸ“</strong>è¿™æ¦‚å¿µã€‚æ‡’æ¸²æŸ“å°±æ˜¯å½“ç»„ä»¶è¦åœ¨è§†å›¾å±•ç¤ºæ‰æ¸²æŸ“çš„ä¸€ç§æ–¹æ¡ˆã€‚å¸¸è§çš„ç»„ä»¶æœ‰ Modal ç»„ä»¶ï¼Œå½“ç”¨æˆ·è§¦å‘äº†å±•ç¤ºäº‹ä»¶æ‰ä¼šå±•ç¤ºï¼Œé€šå¸¸ç”±ä¸€ä¸ªå­—æ®µå±æ€§æ¯”å¦‚ visible å±æ€§å»æ§åˆ¶å±•ç¤ºä¸å¦ã€‚å°ç¨‹åºä¸­çš„ <a href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/conditional.html">wx:if</a> å°±æ˜¯<strong>æƒ°æ€§</strong>çš„ï¼Œå¦‚æœåˆå§‹æ¸²æŸ“æ¡ä»¶ä¸º<code>false</code>ï¼Œæ¡†æ¶ä»€ä¹ˆéƒ½ä¸ä¼šåšï¼Œåœ¨æ¡ä»¶ç¬¬ä¸€æ¬¡å˜ä¸º<code>true</code>æ—¶æ‰ä¼šå¼€å§‹å±€éƒ¨æ¸²æŸ“ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬å®ç°åˆ—è¡¨æ¸²æŸ“ä¼˜åŒ–çš„æ ¸å¿ƒã€‚</p>
<p>ä»€ä¹ˆæ˜¯è™šæ‹Ÿåˆ—è¡¨ï¼Ÿ</p>
<p>è™šæ‹Ÿåˆ—è¡¨å¹¶æ²¡æœ‰å®˜æ–¹çš„è§£é‡Šï¼Œå…¶å®åªæ˜¯ä¸€ä¸ªæ¦‚å¿µåè¯ï¼Œä¸åŒäººæœ‰ä¸åŒè§£è¯»ã€‚å¯ä»¥å°†å…¶ç†è§£ä¸ºä¸€ç§å¯¹é•¿åˆ—è¡¨æ¸²æŸ“çš„ä¼˜åŒ–æ–¹æ¡ˆï¼Œå®ƒä¸ä¼šä¸€æ¬¡æ€§æ¸²æŸ“å…¨éƒ¨çš„é•¿åˆ—è¡¨ï¼Œè€Œæ˜¯æŒ‰éœ€æ¸²æŸ“ï¼Œè®©ç”¨æˆ·æ— æ„ŸçŸ¥ä½¿ç”¨äº†é•¿åˆ—è¡¨ï¼Œä¸”è¾¾åˆ°æ— é™æ»šåŠ¨çš„æ•ˆæœã€‚è™šæ‹Ÿåˆ—è¡¨æ›´åƒæ˜¯ä¸€ç§æ‡’æ¸²æŸ“çš„ç‰¹æ®Šåœºæ™¯ã€‚</p>
<h2 id="2-è™šæ‹Ÿåˆ—è¡¨åŸç†"><a href="#2-è™šæ‹Ÿåˆ—è¡¨åŸç†" class="headerlink" title="2. è™šæ‹Ÿåˆ—è¡¨åŸç†"></a>2. è™šæ‹Ÿåˆ—è¡¨åŸç†</h2><p>è™šæ‹Ÿåˆ—è¡¨æ˜¯åªå¯¹å¯è§†åŒºåŸŸçš„å…ƒç´ è¿›è¡Œæ¸²æŸ“ï¼Œè€Œå¯¹ç¦»å¼€å¯è§†åŒºåŸŸçš„å…ƒç´ è¿›è¡Œå¸è½½ï¼Œä»è€Œè¾¾åˆ°æŒ‰éœ€æ¸²æŸ“çš„ä¸€ç§åˆ—è¡¨æ•°æ®å±•ç¤ºæ–¹æ¡ˆã€‚</p>
<p>ä»ä¸‹å›¾å¯è§ï¼Œè™šæ‹Ÿåˆ—è¡¨ä¸€èˆ¬ç”±å››éƒ¨åˆ†ç»„æˆï¼š</p>
<ol>
<li>çœŸå®åˆ—è¡¨åŒºï¼šåˆ—è¡¨æ»šåŠ¨åŒºï¼Œå«å…¨éƒ¨åˆ—è¡¨å¯æ»šåŠ¨å†…å®¹</li>
<li>å¯è§†åŒºï¼šç”¨æˆ·å¯è§åŒºåŸŸ</li>
<li>æ¸²æŸ“åŒºï¼šéœ€è¦æ¸²æŸ“çš„åŒºåŸŸ</li>
<li>ç¼“å†²åŒºï¼šä¸ºäº†ä¼˜åŒ–åˆ—è¡¨ï¼Œå‡å°‘é—ªåŠ¨è€Œæå‰æ¸²æŸ“çš„åŒºåŸŸ</li>
</ol>
<p><img src="intro1.png"></p>
<p>å¯è§†åŒºå’Œç¼“å†²åŒºå…±åŒç»„æˆçš„æ¸²æŸ“åŒºéƒ½å°†è¢«æ¸²æŸ“ï¼Œæ¸²æŸ“åŒºä»¥å¤–çš„çœŸå®åˆ—è¡¨åŒºéƒ½å°†ä¸è¢«æ¸²æŸ“ï¼Œåƒ Item1 è¿™ç±»å·²è¢«æ¸²æŸ“è¿‡çš„èŠ‚ç‚¹ä¹Ÿä¼šè¢«å¸è½½ã€‚</p>
<h2 id="3-èŠ‚ç‚¹å¸è½½å®ç°"><a href="#3-èŠ‚ç‚¹å¸è½½å®ç°" class="headerlink" title="3. èŠ‚ç‚¹å¸è½½å®ç°"></a>3. èŠ‚ç‚¹å¸è½½å®ç°</h2><p>æ™®é€šé•¿åˆ—è¡¨æ˜¯åˆ©ç”¨<strong>wx:for</strong>å¯¹åˆ—è¡¨é¡¹ç›´æ¥è¿›è¡ŒåŠ è½½æ¸²æŸ“ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;listData&#125;&#125;&quot;</span> <span class="attr">wx:for-index</span>=<span class="string">&quot;index&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- åˆ—è¡¨é¡¹å†…å®¹æ ·å¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†èƒ½å¤Ÿå®ç°èŠ‚ç‚¹å¸è½½ï¼Œé¦–å…ˆæ›´æ”¹ wxml çš„ç»“æ„ï¼Œåœ¨ç”¨ wx:for è¿›è¡Œåˆ—è¡¨æ¸²æŸ“çš„åŒæ—¶æ·»åŠ <code>wx:if=&quot;&#123;&#123;item.isDisplay&#125;&#125;&quot;</code>æ¥å¯¹ä¸åœ¨æ˜¾ç¤ºåŒºåŸŸçš„å…ƒç´ çš„è¿›è¡Œå¸è½½ã€‚ä¸ºäº†ä¿è¯æ»šåŠ¨è¿‡ç¨‹ä¸­æ»šåŠ¨ä½ç½®çš„å‡†ç¡®éœ€è¦åœ¨åˆ—è¡¨ä¸Šæ–¹æ·»åŠ å…ƒç´ å¹¶è®¾ç½®é«˜åº¦ç­‰äºå¸è½½åˆ—è¡¨é¡¹çš„é«˜åº¦å’Œï¼Œä¿æŒæ•´ä½“åˆ—è¡¨çš„é«˜åº¦ä¸å˜ï¼Œä»¥è¾¾åˆ°å¸è½½å…ƒç´ æ²¡æœ‰è¢«ç§»é™¤çš„æ•ˆæœã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;list-container&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">style</span>=<span class="string">&quot;height:&#123;&#123;aboveHideNum*itemHeight&#125;&#125;rpx&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span></span></span><br><span class="line"><span class="tag">    <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;listData&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">wx:for-index</span>=<span class="string">&quot;index&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">wx:key</span>=<span class="string">&quot;index&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;item.isDisplay&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">  &gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- åˆ—è¡¨é¡¹å†…å®¹æ ·å¼ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">style</span>=<span class="string">&quot;height:&#123;&#123;belowHideNum*itemHeight&#125;&#125;rpx&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åè®¾ç½®åˆ—è¡¨å…ƒç´ çš„é«˜åº¦å’Œåˆ—è¡¨é¡¹æ•°ï¼Œåœ¨é¡µé¢çš„ onLoad å‡½æ•°ä¸­è®¡ç®—å¾—åˆ°æ˜¾ç¤ºåŒºåŸŸçš„é«˜åº¦å’Œæ˜¾ç¤ºåŒºåŸŸä¸­çš„æœ€åä¸€é¡¹çš„ indexï¼Œåœ¨åˆæ¬¡æ„å»º listData æ—¶å°†æ­¤ index ä»¥åçš„åˆ—è¡¨é¡¹çš„ isDisplay å±æ€§è®¾ç½®ä¸º false é˜»æ­¢å…¶åœ¨é¡µé¢æ¸²æŸ“ã€‚</p>
<p>è®¡ç®—å®¹å™¨å†…çš„åˆ—è¡¨é¡¹æ•°ï¼š</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> containerItem =</span><br><span class="line">  <span class="title class_">Math</span>.<span class="title function_">floor</span>(viewHeight / itemHeight) +</span><br><span class="line">  (viewHeight % itemHeight &gt; itemHeight / <span class="number">2</span> ? <span class="number">2</span> : <span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ  onPageScroll ç›‘å¬é¡µé¢æ»šåŠ¨ï¼š</p>
<ul>
<li>åˆ—è¡¨å‘ä¸‹æ»šåŠ¨æ—¶ä¿è¯å½“å‰æ˜¾ç¤ºåŒºåŸŸå†…çš„æœ€åä¸€é¡¹å¤„äºæ˜¾ç¤ºï¼Œä¸”åˆ¤æ–­æ˜¾ç¤ºåŒºåŸŸçš„ç¬¬ä¸€é¡¹æ˜¯å¦æ›´æ–°ï¼Œå¦‚æœæ›´æ–°ï¼ˆè¯´æ˜åŸåˆ—è¡¨ç¬¬ä¸€é¡¹ä»ä¸Šæ–¹ç§»é™¤ï¼‰ï¼Œåˆ™å°†å…¶å¸è½½</li>
<li>å‘ä¸Šæ»šåŠ¨æ—¶ä¿è¯å½“å‰æ˜¾ç¤ºåŒºåŸŸå†…çš„ç¬¬ä¸€é¡¹å¤„äºæ˜¾ç¤ºï¼Œä¸”åˆ¤æ–­æ˜¾ç¤ºåŒºåŸŸçš„æœ€åä¸€é¡¹æ˜¯å¦æ›´æ–°ï¼Œå¦‚æœæ›´æ–°ï¼ˆè¯´æ˜åŸåˆ—è¡¨æœ€åä¸€é¡¹ä»ä¸‹æ–¹ç§»é™¤ï¼‰ï¼Œåˆ™å°†å…¶å¸è½½</li>
<li>æ›´æ–° firstIndexã€lastIndexã€aboveHideNumã€belowHideNumã€oldScrollTop å€¼</li>
</ul>
<p><img src="intro2.png"></p>
<p>list.ts æ–‡ä»¶<br><img src="code6.png"></p>
<p>æ…¢æ»‘æ•ˆæœå±•ç¤ºï¼š</p>
<img src="view3.gif" width="220" height="375" alt="æ…¢æ»‘æ•ˆæœå›¾" align="center">

<p>å¿«æ»‘æ•ˆæœå±•ç¤ºï¼š</p>
<img src="view4.gif" width="220" height="375" alt="æ…¢æ»‘æ•ˆæœå›¾" align="center">

<img src="view5.png" width="550" height="450" alt="æ…¢æ»‘æ•ˆæœå›¾" align="center">

<p>ç”±ä¸Šä½“éªŒæŠ¥å‘Šå¯ä»¥çœ‹å‡ºï¼Œé€šè¿‡å¸è½½æ˜¾ç¤ºåŒºåŸŸä»¥å¤–çš„èŠ‚ç‚¹å¯ä»¥å¾ˆå¤§ç¨‹åº¦ä¸Šä¼˜åŒ–æˆ‘ä»¬çš„å°ç¨‹åºæ€§èƒ½ã€‚æ—¢é¿å…äº†ä½¿ç”¨è¿‡å¤§çš„ WXML èŠ‚ç‚¹æ•°ç›®ï¼Œåˆé¿å…äº†æ¸²æŸ“ç•Œé¢è€—æ—¶è¿‡é•¿çš„æƒ…å†µã€‚ä¸æ­¤åŒæ—¶æˆ‘ä»¬åˆé‡åˆ°äº†ä¸€ä¸ªæ€§èƒ½é—®é¢˜ï¼š<strong>setData çš„è°ƒç”¨è¿‡äºé¢‘ç¹</strong>ã€‚</p>
<p>ä»é¡µé¢ä½“éªŒæ¥çœ‹ï¼Œåœ¨æ»šåŠ¨è¿‡ç¨‹ä¸­ä¹Ÿä¼šæœ‰çŸ­æš‚çš„ç™½å±æƒ…å†µã€‚æ­¤å¤–å¦‚æœæ»šåŠ¨é€Ÿåº¦å¾ˆå¿«çš„æ—¶å€™ï¼Œä¼šå­˜åœ¨æœ‰èŠ‚ç‚¹ä¸èƒ½æˆåŠŸå¸è½½å¯¼è‡´åˆ—è¡¨å±•ç¤ºå‡ºç°é—®é¢˜ã€‚</p>
<h2 id="4-æ€§èƒ½ä¼˜åŒ–"><a href="#4-æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="4. æ€§èƒ½ä¼˜åŒ–"></a>4. æ€§èƒ½ä¼˜åŒ–</h2><p><strong>setData ä¼˜åŒ–</strong></p>
<p>å¾®ä¿¡å®˜æ–¹æ–‡æ¡£å¯¹ <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/performance/tips/runtime_setData.html">setData ä¼˜åŒ–</a>æœ‰å¾ˆè¯¦ç»†çš„è¯´æ˜ã€‚</p>
<p>setData åº”åªç”¨æ¥è¿›è¡Œæ¸²æŸ“ç›¸å…³çš„æ•°æ®æ›´æ–°ã€‚ç”¨ setData çš„æ–¹å¼æ›´æ–°æ¸²æŸ“æ— å…³çš„å­—æ®µï¼Œä¼šè§¦å‘é¢å¤–çš„æ¸²æŸ“æµç¨‹ï¼Œæˆ–è€…å¢åŠ ä¼ è¾“çš„æ•°æ®é‡ï¼Œå½±å“æ¸²æŸ“è€—æ—¶ã€‚éœ€è¦å°†é¡µé¢æˆ–ç»„ä»¶æ¸²æŸ“æ— å…³çš„æ•°æ®ç§»å…¥é data çš„å­—æ®µä¸‹</p>
<p>å› ä¸ºåœ¨æ»šåŠ¨è¿‡ç¨‹ä¸­ä¼šæ¶‰åŠåˆ°å¯¹ listData ä¸­çš„ä¸€ç»„æ•°æ®çš„æ”¹å˜ï¼Œåœ¨å¾ªç¯éå†æ—¶å°†ä¼šé¢‘ç¹è°ƒç”¨ setData å¾ˆå¤§ç¨‹åº¦å½±å“æ€§èƒ½ã€‚è¿™æ—¶å€™åº”å½“å°†æ”¹å˜çš„æ•°æ®ç»Ÿä¸€æ”¶é›†ç„¶åä¸€æ¬¡æ€§å¤„ç†ã€‚</p>
<p>For example:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">newData</span>: <span class="title class_">AnyObject</span> = &#123;&#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = firstIndex; i &lt; curFIndex; i++) &#123;</span><br><span class="line">  <span class="comment">// this.setData(&#123;`listData[$&#123;i&#125;].isDisplay`:true&#125;);</span></span><br><span class="line">  newData[<span class="string">`listData[<span class="subst">$&#123;i&#125;</span>].isDisplay`</span>] = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">this</span>.<span class="title function_">setData</span>(newData);</span><br></pre></td></tr></table></figure>

<p><strong>èŠ‚æµ</strong></p>
<p>ç”±äºæˆ‘ä»¬æ˜¯åœ¨æ»šåŠ¨äº‹ä»¶ä¸­è¿›è¡Œç›‘å¬å¹¶æ‰§è¡Œ setDataï¼Œæ‰€ä»¥éšç€æ»šåŠ¨äº‹ä»¶çš„å‘ç”Ÿï¼Œå°†ä¼šä¸æ–­è§¦å‘ setData æ‰§è¡Œã€‚å› æ­¤ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥å¯¹ onPageScroll å¼•å…¥èŠ‚æµã€‚</p>
<p>èŠ‚æµå‡½æ•°ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">throttle</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> previous = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> _this = <span class="variable language_">this</span>;</span><br><span class="line">    <span class="keyword">const</span> gapTime = <span class="number">300</span>;</span><br><span class="line">    <span class="keyword">const</span> endTime = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>();</span><br><span class="line">    <span class="keyword">if</span> (endTime - previous &gt; gapTime) &#123;</span><br><span class="line">      fn.<span class="title function_">call</span>(_this, <span class="variable language_">arguments</span>);</span><br><span class="line">      previous = endTime;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="attr">onPageScroll</span>: <span class="title function_">throttle</span>(<span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="comment">// Do Something</span></span><br><span class="line">  &#125;),</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>æ•ˆæœå±•ç¤ºï¼š<br><img src="view6.gif" width="220" height="375" alt="æ…¢æ»‘æ•ˆæœå›¾" align="center"></p>
<img src="view7.png" width="550" height="390" alt="æ…¢æ»‘æ•ˆæœå›¾" align="center">

<p>ä»ä½“éªŒè¯„åˆ†ä¸Šæ¥çœ‹ï¼Œæˆ‘ä»¬çš„æ–¹æ¡ˆåœ¨æ€§èƒ½å’Œä½“éªŒæ–¹é¢æ»¡è¶³äº†è¦æ±‚ã€‚ç„¶è€Œå½“å±å¹•å¿«é€Ÿæ»šåŠ¨æ—¶ç”±äºèŠ‚æµçš„ç¼˜æ•…ï¼Œæ²¡æ³•ä¿è¯ curFIndex ä¸ firstIndex ä»¥åŠ curLIndex ä¸ lastIndex ä¹‹é—´çš„å·®å€¼ä¸º 1ï¼Œæ‰€ä»¥åªå¯¹é¦–æœ«é¡¹è¿›è¡Œæ“ä½œå®¹æ˜“ä½¿æˆ‘ä»¬çš„åˆ—è¡¨å‡ºç°é—æ¼çš„æƒ…å†µã€‚</p>
<p>Tips:èŠ‚æµä¸èƒ½æŠŠé—´éš”è®¾ç½®å¤ªé•¿ï¼Œæ¯•ç«Ÿå¤ªé•¿äº†ä¹Ÿä¼šå¯¼è‡´å¡é¡¿ã€‚</p>
<h2 id="5-åˆ—è¡¨é—æ¼é—®é¢˜å¤„ç†"><a href="#5-åˆ—è¡¨é—æ¼é—®é¢˜å¤„ç†" class="headerlink" title="5. åˆ—è¡¨é—æ¼é—®é¢˜å¤„ç†"></a>5. åˆ—è¡¨é—æ¼é—®é¢˜å¤„ç†</h2><p>ç”±äºæ˜¯ curFIndex ä¸ firstIndex ä»¥åŠ curLIndex ä¸ lastIndex ä¹‹é—´çš„å·®å€¼ä¸èƒ½ä¿è¯ä¸è¶…è¿‡ 1 çš„ç¼˜æ•…ï¼Œæˆ‘ä»¬éœ€è¦å°†æ­¤ä¹‹é—´çš„å€¼è¿›è¡Œç»Ÿä¸€å¤„ç†ï¼Œä»¥è¾¾åˆ°å¿«é€Ÿæ»šåŠ¨æ—¶æ”¹å˜èƒ½è¦†ç›–åˆ°æ‰€æœ‰æ¶‰åŠåˆ—è¡¨é¡¹ã€‚ä¿®æ”¹ onPageScroll ä¸­çš„æ»šåŠ¨äº‹ä»¶ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (scrollTop - oldScrollTop &gt; <span class="number">0</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = firstIndex; i &lt; curFIndex; i++) &#123;</span><br><span class="line">    newData[<span class="string">`listData[<span class="subst">$&#123;i&#125;</span>].isDisplay`</span>] = <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = lastIndex; i &lt;= curLIndex &amp;&amp; i &lt; listLen; i++) &#123;</span><br><span class="line">    newData[<span class="string">`listData[<span class="subst">$&#123;i&#125;</span>].isDisplay`</span>] = <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (scrollTop - oldScrollTop &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = firstIndex; i &gt;= curFIndex; i--) &#123;</span><br><span class="line">    newData[<span class="string">`listData[<span class="subst">$&#123;i&#125;</span>].isDisplay`</span>] = <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = lastIndex; i &gt; curLIndex; i--) &#123;</span><br><span class="line">    newData[<span class="string">`listData[<span class="subst">$&#123;i&#125;</span>].isDisplay`</span>] = <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸€å¼€å§‹æƒ³å½“ç„¶ç”¨äº†ä¸¤ä¸ªç®€å•çš„å¾ªç¯æ¸²æŸ“ï¼Œæ»šåŠ¨æ…¢çš„è¯æ²¡æœ‰é—®é¢˜ï¼Œå¯ä¸€æ—¦æ»šåŠ¨è¿‡å¿«å¯¼è‡´ä¸€æ¬¡æ›´æ–°ä¸­ curFIndex &gt; lastIndex æ—¶ï¼Œæœ¬è¯¥éšè—çš„åˆ—è¡¨é¡¹åˆè¢«å±•ç¤ºäº†ï¼ŒåŒç†å‘ä¸Šæ»‘ä¹Ÿæ˜¯ä¸€æ ·ã€‚å› æ­¤ï¼Œä¸ºäº†èƒ½è®©åˆ—è¡¨ç»Ÿä¸€ï¼Œè®¡ç®—è·å¾—å®¹å™¨å†…çš„åˆ—è¡¨é¡¹çš„é¡¹æ•°ï¼Œä»¥æ­¤æ¥å¯¹åˆ—è¡¨ä¸‹æ–¹é¡¹æ•°è¿›è¡Œæ“ä½œã€‚åŒæ—¶ä¹Ÿè¦ä¿è¯æ˜¾ç¤ºè§†å›¾ä¸­çš„æœ€åä¸€é¡¹å§‹ç»ˆä¿æŒå±•ç¤ºã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è·å–æ˜¾ç¤ºè§†å›¾çš„æœ€å¤§å±•ç¤ºåˆ—è¡¨é¡¹æ•°</span></span><br><span class="line"><span class="keyword">const</span> containerItem =</span><br><span class="line">  <span class="title class_">Math</span>.<span class="title function_">floor</span>(viewHeight / itemHeight) +</span><br><span class="line">  (viewHeight % itemHeight &gt; itemHeight / <span class="number">2</span> ? <span class="number">2</span> : <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ»šåŠ¨çš„äº‹ä»¶è§¦å‘</span></span><br><span class="line"><span class="keyword">if</span> (scrollTop - oldScrollTop &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = firstIndex; i &lt; curFIndex; i++) &#123;</span><br><span class="line">      newData[<span class="string">`listData[<span class="subst">$&#123;i&#125;</span>].isDisplay`</span>] = <span class="literal">false</span>;</span><br><span class="line">      newData[<span class="string">`listData[<span class="subst">$&#123;i + containerItem - <span class="number">1</span>&#125;</span>].isDisplay`</span>] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (scrollTop - oldScrollTop &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = firstIndex; i &gt;= curFIndex; i--) &#123;</span><br><span class="line">      newData[<span class="string">`listData[<span class="subst">$&#123;i&#125;</span>].isDisplay`</span>] = <span class="literal">true</span>;</span><br><span class="line">      newData[<span class="string">`listData[<span class="subst">$&#123;i + containerItem - <span class="number">1</span>&#125;</span>].isDisplay`</span>] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ•ˆæœå±•ç¤ºï¼š</p>
<img src="view8.gif" width="220" height="375" alt="æ…¢æ»‘æ•ˆæœå›¾" align="center">

<p>è‡³æ­¤ï¼Œæˆ‘ä»¬çš„åˆ—è¡¨å·²ç»å¯ä»¥å®Œæ•´çš„å±•ç¤ºï¼Œä½†æ˜¯è¿˜éœ€è¦è§£å†³ç™½å±é—ªåŠ¨é—®é¢˜ã€‚</p>
<h2 id="6-ç™½å±é—ªåŠ¨ä¼˜åŒ–"><a href="#6-ç™½å±é—ªåŠ¨ä¼˜åŒ–" class="headerlink" title="6. ç™½å±é—ªåŠ¨ä¼˜åŒ–"></a>6. ç™½å±é—ªåŠ¨ä¼˜åŒ–</h2><p>ç”±äºæˆ‘ä»¬ç°åœ¨å¯¹åˆ—è¡¨çš„å¤„ç†éƒ½æ˜¯ä¾ç…§æ˜¾ç¤ºåŒºåŸŸçš„ç¬¬ä¸€é¡¹è¿›è¡Œæ“ä½œï¼Œå½“åˆ—è¡¨é¡¹æ•°å¾ˆå¤§æ—¶å¿«é€Ÿä¸Šä¸‹æ»šåŠ¨å¾ˆå®¹æ˜“äº§ç”ŸçŸ­æš‚çš„ç™½å±ã€‚è¦è§£å†³æ­¤é—®é¢˜å¼•å…¥çš„æ–¹æ¡ˆå°±æ˜¯æ·»åŠ â€œç¼“å†²åŒºâ€ã€‚ä¹Ÿå°±æ˜¯åœ¨å¯è§†åŒºåŸŸçš„ä¸Šä¸‹éƒ¨åˆ†é¢å¤–æ·»åŠ æ¸²æŸ“çš„èŠ‚ç‚¹ï¼Œæ¥é˜²æ­¢ç™½å±çš„å‡ºç°ã€‚é€šè¿‡<strong>bufferNum</strong>å­—æ®µæ§åˆ¶ç¼“å†²åŒºè¦å±•ç¤ºçš„åˆ—è¡¨é¡¹æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">onPageScroll</span>: <span class="title function_">throttle</span>(<span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">const</span> curFIndex = <span class="title class_">Math</span>.<span class="title function_">floor</span>(scrollTop / itemPxHeight) - bufferNum; <span class="comment">// æ¸²æŸ“åŒºåŸŸç¬¬ä¸€é¡¹</span></span><br><span class="line">  <span class="keyword">const</span> curLIndex =</span><br><span class="line">    <span class="title class_">Math</span>.<span class="title function_">floor</span>((scrollTop + containerHeight) / itemPxHeight) + bufferNum; <span class="comment">// æ˜¾ç¤ºåŒºåŸŸæœ€åä¸€é¡¹</span></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">if</span> (curFIndex &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = firstIndex; i &lt; curFIndex; i++) &#123;</span><br><span class="line">      newData[<span class="string">`listData[<span class="subst">$&#123;i&#125;</span>].isDisplay`</span>] = <span class="literal">false</span>;</span><br><span class="line">      <span class="keyword">const</span> lastShowIndex = i + containerItem + <span class="number">2</span> * bufferNum;</span><br><span class="line">      <span class="keyword">if</span> (lastShowIndex &lt; listLen) &#123;</span><br><span class="line">        newData[<span class="string">`listData[<span class="subst">$&#123;lastShowIndex&#125;</span>].isDisplay`</span>] = <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>å¯¹äº bufferNum å€¼çš„è®¾ç½®ï¼Œè¿™é‡Œé‡‡å–å¾®ä¿¡ recycle-view çš„æ–¹æ¡ˆï¼Œæ¸²æŸ“å½“å‰å±å¹•å‰åä¸¤ä¸ªå±å¹•çš„å†…å®¹ã€‚</p>
<p>æ•ˆæœå±•ç¤ºï¼š<br><img src="view9.gif" width="220" height="375" alt="æ…¢æ»‘æ•ˆæœå›¾" align="center"></p>
<p>è‡³æ­¤ï¼Œä¸€ä¸ªè™šæ‹Ÿåˆ—è¡¨çš„å®ç°å·²ç»å®Œæˆï¼Œå¯ä»¥æ”¯æŒæˆ‘ä»¬ç»§ç»­å¢åŠ åˆ—è¡¨çš„é•¿åº¦æˆ–è€…å¢åŠ åˆ—è¡¨é¡¹çš„å¤æ‚åº¦ã€‚</p>
<h2 id="7-æ·»åŠ -showListConfig-é…ç½®"><a href="#7-æ·»åŠ -showListConfig-é…ç½®" class="headerlink" title="7. æ·»åŠ  showListConfig é…ç½®"></a>7. æ·»åŠ  showListConfig é…ç½®</h2><p>åŸå…ˆçš„å®ç°æ˜¯é€šè¿‡æ”¹å˜åˆ—è¡¨æ•°æ®ï¼Œä¸ºåˆ—è¡¨çš„æ¯ä¸€é¡¹æ•°æ®é¢å¤–æ·»åŠ  isDisplay å­—æ®µå»æ§åˆ¶åˆ—è¡¨æ˜¯å¦å±•ç¤ºã€‚è¿™æ ·ä¼šæ±¡æŸ“åŸæ•°æ®ï¼Œå¹¶ä¸”åœ¨æ·»åŠ æ–°æ•°æ®æ—¶ä¼šå¼•èµ·æ–°æ—§ä¸¤ä¸ªåˆ—è¡¨çš„ä¸ä¸€è‡´ã€‚æ”¹è¿›åï¼šé¢å¤–ç”¨ showListConfig æ•°ç»„æ¥æ§åˆ¶åˆ—è¡¨é¡¹çš„å±•ç¤ºä¸å¦ï¼ŒåŒæ—¶ç›‘å¬åˆ—è¡¨æ•°æ®ï¼Œå¦‚æœæœ‰æ”¹å˜åˆ™å¯¹æ–°å¢çš„åˆ—è¡¨é¡¹è¿›è¡Œè®¾ç½®ã€‚</p>
<p>Component: virtual-list.ts</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">observers = &#123;</span><br><span class="line">  <span class="title function_">listData</span>(<span class="params">listData</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="attr">newData</span>: <span class="title class_">AnyObject</span> = &#123;&#125;;</span><br><span class="line">    <span class="keyword">const</span> &#123; listLen, bufferNum, lastIndex &#125; = <span class="variable language_">this</span>.<span class="property">customData</span>;</span><br><span class="line">    <span class="keyword">const</span> len = listData.<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = listLen; i &lt; len; i++) &#123;</span><br><span class="line">      newData[<span class="string">`showListConfig[<span class="subst">$&#123;i&#125;</span>]`</span>] = i &lt;= listLen + bufferNum;</span><br><span class="line">    &#125;</span><br><span class="line">    newData.<span class="property">belowHideNum</span> = len - lastIndex - <span class="number">1</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(newData);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">customData</span>.<span class="property">listLen</span> = len;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>virtual-list.wxml</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span></span></span><br><span class="line"><span class="tag">  <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;listData&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">wx:for-index</span>=<span class="string">&quot;index&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">wx:for-key</span>=<span class="string">&quot;index&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;showListConfig[index]&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- åˆ—è¡¨æ ·å¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="8-æ‡’åŠ è½½"><a href="#8-æ‡’åŠ è½½" class="headerlink" title="8. æ‡’åŠ è½½"></a>8. æ‡’åŠ è½½</h2><p>æˆ‘ä»¬çš„åˆå§‹çš„ 3000 æ¡æ•°æ®æ˜¯åœ¨é¡µé¢ onLoad ä¸­æ¨¡æ‹Ÿç”Ÿæˆçš„ï¼ŒçœŸå®åœºæ™¯ä¸‹æˆ‘ä»¬çš„åˆ—è¡¨æ•°æ®éƒ½æ˜¯ä»æ¥å£è·å¾—çš„ï¼Œæˆ‘ä»¬æ²¡æ³•ä¿è¯ä¸€ä¸ªæ¥å£åœ¨è·å– 3000 æ¡ç”šè‡³æ›´å¤šæ•°æ®æ—¶è¿˜èƒ½æœ‰è‰¯å¥½çš„æ€§èƒ½ï¼Œä¸€æ—¦æ¥å£è¿‡æ…¢ï¼Œä¹Ÿä¼šå½±å“æˆ‘ä»¬çš„é¦–å±å±•ç¤ºæ—¶é—´ã€‚ä¸”å¤„ç†è¿‡é•¿ showListConfig é…ç½®ä¹Ÿä¼šæœ‰æ—¶é—´æ¶ˆè€—ï¼Œå› æ­¤å¼•å…¥æ‡’åŠ è½½çš„æ¦‚å¿µã€‚</p>
<p>ä»€ä¹ˆæ˜¯æ‡’åŠ è½½ï¼Ÿ</p>
<p>æ‡’åŠ è½½æ˜¯ä¸€ç§æµè§ˆæµ·é‡ä¿¡æ¯çš„æ–¹å¼ï¼ŒåŸºæœ¬åŠŸèƒ½æ˜¯å½“ç”¨æˆ·åˆ’è¿‡å·²åŠ è½½çš„å†…å®¹åï¼Œæ›´å¤šçš„å†…å®¹å¯ä»¥è¢«åŠ è½½ã€‚</p>
<p>æ‡’åŠ è½½ &amp;&amp; åˆ†é¡µ</p>
<p>åœ¨ Web ç«¯ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªåˆ—è¡¨çš„æœ€å¤šå±•ç¤ºåˆ—è¡¨é¡¹ï¼Œå¹¶é€šè¿‡ç¿»é¡µæŒ‰é’®é‡æ–°è·å–æ•°æ®å¹¶æ›¿æ¢åˆ—è¡¨ä¸­çš„å€¼ã€‚åŒæ ·åˆ©ç”¨æ­¤æ€æƒ³ï¼Œåœ¨å°ç¨‹åºç«¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è§¦åº•äº‹ä»¶è°ƒå–æ¥å£æ•°æ®ï¼Œä¸”æ¯æ¬¡åªè°ƒå–éƒ¨åˆ†æ•°æ®åŠ å…¥åˆ°åˆ—è¡¨åº•ç«¯å®ç°æ€§èƒ½çš„ä¼˜åŒ–ã€‚ç°é˜¶æ®µå•†å“åˆ—è¡¨çš„å±•ç¤ºå°±æ˜¯é‡‡ç”¨è¿™ç§æ–¹æ¡ˆé¿å…é¦–æ¬¡æ¸²æŸ“è¿‡æ…¢çš„æƒ…å†µå‘ç”Ÿã€‚</p>
<p>ä¸¤è€…éƒ½æ˜¯æ¯æ¬¡è°ƒå–æ¥å£è·å–ä¸€å°éƒ¨åˆ†åˆ—è¡¨æ•°æ®ï¼Œä¸åŒçš„æ˜¯ï¼šæ‡’åŠ è½½ä¸å¯¹å·²æœ‰æ•°æ®è¿›è¡Œè¦†ç›–æ›´æ–°ï¼Œæ¯æ¬¡è·å–æ•°æ®åæ·»åŠ è‡³åˆ—è¡¨åº•éƒ¨ï¼›åˆ†é¡µä¸­è·å–çš„æ•°æ®ä¼šæ›¿æ¢åŸæ¥æ•°æ®æ›´æ–°åˆ—è¡¨è¿›è¡Œå±•ç¤ºã€‚</p>
<p>æ‡’åŠ è½½çš„é—®é¢˜ï¼šåŒæ ·éœ€è¦å¸è½½èŠ‚ç‚¹ï¼ï¼å¦åˆ™å½“æ•°æ®å¢åŠ åä¾ç„¶ä¼šå¯¼è‡´èŠ‚ç‚¹æ•°é‡è¿‡å¤šã€‚</p>
<p>åˆ©ç”¨æ‡’åŠ è½½çš„æ€æƒ³å¯¹åŸå…ˆåˆ—è¡¨è¿›è¡Œæ”¹é€ ï¼Œæ¨¡æ‹Ÿæ»šåŠ¨åˆ°åº•éƒ¨è°ƒå–æ–°æ•°æ®åŠ å…¥åˆ°åˆ—è¡¨ï¼Œä¸”é¦–æ¬¡ä¸å†åŠ è½½é‚£ä¹ˆå¤šåˆ—è¡¨é¡¹ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">onReachBottom</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> newList = [];</span><br><span class="line">  <span class="keyword">const</span> len = <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">listData</span>.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    newList.<span class="title function_">push</span>(&#123;</span><br><span class="line">      <span class="attr">isDisplay</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">title</span>: <span class="string">`Virtual-List Title <span class="subst">$&#123;len + i&#125;</span>`</span>,</span><br><span class="line">      <span class="attr">image</span>:</span><br><span class="line">        <span class="string">&#x27;https://bizmid-material-qa-1302115263.file.myqcloud.com/persist/h60ks7hmciws/h60ks7hmciws-2b525811.jpeg&#x27;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> newLen = len + newList.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">const</span> dataListUpdates = newList.<span class="title function_">reduce</span>(<span class="function">(<span class="params">acc, item, index</span>) =&gt;</span> &#123;</span><br><span class="line">    acc[<span class="string">`listData[<span class="subst">$&#123;len + index&#125;</span>]`</span>] = item;</span><br><span class="line">    <span class="keyword">return</span> acc;</span><br><span class="line">  &#125;, &#123;&#125;);</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">len</span> = newLen;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123; ...dataListUpdates &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Tipsï¼šçœŸå®åœºæ™¯ä¸­ä¹Ÿå¯ä»¥å¢åŠ  loading æ¥è¡¨ç¤ºæ•°æ®çš„åŠ è½½è¿‡ç¨‹ï¼Œè¿™é‡Œä¸åšå±•ç¤ºã€‚</p>
<p>æ­¤æ—¶æˆ‘ä»¬å®Œæˆäº†æ‡’åŠ è½½å’Œè™šæ‹Ÿåˆ—è¡¨æ€æƒ³çš„ç»“åˆã€‚</p>
<h2 id="9-ç»“åˆ-scroll-view-å®ç°"><a href="#9-ç»“åˆ-scroll-view-å®ç°" class="headerlink" title="9. ç»“åˆ scroll-view å®ç°"></a>9. ç»“åˆ scroll-view å®ç°</h2><p>ä¸Šè¿°å®ç°æ˜¯ç›´æ¥åŸºäºé¡µé¢æ»šåŠ¨äº‹ä»¶å¯¹åˆ—è¡¨è¿›è¡Œæ“ä½œï¼Œåœ¨ä½¿ç”¨æ—¶å¹¶ä¸æ˜¯ååˆ†æ–¹ä¾¿ï¼Œä¸”åœ¨çœŸå®åœºæ™¯ä¸­æ›´å¤šæƒ…å†µä¸‹åˆ—è¡¨çš„å¯è§†åŒºåŸŸå¹¶ä¸æ˜¯æ•´ä¸ªé¡µé¢ã€‚ä¸‹é¢å°±å®ç°äº†å°†è™šæ‹Ÿåˆ—è¡¨å°è£…åœ¨ scroll-view ä¸­ï¼Œå¹¶ä¸”å°†æ»šåŠ¨ç›‘å¬ç§»å…¥ scroll-view çš„ bindscroll æ–¹æ³•ä¸­ã€‚</p>
<p>åº”ç”¨æ‡’åŠ è½½åå·²ç»æ”¯æŒåˆ—è¡¨åˆ’åˆ°åº•éƒ¨å¢åŠ æ–°çš„æ•°æ®ï¼Œä½†æ˜¯æ–°æ•°æ®æš‚æ—¶è¿˜æ˜¯åœ¨ç»„ä»¶å†…éƒ¨å†™æ­»ï¼Œéœ€è¦å°†äº‹ä»¶é€ä¼ å‡ºå»åœ¨å¤–éƒ¨ç»Ÿä¸€è°ƒå–æ–°æ•°æ®ï¼Œè€Œä¸æ˜¯åœ¨å†…éƒ¨å¯¹åˆ—è¡¨æ•°æ®è¿›è¡Œæ“ä½œã€‚åœ¨ç»„ä»¶å†…çš„ onScrollEnd æ–¹æ³•å†…è°ƒç”¨ triggerEvent æ–¹æ³•<code>this.triggerEvent(&#39;scrollToEnd&#39;);</code>åŒæ—¶ç»‘å®š scrollToEnd æ–¹æ³•<code>bindscrollToEnd=&quot;onScrollEnd&quot;</code>æ”¯æŒç”¨æˆ·åœ¨ onScrollEnd ä¸­è‡ªå®šä¹‰å¯¹åˆ—è¡¨æ•°æ®è¿›è¡Œå¤„ç†ã€‚</p>
<p>virtual-list.wxml æ–‡ä»¶</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;list-container&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scroll-view</span></span></span><br><span class="line"><span class="tag">    <span class="attr">scroll-y</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">bindscroll</span>=<span class="string">&quot;onListScroll&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">style</span>=<span class="string">&quot;height: &#123;&#123;viewHeight&#125;&#125;rpx&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">bindscrolltolower</span>=<span class="string">&quot;onScrollEnd&quot;</span></span></span><br><span class="line"><span class="tag">  &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">style</span>=<span class="string">&quot;height:&#123;&#123;aboveHideNum * itemHeight&#125;&#125;rpx&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span></span></span><br><span class="line"><span class="tag">      <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;listData&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">wx:for-index</span>=<span class="string">&quot;index&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">wx:key</span>=<span class="string">&quot;index&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;showListConfig[index]&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- åˆ—è¡¨é¡¹å†…å®¹æ ·å¼ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">style</span>=<span class="string">&quot;height:&#123;&#123;belowHideNum * itemHeight&#125;&#125;rpx&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">scroll-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>virtual-list.ts æ–‡ä»¶<br><img src="code8.png"></p>
<h2 id="10-æ”¯æŒè°ƒç”¨ä¼ å…¥åˆ—è¡¨é¡¹æ ·å¼"><a href="#10-æ”¯æŒè°ƒç”¨ä¼ å…¥åˆ—è¡¨é¡¹æ ·å¼" class="headerlink" title="10. æ”¯æŒè°ƒç”¨ä¼ å…¥åˆ—è¡¨é¡¹æ ·å¼"></a>10. æ”¯æŒè°ƒç”¨ä¼ å…¥åˆ—è¡¨é¡¹æ ·å¼</h2><p>æ›´æ”¹ä½¿ç”¨ slot æ”¯æŒè°ƒç”¨æ–¹ä¼ å…¥åˆ—è¡¨é¡¹çš„æ ·å¼ã€‚</p>
<p>ç»„ä»¶æ ·å¼:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">scroll-view</span></span></span><br><span class="line"><span class="tag">  <span class="attr">scroll-y</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">bindscroll</span>=<span class="string">&quot;onListScroll&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">style</span>=<span class="string">&quot;height: &#123;&#123;viewHeight&#125;&#125;rpx&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">bindscrolltolower</span>=<span class="string">&quot;onScrollEnd&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">style</span>=<span class="string">&quot;height:&#123;&#123;aboveHideNum * itemHeight&#125;&#125;rpx&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span></span></span><br><span class="line"><span class="tag">    <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;listData&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">wx:for-index</span>=<span class="string">&quot;index&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">wx:key</span>=<span class="string">&quot;index&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;showListConfig[index]&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">  &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;list-item-&#123;&#123;index&#125;&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">style</span>=<span class="string">&quot;height:&#123;&#123;belowHideNum * itemHeight&#125;&#125;rpx&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">scroll-view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è°ƒç”¨:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">t-virtual-list</span></span></span><br><span class="line"><span class="tag">  <span class="attr">listData</span>=<span class="string">&quot;&#123;&#123;listData&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">itemHeight</span>=<span class="string">&quot;&#123;&#123;itemHeight&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">bufferNum</span>=<span class="string">&quot;&#123;&#123;bufferNum&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">viewHeight</span>=<span class="string">&quot;&#123;&#123;viewHeight&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">bindscrollToEnd</span>=<span class="string">&quot;onReachBottom&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;listData&#125;&#125;&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;index&quot;</span> <span class="attr">slot</span>=<span class="string">&quot;list-item-&#123;&#123;index&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123;item.image&#125;&#125;&quot;</span> <span class="attr">style</span>=<span class="string">&quot;height: 200rpx; width: 200rpx&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span>&gt;</span>&#123;&#123;item.title&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">t-virtual-list</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="11-å‰åå¯¹æ¯”"><a href="#11-å‰åå¯¹æ¯”" class="headerlink" title="11. å‰åå¯¹æ¯”"></a>11. å‰åå¯¹æ¯”</h2><p>å¦‚æœæƒ³è¦çŸ¥é“ setData å¼•å‘ç•Œé¢æ›´æ–°çš„å¼€é”€ï¼Œå¯ä»¥ä½¿ç”¨æ›´æ–°æ€§èƒ½ç»Ÿè®¡ä¿¡æ¯æ¥å£<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/update-perf-stat.html">setUpdatePerformanceListener</a>è®°å½•æ»šåŠ¨è¿‡ç¨‹ä¸­æ¸²æŸ“æ›´æ–°æœ€å¤§è€—æ—¶ã€‚ä¸‹é¢æ˜¯æˆ‘å¯¹æ™®é€šé•¿åˆ—è¡¨æ¸²æŸ“å’Œä½¿ç”¨ä¸Šè¿°æ–¹æ¡ˆæ¸²æŸ“é•¿åˆ—è¡¨çš„ 5 æ¬¡é¦–æ¬¡æ¸²æŸ“è€—æ—¶è®°å½•å¯¹æ¯”ï¼š</p>
<table>
<thead>
<tr>
<th>æ›´æ–°å‰</th>
<th>æ›´æ–°å</th>
</tr>
</thead>
<tbody><tr>
<td>1128</td>
<td>76</td>
</tr>
<tr>
<td>1075</td>
<td>67</td>
</tr>
<tr>
<td>1003</td>
<td>63</td>
</tr>
<tr>
<td>1101</td>
<td>66</td>
</tr>
<tr>
<td>1029</td>
<td>73</td>
</tr>
</tbody></table>
<p>ç”±äºæ™®é€šé•¿åˆ—è¡¨æ˜¯ä¸€æ¬¡æ€§å…¨éƒ¨æ¸²æŸ“æ‰€ä»¥è€—æ—¶ç›¸å¯¹ç‰¹åˆ«é•¿ï¼Œæ”¹ç”¨æ‡’æ¸²æŸ“åŠ èŠ‚ç‚¹å¸è½½åï¼Œé¦–æ¬¡æ¸²æŸ“è€—æ—¶èƒ½å¤Ÿå¤§å¹…åº¦é™ä½ï¼Œä¸”èƒ½å¤Ÿé¿å… WXML èŠ‚ç‚¹è¶…è¿‡æœ€å¤§è¦æ±‚è€Œå¼•èµ·çš„æ€§èƒ½é™ä½ã€‚</p>
<h1 id="å››ã€IntersectionObserver-æ–¹å¼å®ç°"><a href="#å››ã€IntersectionObserver-æ–¹å¼å®ç°" class="headerlink" title="å››ã€IntersectionObserver æ–¹å¼å®ç°"></a>å››ã€IntersectionObserver æ–¹å¼å®ç°</h1><p>ä¸Šè¿°çš„ä¸¤ç§æ–¹æ¡ˆéƒ½æ˜¯åœ¨ç›‘å¬æ»šåŠ¨äº‹ä»¶çš„åŸºç¡€ä¸Šå®Œæˆå¯¹åˆ—è¡¨é¡¹çš„å¸è½½ã€‚ä¸‹é¢å°†å°è¯•å°†ç›‘å¬å°è£…åœ¨åˆ—è¡¨é¡¹å†…éƒ¨ç”¨ IntersectionObserver Api å®ç°ç»„ä»¶çš„å¸è½½ã€‚</p>
<p><a href="https://developers.weixin.qq.com/miniprogram/dev/api/wxml/IntersectionObserver.html">IntersectionObserver</a> å¯¹è±¡ï¼Œç”¨äºæ¨æ–­æŸäº›èŠ‚ç‚¹æ˜¯å¦å¯ä»¥è¢«ç”¨æˆ·çœ‹è§ã€æœ‰å¤šå¤§æ¯”ä¾‹å¯ä»¥è¢«ç”¨æˆ·çœ‹è§ã€‚</p>
<p>åœ¨ç»„ä»¶èŠ‚ç‚¹ä¸­æ·»åŠ ç‰¹æœ‰ id è¾¨è¯†<code>id=&quot;list-item-&#123;&#123;rowIndex&#125;&#125;&quot;</code>åŒæ—¶æ·»åŠ  IntersectionObserver å¯¹å…¶è¿›è¡Œç›‘å¬ã€‚ä¸ºäº†è®©å…¶èƒ½å¤Ÿåƒä¸Šè¿°ä¸¤æ–¹æ¡ˆä¸€æ ·æ”¯æŒç¼“å†²åŒºåˆ—è¡¨é¡¹åŠ è½½ï¼Œåœ¨ relativeToViewport å‚æ•°ä¸­è®¾ç½® top å’Œ bottom çš„å±æ€§ã€‚</p>
<p>virtual-observer.wxml:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">id</span>=<span class="string">&quot;list-item-&#123;&#123;rowIndex&#125;&#125;&quot;</span> <span class="attr">style</span>=<span class="string">&quot;height: &#123;&#123;itemHeight&#125;&#125;rpx&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;showContent&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>virtual-observer.ts:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">ready</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">watchDomShow</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">detached</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">_observer</span>.<span class="title function_">disconnect</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">watchDomShow</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; showNum, itemHeight, rowIndex &#125; = <span class="variable language_">this</span>.<span class="property">properties</span>;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">_observer</span> = wx.<span class="title function_">createIntersectionObserver</span>(<span class="variable language_">this</span>);</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">_observer</span></span><br><span class="line">    .<span class="title function_">relativeToViewport</span>(&#123;</span><br><span class="line">      <span class="attr">top</span>: showNum * itemHeight,</span><br><span class="line">      <span class="attr">bottom</span>: showNum * itemHeight,</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">observe</span>(<span class="string">`#list-item-<span class="subst">$&#123;rowIndex&#125;</span>`</span>, <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; intersectionRatio &#125; = res;</span><br><span class="line">      <span class="keyword">if</span> (intersectionRatio === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123; <span class="attr">showContent</span>: <span class="literal">false</span> &#125;);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123; <span class="attr">showContent</span>: <span class="literal">true</span> &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è°ƒç”¨ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">t-virtual-observer</span></span></span><br><span class="line"><span class="tag">  <span class="attr">rowIndex</span>=<span class="string">&quot;&#123;&#123;index&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">itemHeight</span>=<span class="string">&quot;&#123;&#123;itemHeight&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;listData&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">wx:for-index</span>=<span class="string">&quot;index&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">wx:key</span>=<span class="string">&quot;index&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">showNum</span>=<span class="string">&quot;&#123;&#123;showNum&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- åˆ—è¡¨é¡¹å†…å®¹æ ·å¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">t-virtual-observer</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ•ˆæœå±•ç¤ºï¼š<br><img src="view10.gif"></p>
<img src="view11.png" width="550" height="325" alt="æ…¢æ»‘æ•ˆæœå›¾" align="center">

<p>æ­¤æ–¹æ¡ˆç”±äºä¸ºäº†ç»™æ¯ä¸€ä¸ª list-item ç»„ä»¶éƒ½æ·»åŠ å¯¹åº”çš„ IntersectionObserverï¼Œæ‰€ä»¥æ¯ä¸ª item èŠ‚ç‚¹éƒ½éœ€è¦å­˜åœ¨ï¼Œå¸è½½çš„æ˜¯å†…éƒ¨çš„å†…å®¹ï¼Œæ‰€ä»¥å¦‚æœåˆ—è¡¨å¾ˆé•¿çš„è¯èŠ‚ç‚¹æ•°å˜å¤šä¸å¯é¿å…ã€‚å…¶æ¬¡å°½ç®¡æœªæ˜¾ç¤ºçš„åˆ—è¡¨é¡¹æˆ‘ä»¬ä¸è¿›è¡Œå†…éƒ¨æ¸²æŸ“ï¼Œä½†ç”±äºæ ¹èŠ‚ç‚¹è¿˜æ˜¯éœ€è¦å­˜åœ¨ï¼Œæ‰€ä»¥å¯èƒ½ä¼šå½±å“åˆæ¬¡åŠ è½½æ€§èƒ½ã€‚</p>
<p>è€ƒè™‘çš„ä¼˜åŒ–æ–¹æ¡ˆï¼š</p>
<ol>
<li>å¸è½½å®Œæ•´ list-item ç»„ä»¶ï¼Œè€Œä¸æ˜¯åªå¸è½½å†…éƒ¨å†…å®¹</li>
<li>å¼•å…¥æ‡’åŠ è½½æ€æƒ³</li>
</ol>
<p><strong>æ–¹æ¡ˆä¸€ï¼šå¸è½½å®Œæ•´ list-item ç»„ä»¶</strong></p>
<p>å› ä¸º IntersectionObserver Api æ˜¯å¯¹èŠ‚ç‚¹çš„ç›‘å¬ï¼Œæ‰€ä»¥æ— æ³•åšåˆ°è¢«ç›‘å¬çš„èŠ‚ç‚¹å¸è½½ï¼Œæ–¹æ¡ˆä¸å¯è¡Œã€‚</p>
<p><strong>æ–¹æ¡ˆäºŒï¼šæ‡’åŠ è½½</strong></p>
<p>åŒä¹‹å‰æ–¹æ³•ä¸€æ ·ï¼Œå½“é¡µé¢è§¦å‘äº† onReachBottom æ–¹æ³•æ—¶ï¼Œæ·»åŠ æ–°çš„åˆ—è¡¨é¡¹ä¸åˆ—è¡¨æœ€åã€‚</p>
<p>ä¿®æ”¹åˆæ¬¡åŠ è½½åˆ—è¡¨é¡¹ä¸º 30 ä¸ªï¼Œæ¯æ¬¡è§¦åº•åŠ è½½ 10 ä¸ªåï¼š<br><img src="view12.png" width="550" height="435" alt="æ…¢æ»‘æ•ˆæœå›¾" align="center"></p>
<p>æ•ˆæœå±•ç¤ºï¼š<br><img src="view12.gif" width="220" height="375" alt="æ…¢æ»‘æ•ˆæœå›¾" align="center"></p>
<p>ç”±äºæ— æ³•å°†ç›‘å¬èŠ‚ç‚¹å¸è½½ï¼Œå½“åˆ—è¡¨é¡¹æ•°å°‘æ—¶å¯ä»¥è¾¾åˆ°é¢„æœŸæ•ˆæœã€‚ä½†å½“åˆ—è¡¨é¡¹è¿‡å¤šæ—¶ï¼Œæœ€å¤§å­èŠ‚ç‚¹æ•°ä¸å­èŠ‚ç‚¹æ•°ä¼šè¶…è¿‡é¢„æœŸï¼Œå½±å“æ€§èƒ½ã€‚</p>
<h1 id="äº”ã€å®é™…åº”ç”¨"><a href="#äº”ã€å®é™…åº”ç”¨" class="headerlink" title="äº”ã€å®é™…åº”ç”¨"></a>äº”ã€å®é™…åº”ç”¨</h1><p>ç°é˜¶æ®µçš„é¡¹ç›®ä¸­çš„å•†å“åˆ—è¡¨é¡µä¸­ä½¿ç”¨çš„æ˜¯æ‡’åŠ è½½çš„æ–¹å¼ï¼Œæ¯æ¬¡è°ƒå–æ¥å£è·å– 10 é¡¹åˆ—è¡¨æ•°æ®æ·»åŠ åˆ°å•†å“åˆ—è¡¨åº•éƒ¨ï¼ŒåŒæ—¶ä¹Ÿå¹¶æ²¡æœ‰å¯¹é¡µé¢è¿›è¡ŒèŠ‚ç‚¹å¸è½½ã€‚åˆ©ç”¨å°ç¨‹åºå¼€å‘å·¥å…·çš„ Audits è¿›è¡Œè¯„åˆ†å‘ç°åªåŠ è½½äº† 30 ä¸ªåˆ—è¡¨é¡¹æ€§èƒ½å°±å‡ºäº†â€œä½¿ç”¨äº†è¿‡å¤§çš„ WXML èŠ‚ç‚¹æ•°ç›®â€é—®é¢˜ã€‚<br><img src="view13.png" width="550" height="410" alt="æ…¢æ»‘æ•ˆæœå›¾" align="center"></p>
<p><strong>IntersectionObserver ç›‘å¬</strong></p>
<p>åˆ©ç”¨ä¸Šè¿°çš„æ€æƒ³ï¼Œå°†å•†å“çš„ä¸€è¡Œå±•ç¤ºè§†ä¸ºåˆ—è¡¨çš„ä¸€é¡¹ï¼Œå¯¹å…¶è¿›è¡Œç›‘å¬ï¼Œå½“å…¶ç¦»å¼€è§†å›¾å¯è§åŒºåŸŸåˆ™å¯¹å…¶å†…éƒ¨èŠ‚ç‚¹è¿›è¡Œå¸è½½ã€‚</p>
<p>åŸæ¥çš„.wxml æ–‡ä»¶</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123; dataList.length / 2 &#125;&#125;&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;*this&quot;</span> <span class="attr">wx:for-item</span>=<span class="string">&quot;rowIndex&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- æ¯è¡Œå†…å®¹æ ·å¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹åçš„.wxml æ–‡ä»¶</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">list-item</span></span></span><br><span class="line"><span class="tag">  <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123; dataList.length / 2 &#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">wx:key</span>=<span class="string">&quot;*this&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">wx:for-index</span>=<span class="string">&quot;rowIndex&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">rowIndex</span>=<span class="string">&quot;&#123;&#123;rowIndex&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">itemHeight</span>=<span class="string">&quot;242&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">bufferNum</span>=<span class="string">&quot;&#123;&#123;5&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- æ¯è¡Œå†…å®¹æ ·å¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">list-item</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è°ƒæ•´åå•†å“åˆ—è¡¨é¡µæ€§èƒ½ï¼š<br><img src="view14.png" width="550" height="320" alt="æ…¢æ»‘æ•ˆæœå›¾" align="center"></p>
<p>ç„¶è€Œéšç€å•†å“åŠ è½½è¶Šæ¥è¶Šå¤šï¼Œæœ€å¤§å­èŠ‚ç‚¹æ•°è¶…è¿‡äº†æ ‡å‡†ï¼š<br><img src="view15.png" width="550" height="325" alt="æ…¢æ»‘æ•ˆæœå›¾" align="center"></p>
<p>ä»ä¸Šå›¾å¯è§ï¼Œåº”ç”¨äº†æ­¤æ–¹æ¡ˆè§£å†³äº†æœ€å¤§èŠ‚ç‚¹æ•°è¶…å‡ºé¢„æœŸçš„é—®é¢˜ï¼Œåœ¨åˆ—è¡¨é¡¹å°äº 60 ä¸ªçš„æ—¶å€™èƒ½å¤Ÿå¾ˆå¤§ç¨‹åº¦ä¸Šæ”¹è¿›å•†å“åˆ—è¡¨çš„æ•´ä½“ä½“éªŒè¯„åˆ†ï¼Œä¹Ÿè¿›ä¸€æ­¥ä¼˜åŒ–äº†æ€§èƒ½ï¼›ä½†å¦‚æœåˆ—è¡¨é¡¹è¶…è¿‡ 60 ä¸ªæ—¶ï¼Œæ€§èƒ½ä¹Ÿä¼šå› ä¸ºå­èŠ‚ç‚¹æ•°è¿‡å¤šè€Œé™ä½ã€‚</p>
<p><strong>æ»šåŠ¨ç›‘å¬</strong></p>
<p>å°†åˆ—è¡¨é¡¹ç”¨ scroll-view ç»„ä»¶åŒ…è£…ï¼Œå¹¶è¿›è¡Œæ»šåŠ¨ç›‘å¬ã€‚å”¯ä¸€ä¸åŒçš„æ˜¯å› ä¸ºåˆ—è¡¨é¡¹æ˜¯ä¸¤è¡Œå¹¶æ’å±•ç¤ºï¼Œæ‰€ä»¥åˆ—è¡¨çš„è¡Œæ•°éœ€è¦ç»Ÿä¸€é™¤ä»¥ 2ï¼ŒåŒ…æ‹¬é…ç½®æ•°ç»„ showListConfig çš„é•¿åº¦ä¹Ÿå¯¹åº”éœ€è¦é™¤ä»¥ 2ï¼Œå¾—åˆ° Audits ä½“éªŒè¯„åˆ†å¦‚ä¸‹ï¼š<br><img src="view16.png" width="550" height="265" alt="æ…¢æ»‘æ•ˆæœå›¾" align="center"></p>
<h1 id="å…­ã€æ€»ç»“"><a href="#å…­ã€æ€»ç»“" class="headerlink" title="å…­ã€æ€»ç»“"></a>å…­ã€æ€»ç»“</h1><h2 id="1-è™šæ‹Ÿé•¿åˆ—è¡¨-Vs-æ‡’åŠ è½½"><a href="#1-è™šæ‹Ÿé•¿åˆ—è¡¨-Vs-æ‡’åŠ è½½" class="headerlink" title="1. è™šæ‹Ÿé•¿åˆ—è¡¨ Vs æ‡’åŠ è½½"></a>1. è™šæ‹Ÿé•¿åˆ—è¡¨ Vs æ‡’åŠ è½½</h2><p>è™šæ‹Ÿé•¿åˆ—è¡¨ï¼š</p>
<ul>
<li>ä¼˜ç‚¹ï¼šå¯ä»¥å°½å¯èƒ½å‡å°‘æ¸²æŸ“åœ¨é¡µé¢ä¸Šçš„èŠ‚ç‚¹æ•°</li>
<li>ç¼ºç‚¹ï¼šè½»å¾®é—ªåŠ¨çš„æƒ…å†µè¿˜æ˜¯ä¼šå­˜åœ¨ï¼Œå¢åŠ äº† buffer ç¼“å†²åŒºè¿˜æ˜¯æ²¡æ³•å®Œå…¨é¿å…åœ¨éå¸¸å¿«é€Ÿæ»šåŠ¨çš„æƒ…å†µä¸‹ä¸é—ªåŠ¨ã€‚</li>
</ul>
<p>æ‡’åŠ è½½ï¼š</p>
<ul>
<li>ä¼˜ç‚¹ï¼šèƒ½å¤Ÿé˜²æ­¢å› ä¸ºç”¨æˆ·å¿«é€Ÿæ»šåŠ¨å‡ºç°çš„é—ªåŠ¨ï¼Œé€šè¿‡æ·»åŠ è§¦åº•çš„ loading åŠ è½½æ•ˆæœèƒ½è¿›ä¸€æ­¥ä¼˜åŒ–äº¤äº’ä½“éªŒï¼ˆæˆ‘ä»¬é¡¹ç›®å•†å“åˆ—è¡¨çš„å®ç°æ–¹å¼ï¼‰</li>
<li>ç¼ºç‚¹ï¼šéšç€ç”¨æˆ·ä¸æ–­çš„æ»šåŠ¨ï¼Œå°†ä¼šæœ‰è¶Šæ¥è¶Šå¤šçš„èŠ‚ç‚¹æ¸²æŸ“åˆ°é¡µé¢ï¼Œå¦‚æœæ»‘åˆ°åº•éƒ¨å°†ä¼šæ¸²æŸ“æ•´ä¸ªåˆ—è¡¨</li>
</ul>
<p>å¦‚æœé¡¹ç›®ä¸¥æ ¼è¦æ±‚èŠ‚ç‚¹æ•°é‡ä¸”èƒ½å¤Ÿæ¥å—é—ªåŠ¨ï¼Œé‚£ä¹ˆè™šæ‹Ÿåˆ—è¡¨å¯ä»¥æ»¡è¶³æ¡ä»¶ã€‚å¦‚æœä¸èƒ½æ¥å—é—ªåŠ¨ï¼Œè€Œå¯ä»¥æ¥å—æœ€ç»ˆå¤§é‡èŠ‚ç‚¹æ•°é‡ï¼Œé‚£ä¹ˆå¯ä»¥ä¼˜å…ˆé€‰æ‹©æ‡’åŠ è½½ã€‚</p>
<p>å¦‚æœå·²ç»ä½¿ç”¨è™šæ‹Ÿåˆ—è¡¨ä¸”å¸Œæœ›æé«˜é¦–å±æ¸²æŸ“é€Ÿåº¦ï¼Œå¯ä»¥è€ƒè™‘è™šæ‹Ÿé•¿åˆ—è¡¨ç»“åˆæ‡’åŠ è½½çš„æ–¹å¼ã€‚</p>
<h2 id="2-Scroll-æ»šåŠ¨ç›‘å¬-Vs-IntersectionObserver"><a href="#2-Scroll-æ»šåŠ¨ç›‘å¬-Vs-IntersectionObserver" class="headerlink" title="2. Scroll æ»šåŠ¨ç›‘å¬ Vs IntersectionObserver"></a>2. Scroll æ»šåŠ¨ç›‘å¬ Vs IntersectionObserver</h2><p>ä¸¤è€…éƒ½æ˜¯ç›‘å¬çš„æ–¹å¼</p>
<p>æ»šåŠ¨ç›‘å¬äº‹ä»¶ä¸­ä¼šæœ‰å¤§é‡è®¡ç®—ï¼Œå°±ç®—æ·»åŠ äº†èŠ‚æµä¼˜åŒ–æ»šåŠ¨äº‹ä»¶è¿˜æ˜¯ä¼šè¢«å¤§é‡è°ƒç”¨ï¼Œä¸”éœ€è¦è®°å½• scrollTopã€å…ƒç´ é«˜åº¦ç­‰æ»šåŠ¨ç›¸å…³æ•°æ®ã€‚</p>
<p>åˆ©ç”¨ IntersectionObserver å¯ä»¥é¿å…å¤§é‡è®¡ç®—ï¼Œä½†æ˜¯åªèƒ½åšåˆ°å†…éƒ¨èŠ‚ç‚¹å¸è½½ï¼Œç›‘å¬çš„æ ¹èŠ‚ç‚¹è¿˜æ˜¯éœ€è¦å­˜åœ¨ï¼Œä¾æ—§ä¼šå¼•å‘å­èŠ‚ç‚¹æ•°è¿‡å¤šé—®é¢˜ã€‚æ­¤æ–¹æ¡ˆç”¨æ¥å¸è½½èŠ‚ç‚¹è¿˜æ˜¯æœ‰ä¸è¶³ï¼Œä½†æ˜¯å¯ä»¥åº”ç”¨äºä¸€äº›å›ºå®šçš„æ¨¡å—ï¼Œæ¯”å¦‚ç›‘å¬åˆ—è¡¨<strong>åŠ è½½æ›´å¤šç»„ä»¶</strong>çš„ä½ç½®ï¼Œå¦‚æœè¿›å…¥è§†å›¾åˆ™è°ƒå–æ¥å£è·å–æ–°æ•°æ®ç­‰ã€‚</p>
<h2 id="3-æœ€å"><a href="#3-æœ€å" class="headerlink" title="3. æœ€å"></a>3. æœ€å</h2><p>æœ¬æ–‡æ˜¯å¯¹é•¿åˆ—è¡¨çš„åˆæ­¥æ¢ç´¢å’Œå®ç°ï¼Œå¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹ä½ èƒ½æœ‰æ‰€å¸®åŠ©ã€‚å½“ç„¶è¿˜æœ‰ä¸€å®šçš„å±€é™æ¯”å¦‚åˆ—è¡¨é¡¹çš„é«˜åº¦éœ€è¦å›ºå®šã€å¦‚ä½•æŠ½æˆç»„ä»¶å¤ç”¨ç­‰ï¼Œè¿™ä¹Ÿæ˜¯åç»­è¦æ”¹è¿›çš„æ–¹å‘ï¼Œä¹Ÿæ¬¢è¿äº¤æµè®¨è®ºã€‚</p>
<h1 id="ä¸ƒã€å‚è€ƒèµ„æ–™"><a href="#ä¸ƒã€å‚è€ƒèµ„æ–™" class="headerlink" title="ä¸ƒã€å‚è€ƒèµ„æ–™"></a>ä¸ƒã€å‚è€ƒèµ„æ–™</h1><p>åœ¨å†™è¿™ç¯‡æ–‡ç« çš„è¿‡ç¨‹ä¸­ï¼Œç¬”è€…æŸ¥çœ‹äº†å¾ˆå¤šå¼€æºé¡¹ç›®ï¼Œä¹Ÿå‚è€ƒäº†å¾ˆå¤šæ–‡ç« ï¼Œç›¸å¯¹ç»™æˆ‘å¯å‘è¾ƒå¤§çš„æœ‰ä»¥ä¸‹ï¼š</p>
<ul>
<li><a href="https://github.com/clauderic/react-tiny-virtual-list">React Tiny Virtual List</a></li>
<li><a href="https://github.com/wensiyuanseven/lite-virtual-list">lite-virtual-list</a></li>
<li><a href="https://github.com/bvaughn/react-virtualized">React Virtualized</a></li>
<li><a href="https://juejin.cn/post/6844903893441183751">é•¿åˆ—è¡¨ä¼˜åŒ–ä¹‹è™šæ‹Ÿåˆ—è¡¨</a></li>
<li><a href="https://juejin.cn/post/6844904008667103240">é•¿åˆ—è¡¨æ€ä¹ˆä¼˜åŒ–</a></li>
<li><a href="https://juejin.cn/post/6844903729460674567">åœ¨ React é¡¹ç›®ä¸­ï¼Œå¦‚ä½•ä¼˜é›…çš„ä¼˜åŒ–é•¿åˆ—è¡¨</a></li>
</ul>
]]></content>
      <categories>
        <category>å°ç¨‹åº</category>
      </categories>
      <tags>
        <tag>å°ç¨‹åº</tag>
        <tag>é•¿åˆ—è¡¨æ¸²æŸ“</tag>
        <tag>è™šæ‹Ÿåˆ—è¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title>æ‰“é€ ä½ çš„å¼€å‘åˆ©å™¨</title>
    <url>/2021/02/10/%E6%89%93%E9%80%A0%E4%BD%A0%E7%9A%84%E5%BC%80%E5%8F%91%E5%88%A9%E5%99%A8/</url>
    <content><![CDATA[<blockquote>
<p>å‰è¨€ï¼šä½œä¸ºä¸€åªç¨‹åºçŒ¿ï¼Œä¸€å¥—è¶æ‰‹çš„å¼€å‘å·¥å…·å°±åƒä¸€æŠŠåˆ©å™¨èƒ½æå¤§ç¨‹åº¦åœ°æé«˜å¼€å‘æ•ˆç‡ã€‚æ›¾åœ¨ä¼šä¸Šè§è¯†è¿‡è½¯ä»¶ä½¿ç”¨ç‡æé«˜çš„åŒäº‹ï¼Œèƒ½å¤Ÿåœ¨æçŸ­çš„æ—¶é—´å†…æ‰“å¼€å¼€å‘è½¯ä»¶ï¼Œè°ƒç”¨å„ç±»åŠŸèƒ½å‘½ä»¤ï¼Œè€ŒåŒæ‰‹å´å‡ ä¹æ²¡æœ‰ç¦»å¼€è¿‡é”®ç›˜ï¼Œè¿™ä¹Ÿè®©æˆ‘æ„è¯†åˆ°æ•ˆç‡çš„é‡è¦æ€§ã€‚ä»Šå¤©æˆ‘ä»¬å°±æ¥èŠä¸€èŠå¦‚ä½•æ‰“é€ ä½ çš„å¼€å‘åˆ©å™¨ã€‚</p>
</blockquote>
<span id="more"></span>

<h1 id="ä¸€ã€Mac-ç»ˆç«¯å·¥å…·"><a href="#ä¸€ã€Mac-ç»ˆç«¯å·¥å…·" class="headerlink" title="ä¸€ã€Mac ç»ˆç«¯å·¥å…·"></a>ä¸€ã€Mac ç»ˆç«¯å·¥å…·</h1><p>ä¹‹å‰è‡ªå·±ä¸€ç›´ä½¿ç”¨ MacOS è‡ªå¸¦çš„ç»ˆç«¯ terminalï¼Œè™½ç„¶ä½¿ç”¨çš„æ„Ÿè§‰ä¸€èˆ¬ä½†ç”±äºåŠŸèƒ½éƒ½èƒ½æ»¡è¶³ä¹Ÿå°±ä¸€ç›´ä½¿ç”¨ç€ï¼Œç›´åˆ°åŒäº‹ä»‹ç»äº† mac çš„ç»ˆç«¯åˆ©å™¨ iTerm2 å†åŠ ä¸Š Oh My Zshï¼Œæˆ‘æ‰çŸ¥é“ä»€ä¹ˆæ‰çœŸå«â€œé¦™â€ã€‚</p>
<h2 id="Iterm2-Oh-My-Zsh"><a href="#Iterm2-Oh-My-Zsh" class="headerlink" title="Iterm2 + Oh My Zsh"></a>Iterm2 + Oh My Zsh</h2><p>é¦–å…ˆä»‹ç»ä¸€ä¸‹è¿™ä¸¤ä¸ªå·¥å…·ï¼š</p>
<ul>
<li>æ®å®˜ç½‘çš„è¯´æ˜ï¼ŒiTerm2 æ˜¯ Terminal çš„æ›¿ä»£å“ã€iTerm çš„åç»§äº§å“ã€‚æ—¨åœ¨æŠŠç»ˆç«¯å¸¦å…¥ç°ä»£å¹¶èµ‹äºˆä½ ä»ä¸çŸ¥é“ä½ ä¼šæƒ³è¦çš„ç‰¹æ€§ã€‚</li>
<li>Oh My Zsh æ˜¯å¼€æºçš„ç¤¾åŒºé©±åŠ¨æ¡†æ¶ç”¨äºç®¡ç† zsh é…ç½®ï¼Œæä¾›äº†å¤§é‡çš„æ’ä»¶åŠä¸»é¢˜ä¾›ä½¿ç”¨ã€‚</li>
</ul>
<h3 id="1-å®‰è£…-iTerm2"><a href="#1-å®‰è£…-iTerm2" class="headerlink" title="1. å®‰è£… iTerm2"></a>1. å®‰è£… iTerm2</h3><p>ä»å®˜ç½‘ç›´æ¥ä¸‹è½½ï¼Œ<a href="https://www.iterm2.com/">iTerm2 å®˜ç½‘</a>ã€‚ä¸‹è½½å®Œæˆåï¼Œå°†åº”ç”¨æ‹–å…¥åº”ç”¨ç¨‹åºæ–‡ä»¶å¤¹å®Œæˆå®‰è£…ã€‚</p>
<p>ä½¿ç”¨å‘½ä»¤æŸ¥çœ‹ç³»ç»Ÿç°æœ‰çš„ shellï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat /etc/shells</span><br></pre></td></tr></table></figure>

<p>Mac é»˜è®¤ä¸º dashï¼Œæ›´æ”¹å…¶ä¸º zshï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">chsh -s /bin/zsh</span><br></pre></td></tr></table></figure>

<h3 id="2-å®‰è£…-Oh-my-zsh"><a href="#2-å®‰è£…-Oh-my-zsh" class="headerlink" title="2. å®‰è£… Oh my zsh"></a>2. å®‰è£… Oh my zsh</h3><p>å®‰è£… Oh my zsh æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>å‘½ä»¤</th>
</tr>
</thead>
<tbody><tr>
<td>curl</td>
<td>sh -c â€œ$(curl -fsSL <a href="https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;">https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;</a></td>
</tr>
<tr>
<td>wget</td>
<td>sh -c â€œ$(wget <a href="https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh">https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh</a> -O -)â€</td>
</tr>
<tr>
<td>å®‰è£…æˆåŠŸåçš„æˆªå›¾ï¼š</td>
<td></td>
</tr>
<tr>
<td><img src="https://files.mdnice.com/user/13305/9ce8777a-71a7-4df4-946b-8f7c461e66c4.png"></td>
<td></td>
</tr>
</tbody></table>
<h3 id="3-ä¸»é¢˜åŠæ’ä»¶"><a href="#3-ä¸»é¢˜åŠæ’ä»¶" class="headerlink" title="3. ä¸»é¢˜åŠæ’ä»¶"></a>3. ä¸»é¢˜åŠæ’ä»¶</h3><h4 id="1-ä¸»é¢˜é€‰æ‹©"><a href="#1-ä¸»é¢˜é€‰æ‹©" class="headerlink" title="1. ä¸»é¢˜é€‰æ‹©"></a>1. ä¸»é¢˜é€‰æ‹©</h4><p>Oh my zsh æä¾›äº†æµ·é‡çš„ä¸»é¢˜ä¾›ä½¿ç”¨ï¼Œå¹¶ä¸”ç»å¤§å¤šæ•°ä¸»é¢˜ç°å‡æä¾›äº†<a href="https://github.com/ohmyzsh/ohmyzsh/wiki/Themes">æˆªå›¾å±•ç¤º</a>ï¼Œä¸€æ—¦æœ‰çœ‹ä¸­çš„ä¸»é¢˜ï¼Œåªéœ€è¦ç¼–è¾‘ <strong>~&#x2F;.zshrc</strong> æ–‡ä»¶çš„ <em>ZSH_THEME</em> å€¼ä¸ºé€‰å®šçš„ä¸»é¢˜å³å¯ï¼š</p>
<p><code>ZSH_THEME=&quot;YOURTHEME&quot;</code></p>
<p>ç‰¹åˆ«æŒ‡å‡ºçš„æ˜¯ï¼Œä¸€äº›ä¸»é¢˜çš„ä½¿ç”¨éœ€è¦ä¸‹è½½<a href="https://github.com/powerline/fonts"><em>Powerline Font</em></a></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">clone</span></span></span><br><span class="line">git clone https://github.com/powerline/fonts.git --depth=1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">install</span></span><br><span class="line">cd fonts</span><br><span class="line">./install.sh</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">clean-up a bit</span></span><br><span class="line">cd ..</span><br><span class="line">rm -rf fonts</span><br></pre></td></tr></table></figure>

<h4 id="2-æ’ä»¶é€‰æ‹©"><a href="#2-æ’ä»¶é€‰æ‹©" class="headerlink" title="2. æ’ä»¶é€‰æ‹©"></a>2. æ’ä»¶é€‰æ‹©</h4><p>Oh my zsh çš„å¦ä¸€å¤§ç‰¹ç‚¹å°±æ˜¯ä¸ºä½¿ç”¨è€…æä¾›äº†å¤§é‡çš„æ’ä»¶ï¼Œä»¥ä¸‹å°†ä¼šä»‹ç»æœ€ä¸ºå¸¸ç”¨çš„é«˜äº®ã€è¡¥å…¨æ¨èå’Œ git-open æ’ä»¶ã€‚</p>
<ul>
<li>é«˜äº®æ’ä»¶ï¼š</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸‹è½½å®‰è£…</span></span><br><span class="line">git clone https://github.com/zsh-users/zsh-syntax-highlighting.git $&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;/plugins/zsh-syntax-highlighting</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç¼–è¾‘~/.zshrcæ–‡ä»¶</span></span><br><span class="line">vim ~/.zshrc</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åŠ å…¥é«˜äº®æ’ä»¶</span></span><br><span class="line">plugins=(git zsh-syntax-highlighting)</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä½¿ä¿®æ”¹ç”Ÿæ•ˆ</span></span><br><span class="line">source ~/.zshrc</span><br></pre></td></tr></table></figure>

<ul>
<li>è‡ªåŠ¨æ¨èæ’ä»¶ï¼š</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸‹è½½å®‰è£…</span></span><br><span class="line">git clone https://github.com/zsh-users/zsh-autosuggestions $ZSH_CUSTOM/plugins/zsh-autosuggestions</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç¼–è¾‘~/.zshrcæ–‡ä»¶</span></span><br><span class="line">vim ~/.zshrc</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åŠ å…¥é«˜äº®æ’ä»¶</span></span><br><span class="line">plugins=(git zsh-autosuggestions)</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä½¿ä¿®æ”¹ç”Ÿæ•ˆ</span></span><br><span class="line">source ~/.zshrc</span><br></pre></td></tr></table></figure>

<p>ä¸‹è½½å®‰è£…å®Œæ’ä»¶åï¼Œä¸ä»…åœ¨ iterm2 ç»ˆç«¯å‘½ä»¤èƒ½ç”Ÿæ•ˆï¼Œåœ¨ VS Code çš„ç»ˆç«¯ä¸­ä¹Ÿå¯ä»¥ç”Ÿæ•ˆã€‚ä»¥åå†ä¹Ÿä¸ç”¨æ¯æ¬¡éƒ½é‡å¤è¾“å…¥é•¿é•¿çš„æ‰§è¡Œå‘½ä»¤äº†ï¼Œå€ŸåŠ©æ’ä»¶çš„è‡ªåŠ¨æ¨èï¼Œå¿«é€Ÿå®Œæˆå‘½ä»¤ã€‚</p>
<ul>
<li>git-open æ’ä»¶ï¼š</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸‹è½½å®‰è£…</span></span><br><span class="line">git clone https://github.com/paulirish/git-open.git $ZSH_CUSTOM/plugins/git-open</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç¼–è¾‘~/.zshrcæ–‡ä»¶</span></span><br><span class="line">vim ~/.zshrc</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åŠ å…¥é«˜äº®æ’ä»¶</span></span><br><span class="line">plugins=(git git-open)</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä½¿ä¿®æ”¹ç”Ÿæ•ˆ</span></span><br><span class="line">source ~/.zshrc</span><br></pre></td></tr></table></figure>

<p>å®‰è£…å®Œ git-open æ’ä»¶åï¼Œåœ¨ç»ˆç«¯è¿›å…¥ git é¡¹ç›®ç›®å½•åä½¿ç”¨ git-open å¯ä»¥ç›´æ¥æ‰“å¼€è¿œç¨‹ä»“åº“æµè§ˆé¡¹ç›®ã€‚</p>
<p><img src="https://files.mdnice.com/user/13305/3193d015-5350-42a1-89f8-65b9b2beeff0.gif"></p>
<h3 id="4-iTerm2-é…ç½®"><a href="#4-iTerm2-é…ç½®" class="headerlink" title="4. iTerm2 é…ç½®"></a>4. iTerm2 é…ç½®</h3><ol>
<li>é¢œè‰²é…ç½®ï¼š <em>iTerm2-&gt;Preferences-&gt;Profiles -&gt; Colors -&gt; Color Presets</em></li>
<li>èƒŒæ™¯é€‰æ‹©ï¼š <em>iTerm2-&gt;Preferences-&gt;Profiles -&gt; Window -&gt; Background Image</em></li>
</ol>
<p>æœ€ç»ˆæˆ‘çš„æ•ˆæœå›¾é•¿è¿™æ ·ï¼š</p>
<p><img src="https://files.mdnice.com/user/13305/0bd1a192-5a3b-41f2-b6ab-6cefeec8a50e.png"></p>
<h3 id="5-å¿«æ·é”®"><a href="#5-å¿«æ·é”®" class="headerlink" title="5. å¿«æ·é”®"></a>5. å¿«æ·é”®</h3><table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th>å¿«æ·é”®</th>
</tr>
</thead>
<tbody><tr>
<td>å·¦å³åˆ†å±</td>
<td>Command+D</td>
</tr>
<tr>
<td>ä¸Šä¸‹åˆ†å±</td>
<td>Command+Shift+D</td>
</tr>
<tr>
<td>å…¨å±</td>
<td>Command+Enter</td>
</tr>
<tr>
<td>æ–°å»ºçª—å£æ ‡ç­¾</td>
<td>Command+T</td>
</tr>
<tr>
<td>æ‰“å¼€é…ç½®</td>
<td>Command+,</td>
</tr>
<tr>
<td>æœç´¢</td>
<td>Command+F</td>
</tr>
<tr>
<td>è‡ªåŠ¨å®Œæˆæç¤º</td>
<td>Command+;</td>
</tr>
<tr>
<td>æ˜¾ç¤ºæ‰§è¡Œæ—¶é—´</td>
<td>view-&gt;show timestamps</td>
</tr>
<tr>
<td>æŒ‰é”®å›æ”¾</td>
<td>Command+Option+B</td>
</tr>
</tbody></table>
<h1 id="äºŒã€å¼€å‘ç¼–è¾‘å™¨ï¼šVisual-Studio-Code"><a href="#äºŒã€å¼€å‘ç¼–è¾‘å™¨ï¼šVisual-Studio-Code" class="headerlink" title="äºŒã€å¼€å‘ç¼–è¾‘å™¨ï¼šVisual Studio Code"></a>äºŒã€å¼€å‘ç¼–è¾‘å™¨ï¼šVisual Studio Code</h1><p>è¯´èµ·å‰ç«¯çš„ç¼–è¾‘å™¨ï¼Œå¤§å®¶æœ€å¸¸ç”¨çš„é€‰æ‹©åº”è¯¥å°±æ˜¯ VS Codeã€‚å®ƒæ˜¯ç”±å¾®è½¯å¼€å‘çš„ä¸”è·¨å¹³å°çš„å…è´¹æºä»£ç ç¼–è¾‘å™¨ï¼Œç”±äºå®ƒä¸ä»…é»˜è®¤æ”¯æŒè¯­æ³•é«˜äº®ã€ä»£ç è¡¥å…¨ã€å†…ç½®å‘½ä»¤è¡Œç­‰åŠŸèƒ½ä¸”æ‹¥æœ‰å¼ºå¤§çš„æ‰©å±•ç¨‹åºåº“æ”¯æŒç”¨æˆ·å®‰è£…ä»¥æ‹“å±•è½¯ä»¶åŠŸèƒ½ï¼Œåœ¨ Stack Overflow ç»„ç»‡çš„å¼€å‘è€…è°ƒæŸ¥ä¸­ï¼ŒVScode è¢«è®¤ä¸ºæ˜¯æœ€å—å¼€å‘è€…æ¬¢è¿çš„å¼€å‘ç¯å¢ƒã€‚</p>
<h2 id="VS-Code-å¿«æ·é”®åŠå…¶ä»–æ“ä½œ"><a href="#VS-Code-å¿«æ·é”®åŠå…¶ä»–æ“ä½œ" class="headerlink" title="VS Code å¿«æ·é”®åŠå…¶ä»–æ“ä½œ"></a>VS Code å¿«æ·é”®åŠå…¶ä»–æ“ä½œ</h2><h3 id="å¿«æ·é”®"><a href="#å¿«æ·é”®" class="headerlink" title="å¿«æ·é”®"></a>å¿«æ·é”®</h3><ol>
<li>Command+Shift+P: æ‰“å¼€å‘½ä»¤é¢æ¿</li>
<li>Command+F: åœ¨å½“å‰æ–‡æ¡£ä¸­æœç´¢é€‰ä¸­æ–‡æ¡£</li>
<li>Command+Shift+F: åœ¨æ‰€æœ‰æ–‡ä»¶ä¸­æœç´¢æ–‡æœ¬ï¼Œæ˜¾ç¤ºåœ¨ç¼–è¾‘å™¨ä¾§è¾¹æ </li>
<li>Command+J: æ‰“å¼€&#x2F;å…³é—­ç»ˆç«¯</li>
<li>Command+Option+å·¦&#x2F;å³ç®­å¤´: åˆ‡æ¢ç¼–è¾‘ç•Œé¢</li>
<li>Command+W:å…³é—­</li>
<li>Command+Shift+T: é‡æ–°æ‰“å¼€å…³é—­çš„é¡µé¢</li>
<li>Option+Shift+Up&#x2F;Down: å¾€ä¸Š&#x2F;ä¸‹å¤åˆ¶è¡Œ</li>
<li>Option+ä¸Š&#x2F;ä¸‹ç®­å¤´: å‘ä¸Š&#x2F;ä¸‹ç§»åŠ¨è¡Œ</li>
<li>Control+Shift+å·¦&#x2F;å³ç®­å¤´: é€‰æ‹©ä¸Š&#x2F;ä¸‹ä¸€çº§ä»£ç å—å†…å®¹</li>
<li>Command+Option+ä¸Š&#x2F;ä¸‹ç®­å¤´: å‘ä¸Š&#x2F;ä¸‹å¤åˆ¶å…‰æ ‡</li>
<li>Command+Option+[ &#x2F; ]: æŠ˜å &#x2F;å±•å¼€ä»£ç </li>
<li>Command+Shift+å·¦&#x2F;å³ç®­å¤´: é€‰æ‹©å…‰æ ‡å·¦&#x2F;å³ä¾§å†…å®¹</li>
<li>Command+Shift+V: é¢„è§ˆ.md æ–‡ä»¶</li>
<li>Command+\: åˆ†å¼€ç¼–è¾‘å™¨</li>
<li>Command+K+W: å…³é—­æ‰€æœ‰</li>
</ol>
<h3 id="ä½¿ç”¨-code-å‘½ä»¤å¿«é€Ÿæ‰“å¼€-VSCode-é¡¹ç›®"><a href="#ä½¿ç”¨-code-å‘½ä»¤å¿«é€Ÿæ‰“å¼€-VSCode-é¡¹ç›®" class="headerlink" title="ä½¿ç”¨ code å‘½ä»¤å¿«é€Ÿæ‰“å¼€ VSCode é¡¹ç›®"></a>ä½¿ç”¨ code å‘½ä»¤å¿«é€Ÿæ‰“å¼€ VSCode é¡¹ç›®</h3><p>åœ¨ mac ç»ˆç«¯æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ code å‘½ä»¤å®ç°ç›´æ¥ç”¨ VSCode æ‰“å¼€è¦æ‰“å¼€çš„é¡¹ç›®æ–‡ä»¶ã€‚æˆ‘ä»¬éœ€è¦åœ¨ VSCode ä¸­å®‰è£… codeï¼š_command+shift+P -&gt; è¾“å…¥ shell command -&gt;é€‰æ‹© install â€˜codeâ€™ command in PATH_ã€‚</p>
<p>å®‰è£…å®Œæˆåï¼Œç›´æ¥æ‰“å¼€æ¡Œé¢ä¸Šçš„ memory-game é¡¹ç›®ï¼š<code>code Desktop/memory-game</code>å³å¯ã€‚</p>
<h2 id="æ‰©å±•æ’ä»¶æ¨è"><a href="#æ‰©å±•æ’ä»¶æ¨è" class="headerlink" title="æ‰©å±•æ’ä»¶æ¨è"></a>æ‰©å±•æ’ä»¶æ¨è</h2><p>ç›¸ä¿¡æ¯ä¸€ä½å‰ç«¯ç¨‹åºå‘˜éƒ½æœ‰è‡ªå·±ä¸€å¥—ç†Ÿæ‚‰ä¸”å¸¸ç”¨ VScode æ’ä»¶ï¼Œä¸‹é¢æˆ‘å°†æ”¶é›†åˆ°çš„æ’ä»¶åˆ†ä¸ºï¼šåŸºæœ¬å¿…å¤‡ç±»ã€ææ•ˆå¿…å¤‡ç±»ã€Git ç›¸å…³ç±»ã€è§‚æ„Ÿæ ·å¼ç±»ã€æ³¨é‡Šç›¸å…³ç±»ã€markdown ç›¸å…³ç±»å’Œå…¶ä»–æ’ä»¶ã€‚å¤§å®¶å¯ä»¥æŒ‰éœ€æŸ¥çœ‹ï¼Œå¸Œæœ›èƒ½ç»™ä½ çš„æ­¦å™¨åº“æ·»åŠ ä¸€äº›ç«åŠ›ã€‚</p>
<h3 id="1-åŸºç¡€å¿…å¤‡æ’ä»¶"><a href="#1-åŸºç¡€å¿…å¤‡æ’ä»¶" class="headerlink" title="1. åŸºç¡€å¿…å¤‡æ’ä»¶"></a>1. åŸºç¡€å¿…å¤‡æ’ä»¶</h3><h4 id="gt-gt-Auto-Rename-Tag"><a href="#gt-gt-Auto-Rename-Tag" class="headerlink" title="&gt;&gt; Auto Rename Tag"></a>&gt;&gt; Auto Rename Tag</h4><p><a href="https://marketplace.visualstudio.com/items?itemName=formulahendry.auto-rename-tag">Auto Rename Tag</a> æ’ä»¶èƒ½å¤Ÿè‡ªåŠ¨åŒæ­¥åŒç»„çš„ HTML&#x2F;XML æ ‡ç­¾ã€‚é»˜è®¤è‡ªåŠ¨åŒæ­¥æ˜¯å¯¹æ‰€æœ‰è¯­è¨€æ–‡ä»¶ç”Ÿæ•ˆï¼Œå¯ä»¥é€šè¿‡<br><code>&#123;&quot;auto-rename-tag.activationOnLanguage&quot;: [&quot;html&quot;, &quot;xml&quot;, &quot;php&quot;, &quot;javascript&quot;]&#125;</code><br>è¿›è¡Œä¿®æ”¹ã€‚ç‰¹åˆ«éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¦è‡ªå®šä¹‰ç”Ÿæ•ˆè¯­è¨€ï¼Œæ‰€é€‰çš„è¯­è¨€å¿…é¡»æ˜¯ VS Code å®šä¹‰çš„(<em>.js</em> å’Œ <em>.es6</em>éœ€è¦ <strong>javascript</strong>ã€*.jsx*éœ€è¦ <strong>javascriptreact</strong>)</p>
<p><img src="https://files.mdnice.com/user/13305/2dc76fde-2d53-4367-bb8c-638f1b6012c0.gif"></p>
<h4 id="gt-gt-Auto-Close-Tag"><a href="#gt-gt-Auto-Close-Tag" class="headerlink" title="&gt;&gt; Auto Close Tag"></a>&gt;&gt; Auto Close Tag</h4><p>è‡ªåŠ¨æ·»åŠ  HTML&#x2F;XML é—­åˆæ ‡ç­¾æ’ä»¶ã€‚</p>
<h4 id="gt-gt-EditorConfig-for-VS-Code"><a href="#gt-gt-EditorConfig-for-VS-Code" class="headerlink" title="&gt;&gt; EditorConfig for VS Code"></a>&gt;&gt; EditorConfig for VS Code</h4><p>ä¸€ä¸ªé¡¹ç›®ä¸å¯èƒ½æ°¸è¿œæ˜¯ä¸€ä¸ªäººå¼€å‘ç»´æŠ¤ï¼Œå½“å¤šä¸ªä½¿ç”¨ä¸åŒç¼–è¾‘å™¨ã€ä»£ç é£æ ¼ä¸åŒçš„äººå‚ä¸åˆ°ä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œéš¾å…ä¼šæœ‰è§„èŒƒé—®é¢˜ï¼Œ<a href="https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig">EditorConfig for VS Code</a> æ’ä»¶å°±èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p><code>.editorConfig</code> ä»£ç è§„èŒƒè§„åˆ™çš„ä¼˜å…ˆçº§é«˜äºç¼–è¾‘å™¨é»˜è®¤çš„ä»£ç æ ¼å¼åŒ–è§„åˆ™ï¼Œå¦‚æœæ²¡æœ‰é…ç½® editorconfig åˆ™æ‰§è¡Œçš„å°±æ˜¯ç¼–è¾‘å™¨é»˜è®¤çš„ä»£ç æ ¼å¼åŒ–è§„åˆ™ã€‚<br>å®‰è£…æ­¤æ’ä»¶åï¼Œåœ¨ VScode çš„æ–‡ä»¶ç›®å½•ä¸­å³é”®å³å¯é€šè¿‡ <code>Generate .editorconfig</code>åˆ›å»º <em>.editorconfig</em> æ–‡ä»¶ã€‚</p>
<p>é…ç½®ç¤ºä¾‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// http://editorconfig.org</span></span><br><span class="line">root = <span class="literal"><span class="keyword">true</span></span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">[</span>*<span class="punctuation">]</span></span><br><span class="line">indent_style = space <span class="comment">// ç¼©è¿›æ ·å¼ = ç©ºæ ¼</span></span><br><span class="line">indent_size = <span class="number">2</span> <span class="comment">// ç¼©è¿›å¤§å° = 2</span></span><br><span class="line">end_of_line = lf <span class="comment">// æ¢è¡Œç¬¦ç±»å‹ = lf</span></span><br><span class="line">charset = utf<span class="number">-8</span> <span class="comment">// å­—ç¬¦é›† = utf-8</span></span><br><span class="line">trim_trailing_whitespace = <span class="literal"><span class="keyword">true</span></span> <span class="comment">// åˆ é™¤è¡Œå°¾ç©ºæ ¼ = æ˜¯</span></span><br><span class="line">insert_final_newline = <span class="literal"><span class="keyword">true</span></span> <span class="comment">// æ’å…¥æœ€åä¸€è¡Œ=çœŸ</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">[</span>*.md<span class="punctuation">]</span></span><br><span class="line">trim_trailing_whitespace = <span class="literal"><span class="keyword">false</span></span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">[</span>Makefile<span class="punctuation">]</span></span><br><span class="line">indent_style = tab</span><br></pre></td></tr></table></figure>

<p>æ­¤æ’ä»¶åªèƒ½ç®€å•çš„é…ç½®ä¸€äº›è§„èŒƒï¼Œè¿˜éœ€è¦é…åˆå…¶ä»–ä»£ç æ£€æŸ¥å·¥å…·å¦‚<code>ESlint</code>å»æ»¡è¶³å…¶ä»–éœ€æ±‚ã€‚</p>
<h4 id="gt-gt-ESLint"><a href="#gt-gt-ESLint" class="headerlink" title="&gt;&gt; ESLint"></a>&gt;&gt; ESLint</h4><p><a href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint">ESLint</a> æ˜¯ä¸€ä¸ªç”¨æ¥è¯†åˆ« ECMAScript ä¸”æŒ‰ç…§è§„åˆ™ç»™å‡ºæŠ¥å‘Šçš„ä»£ç æ£€æµ‹å·¥å…·ï¼Œå¯ä»¥ç”¨æ¥ç»Ÿä¸€ä»£ç çš„é£æ ¼å’Œé¿å…ä¸€äº›ä½çº§é”™è¯¯ã€‚ä¸¤ç§é…ç½®æ–¹å¼ï¼š</p>
<ol>
<li>åœ¨æ³¨é‡Šä¸­é…ç½®</li>
<li>åˆ©ç”¨é…ç½®æ–‡ä»¶ï¼š<code>npx eslint --int</code>åˆ›å»º<code>.eslintrc.&#123;js,yml,json&#125;</code>æ–‡ä»¶</li>
</ol>
<p><img src="https://files.mdnice.com/user/13305/237ac249-9faa-49e8-8a93-9ecb8ab607d6.png"></p>
<p><strong>é…ç½®æ–‡ä»¶å±æ€§ï¼š</strong></p>
<ul>
<li>extendsï¼šè§£æåŸºæœ¬é…ç½®æ–‡ä»¶</li>
<li>envï¼šæŒ‡å®šç¯å¢ƒ</li>
<li>rulesï¼šé¡¹ç›®ä¸­è¦ä½¿ç”¨çš„è§„åˆ™</li>
<li>parserï¼šæŒ‡å®šè§£æå™¨</li>
<li>overridesï¼šä¿®æ”¹ç‰¹å®šæ–‡ä»¶å±æ€§</li>
<li>processorï¼šæŒ‡å®šå¤„ç†å™¨</li>
<li>pluginsï¼šæŒ‡å®šç¬¬ä¸‰æ–¹æ’ä»¶ï¼Œçœç•¥<code>eslint-plugin-</code>å‰ç¼€</li>
<li>settingsï¼šæ”¯æŒé…ç½®æ–‡ä»¶å…±äº«è®¾ç½®</li>
</ul>
<p><a href="https://cn.eslint.org/docs/user-guide/configuring">æ›´å¤šé…ç½®å‚è€ƒ</a></p>
<h4 id="gt-gt-Prettier-Code-formatter"><a href="#gt-gt-Prettier-Code-formatter" class="headerlink" title="&gt;&gt; Prettier - Code formatter"></a>&gt;&gt; Prettier - Code formatter</h4><p><a href="https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode">Prettier</a> æ˜¯ç”± Facebook å…¬å¸å¼€å‘çš„â€˜æ­¦æ–­æ€§â€™ä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œå®ƒç§»é™¤äº†ä»£ç çš„åŸå§‹é£æ ¼ï¼Œå¹¶ç¡®ä¿äº†æ‰€æœ‰ä»£ç è¾“å‡ºä¿æŒä¸€è‡´çš„é£æ ¼ã€‚åœ¨ VS Code ä¸­é€šå¸¸å’Œ ESLint æ’ä»¶ç»“åˆä½¿ç”¨ï¼Œå®‰è£…å®Œæ’ä»¶ååœ¨ setting.json æ–‡ä»¶ä¸­æ·»åŠ é…ç½®ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;editor.defaultFormatter&quot;</span><span class="punctuation">:</span> <span class="string">&quot;esbenp.prettier-vscode&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;[javascript]&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;editor.formatOnSave&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;editor.defaultFormatter&quot;</span><span class="punctuation">:</span> <span class="string">&quot;esbenp.prettier-vscode&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;[typescript]&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;editor.defaultFormatter&quot;</span><span class="punctuation">:</span> <span class="string">&quot;esbenp.prettier-vscode&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;[typescriptreact]&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;editor.defaultFormatter&quot;</span><span class="punctuation">:</span> <span class="string">&quot;esbenp.prettier-vscode&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;editor.formatOnSave&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>VSCode è¯»å–é…ç½®åˆ—è¡¨(æŒ‰ä¼˜å…ˆçº§)ï¼š</p>
<ul>
<li>Prettier configuration file</li>
<li>.editorconfig</li>
<li>VSCode Default Settings</li>
</ul>
<p><strong>NOTE</strong>: å¦‚æœæœ‰ä»»ä½•æœ¬åœ°çš„é…ç½®æ–‡ä»¶(i.e. .prettierrc)é‚£ä¹ˆ VS Code settings å°±ä¸ä¼šè¢«ä½¿ç”¨ã€‚</p>
<h4 id="gt-gt-Chinese-Language-Pack-for-VSCode"><a href="#gt-gt-Chinese-Language-Pack-for-VSCode" class="headerlink" title="&gt;&gt; Chinese Language Pack for VSCode"></a>&gt;&gt; Chinese Language Pack for VSCode</h4><p>æ­¤æ’ä»¶ä¸ºä¸­æ–‡è¯­è¨€åŒ…èƒ½å¤Ÿä¸º VSCode æä¾›æœ¬åœ°åŒ–ç•Œé¢ã€‚é€šè¿‡ä½¿ç”¨â€œé…ç½®æ˜¾ç¤ºè¯­è¨€â€å‘½ä»¤è®¾ç½® VS Code è¯­è¨€ï¼Œå¯ä»¥æ›¿ä»£é»˜è®¤çš„ UI è¯­è¨€ã€‚<code>å‘½ä»¤é¢æ¿</code> -&gt; <code>é…ç½®æ˜¾ç¤ºè¯­è¨€</code> -&gt; <code>åˆ‡æ¢å·²å®‰è£…çš„è¯­è¨€</code></p>
<h4 id="gt-gt-minapp"><a href="#gt-gt-minapp" class="headerlink" title="&gt;&gt; minapp"></a>&gt;&gt; minapp</h4><p>å¾®ä¿¡å°ç¨‹åºæ ‡ç­¾ã€å±æ€§çš„æ™ºèƒ½è¡¥å…¨å·¥å…·ï¼ˆåŒæ—¶æ”¯æŒåŸç”Ÿå°ç¨‹åºã€mpvue å’Œ wepy æ¡†æ¶ï¼Œwxml æ ¼å¼åŒ–ï¼Œå¹¶æä¾› snippetsï¼‰ä¸»è¦åº”ç”¨äº wxml æ–‡ä»¶ã€‚</p>
<h4 id="gt-gt-wechat-snippet"><a href="#gt-gt-wechat-snippet" class="headerlink" title="&gt;&gt; wechat-snippet"></a>&gt;&gt; wechat-snippet</h4><p>wechat-snippet å¯ä»¥åœ¨å¼€å‘å°ç¨‹åºæ—¶é€šè¿‡å±æ€§å…³é”®è¯æç¤ºä»£ç ç‰‡æ®µæ¨¡ç‰ˆã€‚</p>
<ul>
<li>json ç‰‡æ®µï¼šåœ¨{}ä¸­è¾“å…¥ pageï¼Œpagesï¼Œwindowï¼Œtabbar ç­‰å±æ€§å…³é”®å­—å³å¯æç¤ºä»£ç ç‰‡æ®µæ¨¡æ¿</li>
<li>js ç‰‡æ®µï¼šè¾“å…¥ wx-pageï¼Œwx-appï¼Œwx-request ç­‰ wx-å¼€å¤´çš„å…³é”®å­—å³å¯æç¤ºä»£ç ç‰‡æ®µæ¨¡æ¿</li>
<li>wxml ç‰‡æ®µï¼šç›´æ¥è¾“å…¥ç»„ä»¶åç§°ï¼Œå³å¯æç¤ºä»£ç ç‰‡æ®µæ¨¡æ¿ã€‚ å¦‚è¾“å…¥ viewï¼Œå¯è‡ªåŠ¨ç”Ÿæˆ view æ ‡ç­¾åŠå…¶å±æ€§</li>
</ul>
<h4 id="gt-gt-JavaScript-ES6-code-snippets"><a href="#gt-gt-JavaScript-ES6-code-snippets" class="headerlink" title="&gt;&gt; JavaScript (ES6) code snippets"></a>&gt;&gt; JavaScript (ES6) code snippets</h4><p>æ­¤æ‰©å±•åŒ…å«ç”¨äº VS Code ç¼–è¾‘å™¨ï¼ˆåŒæ—¶æ”¯æŒ JavaScript å’Œ TypeScriptï¼‰çš„ ES6 è¯­æ³•ä¸­çš„ JavaScript ä»£ç ç‰‡æ®µã€‚è§¦å‘å™¨ä¸å¯¹åº”ä»£ç ç‰‡æ®µï¼š<a href="https://marketplace.visualstudio.com/items?itemName=xabikos.JavaScriptSnippets">ç‚¹å‡»æŸ¥çœ‹</a>ã€‚</p>
<h3 id="2-ææ•ˆå¿…å¤‡æ’ä»¶"><a href="#2-ææ•ˆå¿…å¤‡æ’ä»¶" class="headerlink" title="2. ææ•ˆå¿…å¤‡æ’ä»¶"></a>2. ææ•ˆå¿…å¤‡æ’ä»¶</h3><h4 id="gt-gt-CSS-Peek"><a href="#gt-gt-CSS-Peek" class="headerlink" title="&gt;&gt; CSS Peek"></a>&gt;&gt; CSS Peek</h4><p><a href="https://marketplace.visualstudio.com/items?itemName=pranaygp.vscode-css-peek">CSS Peek</a>æ’ä»¶æ”¯æŒå¿«é€Ÿè·³è½¬åˆ°æ ·å¼çš„å®šä¹‰ï¼ŒæŸ¥æ‰¾ css é€‰æ‹©å™¨çš„ä½ç½®ã€‚</p>
<h4 id="gt-gt-Path-Intellisense"><a href="#gt-gt-Path-Intellisense" class="headerlink" title="&gt;&gt; Path Intellisense"></a>&gt;&gt; Path Intellisense</h4><p><a href="https://marketplace.visualstudio.com/items?itemName=christian-kohler.path-intellisense">Path Intellisense</a> æ˜¯ä¸€æ¬¾è‡ªåŠ¨è¡¥å…¨æ–‡ä»¶åçš„ VSCode æ’ä»¶ã€‚æ­¤æ’ä»¶ä¼šä½¿ç”¨ <strong>ts(js).config.compilerOptions.baseUrl</strong> ä½œä¸ºæ˜ å°„ï¼Œæ‰€ä»¥ä»–ä¼šå¼•ç”¨æˆ‘ä»¬é¡¹ç›®ä¸­ tsconfig.json çš„è®¾ç½®ã€‚å½“æˆ‘ä»¬è‡ªè¡Œè¦è¿›è¡Œè·¯å¾„é…ç½®æ—¶ï¼Œåœ¨ setting.json æ–‡ä»¶ä¸­æ·»åŠ é…ç½® mappingsï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="attr">&quot;path-intellisense.mappings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceRoot&#125;/src/&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@/pages&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceRoot&#125;/src/pages&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@/component&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceRoot&#125;/src/component&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@/service&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceRoot&#125;/src/service&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@/utils&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceRoot&#125;/src/utils&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šå°½ç®¡æˆ‘ä»¬ç°åœ¨å·²ç»æˆåŠŸä¸ºæˆ‘ä»¬çš„å¼•ç”¨è·¯å¾„æä¾›è¡¥å…¨ï¼Œä½†æ˜¯å…‰æœ‰è·¯å¾„å¼•å¯¼è¿˜æ˜¯ä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬éœ€è¦æ–‡ä»¶çš„æç¤ºè”æƒ³å’Œè·³è½¬ï¼Œæ‰€ä»¥éœ€è¦åœ¨é¡¹ç›®ä¸­é…ç½® jsconfig.json æˆ–è€… tsconfig.json æ–‡ä»¶ã€‚</p>
<h4 id="gt-gt-Path-Autocomplete"><a href="#gt-gt-Path-Autocomplete" class="headerlink" title="&gt;&gt; Path Autocomplete"></a>&gt;&gt; Path Autocomplete</h4><p>è·Ÿ Path Intellisense æ’ä»¶åŠŸèƒ½ç›¸ä¼¼çš„è·¯å¾„è¡¥å…¨æ’ä»¶ï¼Œé…ç½®è·¯å¾„å±æ€§<code>path-autocomplete.pathMappings</code>ä»¥å®ç°è·¯å¾„çš„å¼•å¯¼ã€‚åŒæ ·éœ€è¦å¦å¤–é…ç½® jsconfig.json æˆ– tsconfig.json å®ç°æ–‡ä»¶è·³è½¬ã€‚</p>
<h4 id="gt-gt-Open-in-Browser"><a href="#gt-gt-Open-in-Browser" class="headerlink" title="&gt;&gt; Open in Browser"></a>&gt;&gt; Open in Browser</h4><p>å®‰è£…æ­¤æ’ä»¶å¯ä»¥å…è®¸å¼€å‘è€…è·³è½¬åˆ°æµè§ˆå™¨æ˜¾ç¤ºå½“å‰çš„ä»£ç æ–‡ä»¶ã€‚</p>
<h4 id="gt-gt-Live-Server"><a href="#gt-gt-Live-Server" class="headerlink" title="&gt;&gt; Live Server"></a>&gt;&gt; Live Server</h4><p><a href="https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer">Live Server</a> æ’ä»¶æ˜¯ä¸€æ¬¾èƒ½å¤Ÿç»™åŠ è½½é™æ€æˆ–è€…åŠ¨æ€é¡µé¢å¹¶åŠæ—¶æ›´æ–°çš„æœ¬åœ°å¼€å‘æœåŠ¡å™¨ã€‚å®‰è£…å®Œæˆåï¼Œç¼–è¾‘å™¨å³ä¸‹è§’å°†ä¼šå‡ºç° Go Live å­—æ ·ï¼Œç‚¹å‡»å³å¯åœ¨æœåŠ¡å™¨ä¸ŠåŠ è½½é¡µé¢ã€‚æ›´å¤šé…ç½®<a href="https://github.com/ritwickdey/vscode-live-server/blob/master/docs/settings.md">ç‚¹å‡»æŸ¥çœ‹</a></p>
<p>ç„¶è€Œæ­¤æ’ä»¶ç°åªèƒ½æ”¯æŒ<code>.html</code>æ–‡ä»¶æˆ–è€…<code>.htm</code>æ–‡ä»¶ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨ä¸Šè¿˜æ˜¯æœ‰ä¸€å®šçš„å±€é™æ€§ï¼Œç‰¹åˆ«æ˜¯å½“æˆ‘ä»¬è¿ç”¨äº†å‰ç«¯æ¡†æ¶å¼€å‘é¡¹ç›®ä¹‹åã€‚</p>
<h4 id="gt-gt-Code-Runner"><a href="#gt-gt-Code-Runner" class="headerlink" title="&gt;&gt; Code Runner"></a>&gt;&gt; Code Runner</h4><p><a href="https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner">Code Runner</a> æ’ä»¶èƒ½å¤Ÿæ”¯æŒç¼–è¾‘å™¨è¿è¡Œå¤šç§è¯­è¨€ä»£ç ç‰‡æ®µæˆ–è€…ä»£ç æ–‡ä»¶ã€‚ç”¨å‰ç«¯çš„ js æ–‡ä»¶ä¸ºä¾‹ï¼Œjs æ–‡ä»¶çš„è¿è¡Œè¦åŸºäº node ç¯å¢ƒï¼Œé€šå¸¸æˆ‘ä»¬ä¼šåœ¨ç»ˆç«¯ä½¿ç”¨ node å‘½ä»¤æ¥æ‰§è¡Œæˆ‘ä»¬çš„ js æ–‡ä»¶ã€‚æœ‰äº†æ­¤æ’ä»¶æˆ‘ä»¬å¯ä»¥ä¸€é”®è¿è¡Œä»£ç ã€‚</p>
<p>æ‰“å¼€æ‰€è¦è¿è¡Œçš„æ–‡ä»¶ï¼Œæœ‰å¤šç§æ–¹å¼å¿«æ·è¿è¡Œä»£ç ï¼š</p>
<ol>
<li>å¿«æ·é”®ï¼šControl+Option+N</li>
<li>Command+Shift+Pï¼Œè°ƒå‡ºå‘½ä»¤é¢æ¿ï¼Œè¾“å…¥é€‰æ‹© Run Code</li>
<li>åœ¨ç¼–è¾‘åŒºï¼Œå³é”®é€‰æ‹© Run Code</li>
<li>ç‚¹å‡»ç¼–è¾‘å™¨å³ä¸Šè§’çš„è¿è¡Œå°ä¸‰è§’æŒ‰é’®</li>
<li>åœ¨å·¦ä¾§çš„æ–‡ä»¶ç®¡ç†å™¨ï¼Œå³é”®é€‰æ‹© Run Code</li>
</ol>
<p>åœæ­¢ä»£ç è¿è¡Œï¼š</p>
<ol>
<li>å¿«æ·é”®ï¼šControl+Option+M</li>
<li>Command+Shift+Pï¼Œè°ƒå‡ºå‘½ä»¤æ¡†ï¼Œè¾“å…¥é€‰æ‹© Stop Run Code</li>
<li>åœ¨ Output æ¡†ä¸­ï¼Œå³é”®é€‰æ‹© Stop Code Run</li>
</ol>
<p>æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨<code>setting.json</code>æ–‡ä»¶ä¸­è®¾ç½®<code>&quot;code-runner.runInTerminal&quot;: true</code>å°†æˆ‘ä»¬çš„ä»£ç è¿è¡Œäºç»ˆç«¯ï¼Œ<em>é˜²æ­¢ä¹±ç </em>ä»¥åŠ<em>æ”¯æŒè¾“å…¥</em>ã€‚</p>
<p>æ·»åŠ <code>code-runner.executorMap</code>è®¾ç½®è‡ªå®šä¹‰ä»£ç è¿è¡Œé€»è¾‘ã€‚ä¸‹é¢æ˜¯å¯¹ html æ–‡ä»¶é…ç½®çš„ä¸€ä¸ªä¾‹å­ï¼Œé»˜è®¤çš„ Code Runner æ˜¯ä¸æ”¯æŒ html çš„å¿«é€Ÿè¿è¡Œçš„ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½® html æ–‡ä»¶ç”¨ Google Chrome è¿è¡Œå®ç°å¿«é€Ÿçš„åœ¨æµè§ˆå™¨ä¸­æµè§ˆæˆ‘ä»¬çš„ html æ–‡ä»¶ã€‚</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="attr">&quot;code-runner.executorMap&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;html&quot;</span><span class="punctuation">:</span> <span class="string">&quot;open -a \&quot;Google Chrome\&quot;&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="gt-gt-Todo-Tree"><a href="#gt-gt-Todo-Tree" class="headerlink" title="&gt;&gt; Todo Tree"></a>&gt;&gt; Todo Tree</h4><p><a href="https://marketplace.visualstudio.com/items?itemName=Gruntfuggly.todo-tree">Todo Tree</a> æ’ä»¶ç”¨äºå¿«é€Ÿåœ¨é¡¹ç›®ä¸­æŸ¥æ‰¾å®šä½<code>æ ‡è®°</code>å¦‚ï¼š<code>TODO</code>å’Œ<code>FIXME</code>ï¼Œå¹¶å°†å…¶ä»¥æ ‘å½¢ç»“æ„å±•ç¤ºåœ¨ä¾§è¾¹èœå•æ ã€‚ä½¿ç”¨è€…æ ¹æ®ä¸ªäººå–œå¥½å¯ä»¥é…ç½®é«˜äº®çš„æ ‡ç­¾åã€é«˜äº®æ–¹å¼ç­‰ã€‚é€šè¿‡èœå•æ è¿›è¡Œå¿«é€Ÿè·³è½¬èƒ½å¤Ÿä¸ºå¼€å‘è€…èŠ‚çœå¾ˆå¤šæµªè´¹åœ¨ä»£ç å®šä½ã€è·³è½¬çš„æ—¶é—´ï¼Œç‰¹åˆ«æ˜¯æ“ä½œä»£ç è¡Œé‡å¾ˆå¤§çš„é¡¹ç›®æ–‡ä»¶çš„æ—¶å€™ã€‚</p>
<p>é…ç½®æ¨èï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// todo-tree settings</span></span><br><span class="line">  <span class="attr">&quot;todo-tree.general.tags&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;TODO&quot;</span><span class="punctuation">,</span> <span class="string">&quot;FIX&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;todo-tree.regex.regexCaseSensitive&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;todo-tree.highlights.customHighlight&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;TODO&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;background&quot;</span><span class="punctuation">:</span> <span class="string">&quot;DarkViolet&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;rulerColour&quot;</span><span class="punctuation">:</span> <span class="string">&quot;DarkViolet&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;iconColour&quot;</span><span class="punctuation">:</span> <span class="string">&quot;DarkViolet&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;FIX&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;background&quot;</span><span class="punctuation">:</span> <span class="string">&quot;FireBrick&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;rulerColour&quot;</span><span class="punctuation">:</span> <span class="string">&quot;FireBrick&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;iconColour&quot;</span><span class="punctuation">:</span> <span class="string">&quot;FireBrick&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>æ•ˆæœå±•ç¤ºï¼š</p>
<p><img src="https://files.mdnice.com/user/13305/314e98fd-19ec-46c3-ab13-ea5cfcee6ea1.png"></p>
<h4 id="gt-gt-Better-Comments"><a href="#gt-gt-Better-Comments" class="headerlink" title="&gt;&gt; Better Comments"></a>&gt;&gt; Better Comments</h4><p><a href="https://marketplace.visualstudio.com/items?itemName=aaron-bond.better-comments">Better Comments</a> æ’ä»¶èƒ½å¤Ÿå¸®åŠ©å¼€å‘è€…å»ºç«‹æ›´å¤šäº¤äº’å‹å¥½çš„ä»£ç æ³¨é‡Šï¼ŒåŒ…æ‹¬è­¦å‘Šã€TODOsã€é«˜äº®ä»¥åŠå…¶ä»–æ‰€æœ‰è‡ªè¡Œè®¾ç«‹çš„æ ‡æ³¨ã€‚æ­¤æ’ä»¶ç»“åˆ Todo Tree å¯ä»¥å®Œç¾çš„å®ç°æ ‡ç­¾ã€todoã€æ³¨é‡Šé«˜äº®æ–¹é¢çš„åŠŸèƒ½ã€‚<br>é…ç½®æ¨èï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="attr">&quot;better-comments.tags&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;tag&quot;</span><span class="punctuation">:</span> <span class="string">&quot;!&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;color&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#FF2D00&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;strikethrough&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;underline&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;backgroundColor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;transparent&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;bold&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;italic&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;tag&quot;</span><span class="punctuation">:</span> <span class="string">&quot;?&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;color&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#3498DB&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;strikethrough&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;underline&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;backgroundColor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;transparent&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;bold&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;italic&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;tag&quot;</span><span class="punctuation">:</span> <span class="string">&quot;//&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;color&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#474747&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;strikethrough&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;underline&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;backgroundColor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;transparent&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;bold&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;italic&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;tag&quot;</span><span class="punctuation">:</span> <span class="string">&quot;todo&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;color&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#FF8C00&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;strikethrough&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;underline&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;backgroundColor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;transparent&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;bold&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;italic&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;tag&quot;</span><span class="punctuation">:</span> <span class="string">&quot;*&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;color&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#98C379&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;strikethrough&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;underline&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;backgroundColor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;transparent&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;bold&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;italic&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;tag&quot;</span><span class="punctuation">:</span> <span class="string">&quot;fix&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;color&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#DC143C&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;strikethrough&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;underline&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;backgroundColor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;transparent&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;bold&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;italic&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br></pre></td></tr></table></figure>

<img src="https://files.mdnice.com/user/13305/2b9b8a75-d457-45c4-be60-05da4973846f.png" width="50%" height="50%">

<h4 id="gt-gt-REST-Client"><a href="#gt-gt-REST-Client" class="headerlink" title="&gt;&gt; REST Client"></a>&gt;&gt; REST Client</h4><p>åœ¨æµ‹è¯• REST API çš„æ—¶å€™å¤§å®¶å¯èƒ½ä¼šé€‰æ‹© cURL å‘½ä»¤æˆ–è€… Postman å·¥å…·ï¼Œè€Œåœ¨ VScode ä¸­ï¼ŒREST Client æ’ä»¶å¯ä»¥å¾ˆå¥½çš„å®Œæˆæˆ‘ä»¬çš„æµ‹è¯•ä»»åŠ¡ï¼Œå®ƒåŒæ—¶æ”¯æŒäº† cURL å’Œ RFC2616 ä¸¤ç§æ ‡å‡†æ¥è°ƒç”¨ REST APIã€‚</p>
<ul>
<li>cURLï¼šç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ç¬¦åˆ cURL æ ‡å‡†çš„ POST è¯·æ±‚:<br><code>curl -X POST &quot;http://dummy.restapiexample.com/api/v1/create&quot; -d &quot;Hello World&quot;</code></li>
<li>RFC 2616 æ ‡å‡† POST è¯·æ±‚ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">POST http://dummy.restapiexample.com/api/v1/create HTTP/1.1</span><br><span class="line">content-type: application/json</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    &quot;name&quot;:&quot;Jun&quot;,</span><br><span class="line">    &quot;salary&quot;:&quot;1000000&quot;,</span><br><span class="line">    &quot;age&quot;:&quot;26&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨é¡¹ç›®ä¸­æ·»åŠ  <strong>.http</strong> æˆ–è€…æ˜¯ <strong>.rest</strong> ç»“å°¾çš„æ–‡ä»¶ï¼Œè¾“å…¥ http è¯·æ±‚ï¼Œå³é”®é€‰æ‹© Send Request æ‰§è¡Œ API æŸ¥çœ‹ç»“æœã€‚</p>
<p>æ’ä»¶å…¶ä»–åŠŸèƒ½ï¼š</p>
<ol>
<li>å¯ä»¥é€šè¿‡ Generate Code Snippet å‘½ä»¤å¿«é€Ÿå°†å½“å‰ http è¯·æ±‚ç”Ÿæˆä½ è¦çš„ç¼–ç¨‹è¯­è¨€ä»£ç åŠæ–¹æ³•ã€‚</li>
<li>æ”¯æŒå˜é‡ï¼Œå®˜æ–¹ç»™å‡ºçš„ä¾‹å­ï¼š</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@hostname = api.example.com</span><br><span class="line">@port = 8080</span><br><span class="line">@host = &#123;&#123;hostname&#125;&#125;:&#123;&#123;port&#125;&#125;</span><br><span class="line">@contentType = application/json</span><br><span class="line">@createdAt = &#123;&#123;$datetime iso8601&#125;&#125;</span><br><span class="line">@modifiedBy = &#123;&#123;$processEnv USERNAME&#125;&#125;</span><br><span class="line"></span><br><span class="line">###</span><br><span class="line"></span><br><span class="line">@name = hello</span><br><span class="line"></span><br><span class="line">GET https://&#123;&#123;host&#125;&#125;/authors/&#123;&#123;name&#125;&#125; HTTP/1.1</span><br><span class="line"></span><br><span class="line">###</span><br><span class="line"></span><br><span class="line">PATCH https://&#123;&#123;host&#125;&#125;/authors/&#123;&#123;name&#125;&#125; HTTP/1.1</span><br><span class="line">Content-Type: &#123;&#123;contentType&#125;&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    &quot;content&quot;: &quot;foo bar&quot;,</span><br><span class="line">    &quot;created_at&quot;: &quot;&#123;&#123;createdAt&#125;&#125;&quot;,</span><br><span class="line">    &quot;modified_by&quot;: &quot;&#123;&#123;modifiedBy&#125;&#125;&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="gt-gt-Turbo-Console-Log"><a href="#gt-gt-Turbo-Console-Log" class="headerlink" title="&gt;&gt; Turbo Console Log"></a>&gt;&gt; Turbo Console Log</h4><p><a href="https://marketplace.visualstudio.com/items?itemName=ChakrounAnas.turbo-console-log">Turbo Console Log</a> æ’ä»¶èƒ½å¤Ÿè‡ªåŠ¨ç”Ÿæˆæœ‰æ„ä¹‰çš„ log æ¶ˆæ¯ï¼Œé€‰ä¸­è¦è¾“å‡ºçš„å­—æ®µä¹‹åï¼Œåˆ©ç”¨å¿«æ·é”®<code>control+option+L</code>ç”Ÿæˆå¯¹åº” log è¯­å¥ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; selectedItem &#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(</span><br><span class="line">  <span class="string">&#x27;ğŸš€ ~ file: playPage.js ~ line 47 ~ PlayPage ~ selectedItem&#x27;</span>,</span><br><span class="line">  selectedItem</span><br><span class="line">);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸš€ ~ file: playPage.js ~ line 47 ~ selectedItem&#x27;</span>, selectedItem);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸš€ ~ selectedItem&#x27;</span>, selectedItem);</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Option+Shift+Uï¼šå–æ¶ˆæ‰€æœ‰æ‰©å±• log çš„æ³¨é‡Š</strong></li>
<li><strong>Option+Shift+Cï¼šæ³¨é‡Šæ‰€æœ‰æ‰©å±• log</strong></li>
<li><strong>Option+Shift+Dï¼šåˆ é™¤æ‰€æœ‰æ‰©å±• log</strong></li>
</ul>
<p>æ’ä»¶ propertiesï¼š</p>
<ol>
<li>turboConsoleLog.logMessagePrefix(string)ï¼šlog ä¿¡æ¯çš„å‰ç¼€ï¼Œé»˜è®¤ä¸º ğŸš€</li>
<li>turboConsoleLog.addSemicolonInTheEnd(boolean)ï¼šlog è¯­å¥åæ˜¯å¦åŠ åˆ†å·</li>
<li>turboConsoleLog.insertEnclosingClass(boolean)ï¼šlog è¯­å¥æ˜¯å¦æ·»åŠ åŒ…å«é€‰ä¸­å­—æ®µçš„ç±»å</li>
<li>turboConsoleLog.insertEnclosingFunction(boolean)ï¼šlog è¯­å¥æ˜¯å¦æ·»åŠ åŒ…å«é€‰ä¸­å­—æ®µçš„æ–¹æ³•å</li>
<li>turboConsoleLog.includeFileNameAndLineNum(boolean)ï¼šæ˜¯å¦åŒ…æ‹¬æ–‡ä»¶åå’Œ log è¯­å¥æ‰€åœ¨è¡Œ</li>
<li>turboConsoleLog.quote(enum)ï¼šå¼•å·å½¢å¼</li>
<li>turboConsoleLog.wrapLogMessage(boolean)ï¼šæ˜¯å¦è¦å°† log è¾“å‡ºåŒ…è£…(è¦é€‰æ‹© falseï¼Œé€‰æ‹© true çš„è¯ä¼šæœ‰é—®é¢˜)</li>
</ol>
<h4 id="gt-gt-Error-Lens"><a href="#gt-gt-Error-Lens" class="headerlink" title="&gt;&gt; Error Lens"></a>&gt;&gt; Error Lens</h4><p><a href="https://marketplace.visualstudio.com/items?itemName=usernamehw.errorlens">Error Lens</a> æ’ä»¶æ˜¯ä¸€æ¬¾èƒ½å¤Ÿå¾ˆå¤§ç¨‹åº¦ä¸Šæé«˜å¼€å‘æ•ˆç‡çš„æ’ä»¶ï¼Œä»–å°†ä¼šæŠŠä»£ç çš„æŠ¥é”™å’Œå‘Šè­¦ä¿¡æ¯åŠæ—¶æ˜¾ç¤ºåœ¨ä»£ç è¡Œï¼Œæ‰€ä»¥å½“ä»£ç æœ‰é—®é¢˜æ—¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦å†å°†å…‰æ ‡ç§»è‡³è¯¥é—®é¢˜å¤„å°±èƒ½æŸ¥çœ‹é—®é¢˜ã€‚</p>
<p><img src="https://files.mdnice.com/user/13305/ba2abaaf-e9ba-4d43-9413-73653d18c76e.png"></p>
<h4 id="gt-gt-ImgCook"><a href="#gt-gt-ImgCook" class="headerlink" title="&gt;&gt; ImgCook"></a>&gt;&gt; ImgCook</h4><p><a href="https://marketplace.visualstudio.com/items?itemName=imgcook.imgcook">ImgCook</a> æ’ä»¶æ˜¯ä¸€æ¬¾å°†è®¾è®¡è½¬æ¢ä¸ºä»£ç çš„æ™ºèƒ½å·¥å…·ï¼ŒåŒ…æ‹¬è§†å›¾ä»£ç ã€æ•°æ®ç»‘å®šä»£ç ã€ç»„ä»¶ä»£ç ä»¥åŠæ¥è‡ªä¸åŒç±»å‹è®¾è®¡æ–‡æ¡£çš„éƒ¨åˆ†ä¸šåŠ¡é€»è¾‘ä»£ç ã€‚</p>
<p>ä½¿ç”¨æ–¹æ³•ï¼š</p>
<ol>
<li>å®‰è£…å®Œ imgcook æ’ä»¶åï¼Œåœ¨èµ„æºç®¡ç†å™¨ä»»æ„æ–‡ä»¶å¤¹å³é”®é€‰æ‹©<code>Open With imgcook studio</code>æ‰“å¼€ imgcook studio ç•Œé¢ã€‚(éœ€è¦é¢„å…ˆåœ¨å®˜ç½‘æ³¨å†Œè´¦å·ï¼Œå¹¶æŸ¥è¯¢è·å¾— AccessId)</li>
<li>ä»<a href="https://www.imgcook.com/">å®˜ç½‘</a>ä¸‹è½½æ’ä»¶ï¼Œç°åœ¨æ”¯æŒ Sketchã€Figma å’Œ Photoshop(VSCode æ’ä»¶ç›´æ¥ä» VSCode æ’ä»¶å•†åŸä¸‹è½½)ã€‚</li>
<li>åœ¨é€‰ä¸­æ¡†ä¸­ç‚¹å‡»å¯¼å‡ºï¼Œæ­¤æ—¶è‡ªåŠ¨å¤åˆ¶äº†è®¾è®¡å›¾æ•°æ®(å¿…é¡»è¦æ‹¥æœ‰ç¼–è¾‘æƒé™)<br><img src="https://files.mdnice.com/user/13305/29a9e4c3-efb8-41b1-b0ab-fefce55d177a.png"></li>
<li>å›åˆ° imgcook studio é¡µé¢(ä¹Ÿå¯ä»¥æ˜¯ imgcook ç½‘ç«™)ï¼Œç²˜è´´æ•°æ®åï¼Œä¾¿å¯åœ¨é¡µé¢å®¹å™¨ä¸­çœ‹åˆ°æ ·å¼å›¾ï¼Œåœ¨ç»„ä»¶æ ‘ä¸€æ çœ‹è§æˆ‘ä»¬çš„ç»„ä»¶ç»“æ„</li>
<li>ä¿å­˜ä¿®æ”¹åçš„æ ·å¼(æ­¤æ—¶ä¼šåŠ å…¥åˆ° imgcook é¡¹ç›®ä¸­)</li>
<li>å¯¼å‡ºä»£ç åˆ°é¡¹ç›®ï¼Œè¿è¡ŒæŸ¥çœ‹ç»“æœã€‚<br><img src="https://files.mdnice.com/user/13305/b3d60f1b-6323-43d1-9076-c4c3d5769fbe.png"></li>
</ol>
<h4 id="gt-gt-Code-Spell-Checker"><a href="#gt-gt-Code-Spell-Checker" class="headerlink" title="&gt;&gt; Code Spell Checker"></a>&gt;&gt; Code Spell Checker</h4><p>ä¸€æ¬¾åŸºæœ¬çš„æ‹¼å†™æ£€æŸ¥å·¥å…·åŒæ—¶æ”¯æŒé©¼å³°å¼å‘½åã€‚æ­¤æ‹¼å†™æ£€æŸ¥å™¨çš„ç›®æ ‡æ˜¯å¸®åŠ©æ•è·å¸¸è§çš„æ‹¼å†™é”™è¯¯ã€‚å½“å‡ºç°çš„å•è¯æ²¡æœ‰æ”¶å½•åœ¨å­—å…¸é‡Œæ—¶ï¼Œå°†ä¼šäº§ç”Ÿæ³¢æµªçº¿ä¸‹åˆ’çº¿ã€‚å¯ä»¥åˆ©ç”¨å¿«æ·é”® <code>Command+.</code> çœ‹åˆ°æ¨èçš„ä¿®å¤æ–¹å¼ï¼šç›¸ä¼¼å•è¯æ¨èæˆ–è€…æ·»åŠ æ–°å•è¯å…¥å­—å…¸åº“ã€‚</p>
<img src="https://files.mdnice.com/user/13305/4f91a2db-db83-4012-bf29-ee28cfec2700.png" width="50%" height="50%">

<h3 id="3-Git-ç›¸å…³æ’ä»¶"><a href="#3-Git-ç›¸å…³æ’ä»¶" class="headerlink" title="3. Git ç›¸å…³æ’ä»¶"></a>3. Git ç›¸å…³æ’ä»¶</h3><h4 id="gt-gt-Git-Graph"><a href="#gt-gt-Git-Graph" class="headerlink" title="&gt;&gt; Git Graph"></a>&gt;&gt; Git Graph</h4><p><a href="https://marketplace.visualstudio.com/items?itemName=mhutchie.git-graph">Git Graph</a> æ’ä»¶èƒ½å¤Ÿå°† git å†å²æ“ä½œç”¨å›¾è¡¨çš„å½¢å¼å±•ç°å‡ºæ¥ï¼Œå¹¶åœ¨å›¾è¡¨ä¸Šæä¾›äº†ç®€å•çš„ git æ“ä½œã€‚ç‚¹å‡»å·¦ä¸‹è§’çŠ¶æ€æ ä¸­çš„ Git Graph æŒ‰é’®ï¼Œè¿›å…¥ Git Graph å›¾è¡¨ç•Œé¢ã€‚</p>
<ul>
<li>å›¾è¡¨å±•ç¤ºäº†åˆ†æ”¯çš„èµ°å‘å›¾ã€åˆ†æ”¯çš„ commit æè¿°ã€æ—¶é—´ã€ä½œè€…å’Œ commit ç¼–å·ã€‚</li>
<li>åœ¨ä¸Šæ–¹çš„å·¥å…·æ ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æŸ¥çœ‹çš„åˆ†æ”¯ã€æ˜¯å¦æ˜¾ç¤ºè¿œç¨‹çš„åˆ†æ”¯ã€æœç´¢ç­‰åŠŸèƒ½ã€‚</li>
<li>ç‚¹å‡»ä¸€æ¡ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹å½“å‰ commit æ”¹åŠ¨çš„æ–‡ä»¶åˆ—è¡¨ï¼Œä»¥åŠ git çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚</li>
</ul>
<h4 id="gt-gt-GitLens"><a href="#gt-gt-GitLens" class="headerlink" title="&gt;&gt; GitLens"></a>&gt;&gt; GitLens</h4><p><a href="https://marketplace.visualstudio.com/items?itemName=eamodio.gitlens">GitLens</a> èƒ½å¤Ÿå¾ˆå¤§ç¨‹åº¦ä¸Šå¸®åŠ©å¼€å‘è€…ç†è§£ä»£ç ã€‚å¼€å‘è€…å¯ä»¥é€šè¿‡ä»£ç è¡Œä¸­å¿«é€Ÿçœ‹å‡ºæ˜¯è°ã€ä»€ä¹ˆæ—¶å€™ã€ä¸ºä»€ä¹ˆä»¥åŠå¦‚ä½•å¯¹å½“å‰ä»£ç è¿›è¡Œä¿®æ”¹ã€‚<br>ç‰¹æ€§ï¼š</p>
<ul>
<li>æä¾›ä¿®æ”¹ç‰ˆæœ¬é—´çš„åˆ‡æ¢</li>
<li>æä¾›ä»£ç å—ä½œè€…ä¿¡æ¯</li>
<li>æä¾›ä»£ç è¡Œå˜åŒ–æƒ…å†µ</li>
</ul>
<p><img src="https://files.mdnice.com/user/13305/b5fec513-6c5e-4f3d-b844-d515c2309c93.png"></p>
<h4 id="gt-gt-Git-History"><a href="#gt-gt-Git-History" class="headerlink" title="&gt;&gt; Git History"></a>&gt;&gt; Git History</h4><p><a href="https://marketplace.visualstudio.com/items?itemName=donjayamanne.githistory">Git History</a> æ˜¯å¦ä¸€æ¬¾å¸®åŠ©å¼€å‘è€…è¿›è¡Œ git æ“ä½œçš„æ’ä»¶ã€‚å®‰è£…æ­¤æ’ä»¶åï¼Œå¼€å‘è€…å¯ä»¥å³é”®è‡ªå·±æƒ³è¦æŸ¥çœ‹çš„æ–‡ä»¶æŸ¥çœ‹æ–‡ä»¶å†å²(åŒ…æ‹¬åˆ†æ”¯å†å²ã€æ–‡ä»¶å†å²ã€è¡Œå†å²å’Œä½œè€…å†å²)ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œæ–‡ä»¶å¯¹æ¯”ã€cherry-picking æ“ä½œã€åˆ›å»º tag æ ‡ç­¾ã€åˆ›å»ºåˆ†æ”¯ï¼Œè¿›è¡Œ reset å’Œ revert æ“ä½œç­‰ç­‰ã€‚</p>
<img src="https://files.mdnice.com/user/13305/eb0b00c1-88e9-4503-933d-81d9e5a1d314.png" width="30%" height="30%">

<p>ä¼˜åŠ¿ï¼š</p>
<ol>
<li>æ”¯æŒå½“å‰é€‰ä¸­ç‰ˆæœ¬ä»£ç ä¸æœ¬åœ°ä»£ç ã€ä¸ä¸Šä¸€ç‰ˆæœ¬ä»£ç å¯¹æ¯”</li>
<li>æŸ¥è¯¢ä½œè€…æäº¤è®°å½•</li>
<li>åˆ†æ”¯æ“ä½œï¼šåœ¨é€‰ä¸­åˆ†æ”¯ä¸Šå¯ä»¥å¿«é€Ÿè¿›è¡Œå„ç±» git æ“ä½œ(æ–°å»ºåˆ†æ”¯ã€reset æ“ä½œã€revert æ“ä½œç­‰)</li>
</ol>
<h3 id="4-è§‚æ„Ÿæ ·å¼ç±»æ’ä»¶"><a href="#4-è§‚æ„Ÿæ ·å¼ç±»æ’ä»¶" class="headerlink" title="4. è§‚æ„Ÿæ ·å¼ç±»æ’ä»¶"></a>4. è§‚æ„Ÿæ ·å¼ç±»æ’ä»¶</h3><h4 id="gt-gt-é¢œè‰²ä¸»é¢˜æ’ä»¶"><a href="#gt-gt-é¢œè‰²ä¸»é¢˜æ’ä»¶" class="headerlink" title="&gt;&gt; é¢œè‰²ä¸»é¢˜æ’ä»¶"></a>&gt;&gt; é¢œè‰²ä¸»é¢˜æ’ä»¶</h4><p>ç›¸æ¯” VScode è‡ªå¸¦çš„ Dark ä¸»é¢˜ï¼Œæ’ä»¶æ‰©å±•ä¸­æä¾›çš„ä¸»é¢˜åœ¨è§†è§‰æ„Ÿå®˜ä¸Šæ›´åŠ èˆ’æœã€‚å®‰è£…é¢œè‰²ä¸»é¢˜æ’ä»¶åè¾“å…¥<code>shift+command+p</code>è°ƒå‡ºå‘½ä»¤é¢æ¿ï¼Œè¾“å…¥<code>Color Theme</code>åé€‰æ‹©ä¸»é¢˜ä¸ºå®‰è£…çš„ä¸»é¢˜å³å¯åˆ‡æ¢é¢œè‰²ä¸»é¢˜ã€‚</p>
<p>é¢œè‰²ä¸»é¢˜ç±»æ’ä»¶ï¼šAtom One Dark Themeï¼ŒOne Dark Proï¼ŒDraculaï¼ŒTokyo Nightï¼ŒSublime Material Theme ç­‰ã€‚</p>
<h4 id="gt-gt-æ–‡ä»¶å›¾æ ‡æ’ä»¶"><a href="#gt-gt-æ–‡ä»¶å›¾æ ‡æ’ä»¶" class="headerlink" title="&gt;&gt; æ–‡ä»¶å›¾æ ‡æ’ä»¶"></a>&gt;&gt; æ–‡ä»¶å›¾æ ‡æ’ä»¶</h4><p>VSCode é»˜è®¤æ˜¯æ²¡æœ‰æ–‡ä»¶çš„å›¾æ ‡ï¼Œæ–‡ä»¶åˆ—è¡¨åªæ˜¾ç¤ºå„æ–‡ä»¶çš„åç§°ä»¥åŠç”¨<code>&gt;</code>è¡¨ç¤ºå¯æ‰©å±•çš„æ–‡ä»¶å¤¹ï¼Œè¿™è®©æˆ‘ä»¬é€‰æ‹©ç›®æ ‡æ–‡ä»¶æ›´ä¸æ˜“ã€‚é€šè¿‡å®‰è£…æ–‡ä»¶å›¾æ ‡æ’ä»¶èƒ½å¤Ÿå¾ˆå¤§ç¨‹åº¦ä¸Šå‡å°‘è§†è§‰ç–²åŠ³ã€ä½¿å¾—é¡¹ç›®ç›®å½•æ›´ç›´è§‚å¯è§†ã€‚å®‰è£…æ–‡ä»¶å›¾æ ‡æ’ä»¶åè¾“å…¥<code>shift+command+p</code>è°ƒå‡ºå‘½ä»¤é¢æ¿ï¼Œè¾“å…¥<code>File Icon Theme</code>åé€‰æ‹©ä¸»é¢˜ä¸ºå®‰è£…çš„æ–‡ä»¶å›¾æ ‡ä¸»é¢˜å³å¯ç”Ÿæ•ˆã€‚</p>
<p>æ–‡ä»¶å›¾æ ‡ç±»æ’ä»¶ï¼švscode-iconsã€Material Icon Theme ç­‰ã€‚</p>
<h4 id="gt-gt-Bracket-Pair-Colorizer-2"><a href="#gt-gt-Bracket-Pair-Colorizer-2" class="headerlink" title="&gt;&gt; Bracket Pair Colorizer 2"></a>&gt;&gt; Bracket Pair Colorizer 2</h4><p>å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éš¾å…ä¼šé‡åˆ°ä½¿ç”¨å¾ˆå¤š{},[],()ç¬¦å·ç”šè‡³è¿˜ä¼šæœ‰åµŒå¥—åˆåµŒå¥—çš„æƒ…å†µã€‚è¿™æ—¶ <a href="https://marketplace.visualstudio.com/items?itemName=CoenraadS.bracket-pair-colorizer-2">Bracket Pair Colorizer 2</a> å°±èƒ½å¤Ÿæ´¾ä¸Šç”¨åœºäº†ã€‚æ­¤ç»„ä»¶èƒ½å¤Ÿç»™é…å¯¹çš„ç¬¦å·æ·»åŠ é¢œè‰²å¹¶ä¸”åœ¨ç‚¹å‡»å·¦æ‹¬å·çš„åŒæ—¶ï¼Œèƒ½å¤Ÿé€šè¿‡é¢œè‰²å±•ç¤ºå‡ºå³æ‹¬å·ï¼Œè®©ä»£ç å—å±•ç¤ºçš„æ›´åŠ æ¸…æ™°æ˜äº†ã€‚<br>é¢œè‰²è®¾ç½®ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="attr">&quot;bracket-pair-colorizer-2.colors&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;Gold&quot;</span><span class="punctuation">,</span><span class="string">&quot;Orchid&quot;</span><span class="punctuation">,</span><span class="string">&quot;LightSkyBlue&quot;</span><span class="punctuation">,</span><span class="string">&quot;AntiqueWhite&quot;</span><span class="punctuation">,</span><span class="string">&quot;Chocolate&quot;</span><span class="punctuation">,</span><span class="string">&quot;Chartreuse&quot;</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure>

<p><code>bracket-pair-colorizer-2.colorMode</code>å±æ€§ç”¨æ¥è®¾ç½®æ‹¬å·ä½¿ç”¨é¢œè‰²æ± çš„ç±»å‹</p>
<img src="https://files.mdnice.com/user/13305/b27e4db9-dfff-4067-99bb-91f6ea2f48ed.png">
<img src="https://files.mdnice.com/user/13305/a98342d5-5050-475e-ab2d-dd68a3f4c633.png">

<p><code>bracket-pair-colorizer-2.forceUniqueOpeningColor</code>å±æ€§å¯ä»¥ç”¨æ¥è®¾ç½®ç›¸é‚»æ‹¬å·çš„é¢œè‰²çš„ä½¿ç”¨è§„åˆ™</p>
<img src="https://files.mdnice.com/user/13305/9ef88ba2-2963-4cd5-b4ba-59df1de32139.png">
<img src="https://files.mdnice.com/user/13305/5ae8eb41-0182-490e-b9ab-80e2f91b3b1c.png">

<p>æœ€åæ•ˆæœå›¾ï¼š</p>
<p><img src="https://files.mdnice.com/user/13305/bfdcba4d-adfc-4d32-afa5-ec17387d81a0.png"></p>
<h4 id="gt-gt-Indent-Rainbow"><a href="#gt-gt-Indent-Rainbow" class="headerlink" title="&gt;&gt; Indent-Rainbow"></a>&gt;&gt; Indent-Rainbow</h4><p><a href="https://marketplace.visualstudio.com/items?itemName=oderwat.indent-rainbow">Indent Rainbow</a> æ’ä»¶å¯ä»¥é€šè¿‡åˆ©ç”¨é¢œè‰²æ¥å¯¹ä»£ç çš„ç¼©è¿›è¿›è¡ŒåŒºåˆ†ã€‚</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä»¥ä¸‹äºŒè€…ä½¿ç”¨å…¶ä¸€</span></span><br><span class="line"><span class="attr">&quot;indentRainbow.includedLanguages&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="comment">// åº”ç”¨çš„æ–‡ä»¶ç±»å‹ï¼Œ&quot;javascript&quot;ã€&quot;tpyescript&quot;</span></span><br><span class="line"><span class="attr">&quot;indentRainbow.excludedLanguages&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;plaintext&quot;</span><span class="punctuation">]</span><span class="comment">// ä¸åº”ç”¨çš„æ–‡ä»¶ç±»å‹</span></span><br><span class="line"><span class="comment">// è‡ªå®šä¹‰é¢œè‰²(éœ€è¦é‡å¯ç”Ÿæ•ˆ)</span></span><br><span class="line"><span class="attr">&quot;indentRainbow.colors&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;rgba(255,255,64,0.07)&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;rgba(127,255,127,0.07)&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;rgba(255,127,255,0.07)&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;rgba(79,236,236,0.07)&quot;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br></pre></td></tr></table></figure>

<p>æ ·å¼å›¾ï¼š</p>
<p><img src="https://files.mdnice.com/user/13305/0e8b2810-1e0b-4a5d-b4d9-8120aae9fe9b.png"></p>
<h4 id="gt-gt-Color-the-tag-name"><a href="#gt-gt-Color-the-tag-name" class="headerlink" title="&gt;&gt; Color the tag name"></a>&gt;&gt; Color the tag name</h4><p>æ­¤æ’ä»¶èƒ½å¤Ÿä¸º html çš„æ ‡ç­¾æ·»åŠ é¢œè‰²ï¼ŒåŒæ—¶åœ¨ react çš„ç»„ä»¶ä¸­ä¹Ÿèƒ½ç”Ÿæ•ˆã€‚</p>
<p>æ•ˆæœå›¾ï¼š</p>
<img src="https://files.mdnice.com/user/13305/d6bfea6b-0616-4798-bc83-621d55c6d1a1.png" width="70%" height="70%">

<h4 id="gt-gt-Color-Highlight"><a href="#gt-gt-Color-Highlight" class="headerlink" title="&gt;&gt; Color Highlight"></a>&gt;&gt; Color Highlight</h4><p>æ­¤æ’ä»¶èƒ½å¤Ÿåœ¨ç¼–è¾‘å™¨ä¸­çªå‡ºç½‘é¡µçš„é¢œè‰²</p>
<h3 id="5-æ³¨é‡Šç›¸å…³æ’ä»¶"><a href="#5-æ³¨é‡Šç›¸å…³æ’ä»¶" class="headerlink" title="5. æ³¨é‡Šç›¸å…³æ’ä»¶"></a>5. æ³¨é‡Šç›¸å…³æ’ä»¶</h3><h4 id="gt-gt-Vscode-Fileheader"><a href="#gt-gt-Vscode-Fileheader" class="headerlink" title="&gt;&gt; Vscode-Fileheader"></a>&gt;&gt; Vscode-Fileheader</h4><p>æ­¤æ’ä»¶èƒ½å¤Ÿæä¾›é¡¶éƒ¨æ³¨é‡Šæ¨¡æ¿ï¼Œå¯å®šä¹‰ä½œè€…ã€æ—¶é—´ç­‰ä¿¡æ¯ï¼Œå¹¶ä¼šè‡ªåŠ¨æ›´æ–°æœ€åä¿®æ”¹æ—¶é—´ã€‚åˆ©ç”¨å¿«æ·é”® Control+Option+I å¿«é€Ÿç”Ÿæˆé¡¶éƒ¨æ³¨é‡Šã€‚é…ç½® setting ä¸ç”Ÿæ•ˆï¼Œå‘ï¼ï¼ï¼</p>
<h4 id="gt-gt-Doxygen-Documentation-Generator"><a href="#gt-gt-Doxygen-Documentation-Generator" class="headerlink" title="&gt;&gt; Doxygen Documentation Generator"></a>&gt;&gt; Doxygen Documentation Generator</h4><p>è‡ªåŠ¨ç”Ÿæˆä»£ç æ³¨é‡Šæ’ä»¶ï¼Œç°åœ¨å®‰è£…æ— æ•ˆï¼Œæ— æ³•ç”Ÿæˆé…ç½®å±æ€§ã€‚</p>
<h4 id="gt-gt-koroFileHeader"><a href="#gt-gt-koroFileHeader" class="headerlink" title="&gt;&gt; koroFileHeader"></a>&gt;&gt; koroFileHeader</h4><p><a href="https://marketplace.visualstudio.com/items?itemName=OBKoro1.korofileheader">koroFileHeader</a> æ’ä»¶æ”¯æŒåœ¨ vscode ä¸­ç”Ÿæˆæ–‡ä»¶å¤´éƒ¨æ³¨é‡Šå’Œå‡½æ•°æ³¨é‡Šã€‚</p>
<ol>
<li>æ–‡ä»¶å¤´éƒ¨æ·»åŠ æ³¨é‡Šï¼šåˆ©ç”¨å¿«æ·é”® Command+Control+Iï¼Œåœ¨æ–‡ä»¶å¤´éƒ¨å¿«é€Ÿæ·»åŠ æ³¨é‡Šï¼Œè®°å½•æ–‡ä»¶ä¿¡æ¯ï¼Œå¹¶èƒ½åœ¨ä¿å­˜æ—¶è‡ªåŠ¨æ›´æ–°æœ€åç¼–è¾‘æ—¶é—´å’Œç¼–è¾‘è€…</li>
<li>å…‰æ ‡å¤„æ·»åŠ å‡½æ•°æ³¨é‡Šï¼šåˆ©ç”¨å¿«æ·é”® Command+Control+T åœ¨å…‰æ ‡å¤„è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªæ³¨é‡Šæ¨¡ç‰ˆï¼Œè‡ªåŠ¨è§£æå‡½æ•°å‚æ•°ã€‚</li>
</ol>
<p>é…ç½®å­—æ®µï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¤´éƒ¨æ³¨é‡Š</span></span><br><span class="line"><span class="attr">&quot;fileheader.customMade&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">// å¤´éƒ¨æ³¨é‡Šé»˜è®¤å­—æ®µ</span></span><br><span class="line">    <span class="attr">&quot;Author&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Jun Yang&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;Date&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Do not edit&quot;</span><span class="punctuation">,</span> <span class="comment">// è®¾ç½®åé»˜è®¤è®¾ç½®æ–‡ä»¶ç”Ÿæˆæ—¶é—´</span></span><br><span class="line">    <span class="attr">&quot;LastEditTime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Do not edit&quot;</span><span class="punctuation">,</span> <span class="comment">// è®¾ç½®åï¼Œä¿å­˜æ–‡ä»¶æ›´æ”¹é»˜è®¤æ›´æ–°æœ€åç¼–è¾‘æ—¶é—´</span></span><br><span class="line">    <span class="attr">&quot;LastEditors&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Jun Yang&quot;</span><span class="punctuation">,</span> <span class="comment">// è®¾ç½®åï¼Œä¿å­˜æ–‡ä»¶æ›´æ”¹é»˜è®¤æ›´æ–°æœ€åç¼–è¾‘äºº</span></span><br><span class="line">    <span class="attr">&quot;Description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;FilePath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Do not edit&quot;</span><span class="punctuation">,</span> <span class="comment">// è®¾ç½®åï¼Œé»˜è®¤ç”Ÿæˆæ–‡ä»¶ç›¸å¯¹äºé¡¹ç›®çš„è·¯å¾„</span></span><br><span class="line">    <span class="attr">&quot;custom_string_obkoro1&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å¯ä»¥è¾“å…¥é¢„å®šçš„ç‰ˆæƒå£°æ˜ã€ä¸ªæ€§ç­¾åã€ç©ºè¡Œç­‰&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="comment">// å‡½æ•°æ³¨é‡Š</span></span><br><span class="line"><span class="attr">&quot;fileheader.cursorMode&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="comment">// é»˜è®¤å­—æ®µ</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;param&quot;</span><span class="punctuation">:</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;return&quot;</span><span class="punctuation">:</span><span class="string">&quot;&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>

<h4 id="gt-gt-Document-This"><a href="#gt-gt-Document-This" class="headerlink" title="&gt;&gt; Document This"></a>&gt;&gt; Document This</h4><p><a href="https://marketplace.visualstudio.com/items?itemName=oouo-diogo-perdigao.docthis">Document This</a> æ’ä»¶èƒ½å¤Ÿä¸ºæˆ‘ä»¬è‡ªåŠ¨å¿«é€Ÿåœ¨æ’å…¥ç¬¦å·æ‰€åœ¨æˆ–å†…éƒ¨çš„ä»»ä½•å†…å®¹ç”Ÿæˆæ–‡æ¡£ã€‚<br>ä½¿ç”¨æ–¹æ³•ï¼š</p>
<ol>
<li>é€‰ä¸­ç›®æ ‡ååˆ©ç”¨å¿«æ·é”®ï¼šControl+Option+D+D</li>
<li>åœ¨ç›®æ ‡ä¸Šæ–¹è¾“å…¥<code>/**</code>åé€‰æ‹© Document Thisï¼Œå†å›è½¦</li>
</ol>
<p>é…ç½®æ¨èï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="attr">&quot;docthis.includeDescriptionTag&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;docthis.includeAuthorTag&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;docthis.authorName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Jun&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;docthis.includeMemberOfOnClassMembers&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;docthis.includeMemberOfOnInterfaceMembers&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;docthis.includeDateTag&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>

<p>æ•ˆæœå›¾ï¼š</p>
<img src="https://files.mdnice.com/user/13305/94ce88f3-b0f8-4177-aa4c-e1ccb07d9626.png" width="70%" height="70%">

<h3 id="6-Markdown-ç›¸å…³æ’ä»¶"><a href="#6-Markdown-ç›¸å…³æ’ä»¶" class="headerlink" title="6. Markdown ç›¸å…³æ’ä»¶"></a>6. Markdown ç›¸å…³æ’ä»¶</h3><h4 id="gt-gt-Markdown-Preview-Enhanced"><a href="#gt-gt-Markdown-Preview-Enhanced" class="headerlink" title="&gt;&gt; Markdown Preview Enhanced"></a>&gt;&gt; Markdown Preview Enhanced</h4><p><a href="https://marketplace.visualstudio.com/items?itemName=shd101wyy.markdown-preview-enhanced">Markdown Preview Enhanced</a> æ‰©å±•ä¸ºæˆ‘ä»¬åœ¨ç¼–å†™ md æ–‡ä»¶æ—¶æä¾›äº†è®¸å¤šæœ‰ç”¨çš„åŠŸèƒ½ï¼Œä¾‹å¦‚è‡ªåŠ¨æ»šåŠ¨åŒæ­¥ã€æ•°å­¦æ’ç‰ˆã€PDF å¯¼å‡ºã€ä»£ç å—ã€æ¼”ç¤ºæ–‡ç¨¿ç¼–å†™å™¨ç­‰ã€‚</p>
<h4 id="gt-gt-Markdown-All-in-One"><a href="#gt-gt-Markdown-All-in-One" class="headerlink" title="&gt;&gt; Markdown All in One"></a>&gt;&gt; Markdown All in One</h4><p><a href="https://marketplace.visualstudio.com/items?itemName=yzhang.markdown-all-in-one">Markdown All in One</a> æ’ä»¶æä¾›äº†ç¼–è¾‘ Markdown æ–‡ä»¶çš„æ‰€æœ‰åŠŸèƒ½éœ€è¦ï¼šå¿«æ·é”®ã€è¡¨æ ¼æ ·å¼ã€åˆ—è¡¨æ“ä½œã€è‡ªåŠ¨é¢„è§ˆç­‰ã€‚æ­¤æ’ä»¶é…åˆä¸Š<a href="https://mdnice.com/">å¢¨æ»´</a>ï¼Œå°±å¯ä»¥æ»¡è¶³ç¼–å†™.md æ–‡ä»¶çš„ç»å¤§éƒ¨åˆ†éœ€æ±‚ã€‚</p>
<p>Mac å¿«æ·é”®ï¼š</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Command</th>
</tr>
</thead>
<tbody><tr>
<td>Command + B</td>
<td>ç²—ä½“</td>
</tr>
<tr>
<td>Command + I</td>
<td>æ–œä½“</td>
</tr>
<tr>
<td>Control + Shift + ]</td>
<td>å¢åŠ ä¸€çº§æ ‡é¢˜</td>
</tr>
<tr>
<td>Control + Shift + [</td>
<td>å‡å°ä¸€çº§æ ‡é¢˜</td>
</tr>
<tr>
<td>Option + Shift + F</td>
<td>æ ¼å¼åŒ–(åŒ…æ‹¬è¡¨æ ¼)</td>
</tr>
<tr>
<td>Command + Shift + V</td>
<td>é¢„è§ˆæ ·å¼</td>
</tr>
</tbody></table>
<p>å¸¸ç”¨å‘½ä»¤ï¼š</p>
<ol>
<li>Markdownï¼šCreate Table of Contents</li>
<li>Markdownï¼šUpdate Table of Contents</li>
<li>Markdownï¼šToggle code span</li>
<li>Markdownï¼šPrint current document to HTML</li>
</ol>
<h3 id="7-å…¶ä»–æ’ä»¶"><a href="#7-å…¶ä»–æ’ä»¶" class="headerlink" title="7. å…¶ä»–æ’ä»¶"></a>7. å…¶ä»–æ’ä»¶</h3><h4 id="gt-gt-HTML-to-CSS-autocompletion"><a href="#gt-gt-HTML-to-CSS-autocompletion" class="headerlink" title="&gt;&gt; HTML to CSS autocompletion"></a>&gt;&gt; HTML to CSS autocompletion</h4><p>HTML to CSS autocompletion æ’ä»¶èƒ½å¤Ÿå®ç° HTML åˆ° CSS çš„é€‰æ‹©å™¨æ™ºèƒ½å®Œæˆã€‚æ”¯æŒçš„æµï¼šHTML&#x2F;PHP -&gt; CSS, SCSS, Less, Sassã€‚</p>
<p><code>html-to-css-autocompletion.autocompletionFilesScope</code>å®šä¹‰åŒ¹é…çš„èŒƒå›´ï¼š</p>
<ul>
<li>é»˜è®¤ä¸º multi-rootï¼šæ ¹æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°çš„æ‰€æœ‰é€‰æ‹©å™¨å¯¹å®šä¹‰çš„æ ·å¼è¡¨éƒ½æ˜¯å¯è§çš„ã€‚</li>
<li>workspaceï¼šåœ¨ç‰¹å®šå·¥ä½œåŒºæ–‡ä»¶å¤¹&#x2F;é¡¹ç›®ä¸­æ‰¾åˆ°çš„æ‰€æœ‰é€‰æ‹©å™¨å°†å¯¹è¯¥å·¥ä½œåŒºæ–‡ä»¶å¤¹ä¸­çš„æ ·å¼è¡¨å¯è§ã€‚</li>
<li>linked filesï¼šé€‰æ‹©å™¨å°†åªä¸ºå…³è”çš„æ ·å¼è¡¨æä¾›ã€‚</li>
</ul>
<p>ä¸ºäº†å‡å°‘å…¶ä»–æ–‡ä»¶å¸¦æ¥çš„å¹²æ‰°ï¼Œå¯ä»¥å°†å€¼è®¾ä¸º linked filesã€‚</p>
<p>è™½ç„¶<code>html-to-css-autocompletion.getSelectorsFromFileTypes</code>å±æ€§æ˜¯æ¥åˆ¤æ–­å®šä¹‰è¦æœç´¢ç±»å’Œ ID çš„æ–‡ä»¶ç±»å‹ï¼Œé»˜è®¤ä¸º html å’Œ phpï¼Œä½†æ˜¯æ·»åŠ  js æˆ–è€… ts æ–‡ä»¶ç±»å‹ï¼Œä¾æ—§æ— æ³•ç”Ÿæ•ˆã€‚</p>
<h4 id="gt-gt-HTML-CSS-Support"><a href="#gt-gt-HTML-CSS-Support" class="headerlink" title="&gt;&gt; HTML CSS Support"></a>&gt;&gt; HTML CSS Support</h4><p>HTML CSS Support æ’ä»¶æ”¯æŒ CSS åˆ° HTML çš„é€‰æ‹©æ™ºèƒ½å®Œæˆã€‚</p>
<h4 id="gt-gt-Filesize"><a href="#gt-gt-Filesize" class="headerlink" title="&gt;&gt; Filesize"></a>&gt;&gt; Filesize</h4><p>å®‰è£…äº†æ­¤æ’ä»¶ä¹‹åï¼Œèƒ½å¤Ÿåœ¨çŠ¶æ€æ æ˜¾ç¤ºå½“å‰æ–‡ä»¶çš„å¤§å°ï¼Œç‚¹å‡»å¯ä»¥æŸ¥çœ‹æ›´å¤šä¿¡æ¯åŒ…æ‹¬æ–‡ä»¶ç±»å‹ã€åˆ›å»ºæ—¶é—´å’Œä¿®æ”¹æ—¶é—´ã€‚</p>
<p><img src="https://files.mdnice.com/user/13305/c641f3fb-a7d0-4dbe-b303-6f3d2cdeeee1.png"></p>
<h4 id="gt-gt-Image-preview"><a href="#gt-gt-Image-preview" class="headerlink" title="&gt;&gt; Image preview"></a>&gt;&gt; Image preview</h4><p><a href="https://marketplace.visualstudio.com/items?itemName=kisstkondoros.vscode-gutter-preview">Image preview</a> æ’ä»¶èƒ½å¤Ÿåœ¨ä»£ç è¡Œå·¦ä¾§æ˜¾ç¤ºå¯¼å…¥çš„å›¾ç‰‡ï¼š</p>
<p><img src="https://files.mdnice.com/user/13305/c1b1597e-6bf2-4e41-b13d-fbc5730289cb.png"></p>
<h4 id="gt-gt-vscode-faker"><a href="#gt-gt-vscode-faker" class="headerlink" title="&gt;&gt; vscode-faker"></a>&gt;&gt; vscode-faker</h4><p><a href="https://marketplace.visualstudio.com/items?itemName=deerawan.vscode-faker">vscode-faker</a> æ’ä»¶èƒ½å¤Ÿæ”¯æŒç”Ÿæˆå‡æ•°æ®ï¼Œä½¿ç”¨å¿«æ·é”® Command+Shift+P å¼•å‡ºå‘½ä»¤æ¿åï¼Œè¾“å…¥ faker é€‰æ‹©è¦ mock çš„æ•°æ®ç±»å‹ï¼Œæ­¤æ’ä»¶å°±èƒ½éšæœºç”Ÿæˆç›¸å¯¹åº”çš„æ•°æ®ï¼Œå†ä¹Ÿä¸ç”¨æ‹…å¿ƒå¦‚ä½•ç¼–å†™å‡æ•°æ®äº†ï¼ï¼</p>
<h4 id="gt-gt-Partial-Diff"><a href="#gt-gt-Partial-Diff" class="headerlink" title="&gt;&gt; Partial Diff"></a>&gt;&gt; Partial Diff</h4><p><a href="https://marketplace.visualstudio.com/items?itemName=ryu1kn.partial-diff">Partial Diff</a> æ’ä»¶èƒ½å¤Ÿæ”¯æŒæ–‡ä»¶å†…ã€è·¨æ–‡ä»¶ã€ä¸å†™å­—æ¿é—´çš„ä»£ç å¯¹æ¯”ã€‚</p>
<p><img src="https://files.mdnice.com/user/13305/8d2d4025-8119-44f9-a91b-051112bde420.png"></p>
<h4 id="gt-gt-Paste-JSON-as-Code"><a href="#gt-gt-Paste-JSON-as-Code" class="headerlink" title="&gt;&gt; Paste JSON as Code"></a>&gt;&gt; Paste JSON as Code</h4><p><a href="https://marketplace.visualstudio.com/items?itemName=quicktype.quicktype">Paste JSON as Code</a>æ’ä»¶æ”¯æŒæ ¹æ®ç¤ºä¾‹ json æ•°æ®åˆ¤æ–­æ•°æ®ç±»å‹ï¼Œè¾“å‡ºå¼ºç±»å‹æ¨¡å¼ä»¥ä¾›æ‰€éœ€çš„ç¼–ç¨‹è¯­è¨€å¤„ç†è¯¥æ•°æ®ã€‚</p>
<p>ä½¿ç”¨æ–¹æ³•ï¼šå¤åˆ¶ json ç›®æ ‡æ•°æ®ï¼Œåœ¨å…¶ä»–æ–‡ä»¶ä¸­ç”¨ Command+Shift+P å¿«æ·é”®æ‰“å¼€å‘½ä»¤æ¿è¾“å…¥é€‰æ‹© Paste JSON as Codeï¼Œè¾“å…¥é¡¶å±‚ç±»å‹åï¼Œå³å¯è‡ªåŠ¨ç”Ÿæˆä»£ç ã€‚</p>
<p><img src="https://files.mdnice.com/user/13305/e1c40403-5e6d-4519-a73a-8973c860616d.gif"></p>
<h4 id="gt-gt-Rainbow-Fart"><a href="#gt-gt-Rainbow-Fart" class="headerlink" title="&gt;&gt; Rainbow Fart"></a>&gt;&gt; Rainbow Fart</h4><p><a href="https://marketplace.visualstudio.com/items?itemName=saekiraku.rainbow-fart">VSCode Rainbow Fart</a> æ˜¯ä¸€æ¬¾å¯ä»¥æ ¹æ®ä»£ç å…³é”®è¯æ’­æ”¾è´´è¿‘ä»£ç æ„ä¹‰çš„çœŸäººè¯­éŸ³æ‰©å±•æ’ä»¶â€”å½©è™¹å±æ’ä»¶ã€‚</p>
<p>ä½¿ç”¨æ–¹æ³•ï¼š</p>
<ol>
<li>åœ¨ VSCode ä¸­æ‰“å¼€å‘½ä»¤é¢æ¿(Command+Shift+P),è¾“å…¥&gt;Enable Rainbow Fart å¹¶å›è½¦ã€‚</li>
<li>åœ¨å³ä¸‹è§’å¼¹å‡ºçš„æ¶ˆæ¯é€šçŸ¥ä¸­ç‚¹å‡» Open æŒ‰é’®</li>
<li>åœ¨æˆæƒé¡µé¢ä¸Šç‚¹å‡»<em>æˆæƒ</em>ï¼Œé€‰æ‹©è¯­éŸ³åŒ…(é¡µé¢ä¸èƒ½å…³é—­)</li>
<li>æœ€åå°±å¯ä»¥å»æ•²ä»£ç æ„Ÿå—å½©è™¹å±å•¦ã€‚</li>
</ol>
<p>æˆæƒè®¾ç½®é¡µé¢ï¼š</p>
<p><img src="https://files.mdnice.com/user/13305/7a05fb56-d43c-46e7-965d-690ac1cdfb35.jpg"></p>
<p>æ›´å¤šè¯­éŸ³åŒ…é“¾æ¥ï¼š<a href="https://github.com/topics/rainbow-fart">https://github.com/topics/rainbow-fart</a></p>
<h4 id="gt-gt-Live-Share"><a href="#gt-gt-Live-Share" class="headerlink" title="&gt;&gt; Live Share"></a>&gt;&gt; Live Share</h4><p>2018 å¹´å¾®è½¯æ­£å¼å‘å¸ƒ <a href="https://marketplace.visualstudio.com/items?itemName=MS-vsliveshare.vsliveshare">Live Share</a> æ’ä»¶ï¼Œæ­¤æ’ä»¶ä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿåœ¨ IDE ä¸­è¿›è¡Œå®æ—¶çš„ååŒå¼€å‘å’Œè°ƒè¯•ã€‚</p>
<p>æ ¸å¿ƒåŠŸèƒ½ï¼š</p>
<ul>
<li>å®æ—¶å…±äº«ä»£ç ç¼–è¾‘</li>
<li>è·Ÿéšå›¢é˜Ÿå…¶ä»–æˆå‘˜çš„å…‰æ ‡</li>
<li>åä½œè°ƒè¯•ä»£ç </li>
<li>å…±äº«æœ¬åœ°æœåŠ¡å™¨</li>
<li>å…±äº«ç»ˆç«¯</li>
</ul>
<p>è¿˜æœ‰å¾ˆå¤šå’Œ Live Share é›†æˆçš„æ’ä»¶ï¼š</p>
<ol>
<li>é€šè¿‡ <em>Live Share Audio</em> æ’ä»¶ï¼Œå¯ä»¥è¿›è¡Œå®æ—¶çš„å›¢é˜Ÿè¯­éŸ³ã€‚</li>
<li>é€šè¿‡ <em>Live Share Chat</em> æ’ä»¶ï¼Œå¯ä»¥åœ¨ VS Code ä¸­ç›´æ¥è¿›è¡ŒèŠå¤©ï¼ŒåŒæ—¶è¿˜æ”¯æŒ Slack å’Œ Discordã€‚</li>
<li>é€šè¿‡ _Live Share Whiteboard_ï¼Œå®æ—¶å…±äº«ç™½æ¿ã€‚</li>
</ol>
<p><img src="https://files.mdnice.com/user/13305/86f6c81b-4b09-4679-b862-31ac6ded0491.png"></p>
<h4 id="gt-gt-RDHelper"><a href="#gt-gt-RDHelper" class="headerlink" title="&gt;&gt; RDHelper"></a>&gt;&gt; RDHelper</h4><p>RDHelper æ˜¯ä¸€æ¬¾ä¸ºäº†æé«˜å¼€å‘äººå‘˜çš„æ•ˆç‡çš„åŸºäº IDE å·¥å…·çš„æ·»ç¿¼Â·ç ”å‘åŠ©æ‰‹ï¼ˆRDHelperï¼‰æ’ä»¶ï¼Œæ”¯æŒ JetBrains å…¨å®¶æ¡¶å’Œ VS Codeï¼Œå¸Œæœ›å¼€å‘äººå‘˜åœ¨è‡ªå·±ç†Ÿæ‚‰çš„ IDE å·¥å…·ä¸Šå°±èƒ½å®Œæˆå¤§éƒ¨åˆ†çš„æµç¨‹å·¥ä½œï¼ŒåŒ…æ‹¬ä»£ç è¯„å®¡ã€éœ€æ±‚ç®¡ç†ã€bug ç®¡ç†ã€ä»£ç æ‰«æç­‰ã€‚</p>
<p>å…·ä½“å®‰è£…é…ç½®å’Œä½¿ç”¨ï¼Œ<a href="https://km.woa.com/group/40552/articles/show/393480?kmref=search&from_page=1&no=2">ç‚¹å‡»æŸ¥çœ‹</a>ã€‚</p>
<h1 id="ä¸‰ã€å…¶ä»–å·¥å…·"><a href="#ä¸‰ã€å…¶ä»–å·¥å…·" class="headerlink" title="ä¸‰ã€å…¶ä»–å·¥å…·"></a>ä¸‰ã€å…¶ä»–å·¥å…·</h1><ol>
<li><a href="https://www.alfredapp.com/">Alfred4</a> Alfred4 å¯ä»¥ä»£æ›¿ spotlight é€šè¿‡çƒ­é”®ã€å…³é”®å­—ã€æ–‡æœ¬æ‰©å±•ç­‰æé«˜å·¥ä½œæ•ˆç‡ï¼Œå¹¶æ”¯æŒè‡ªå®šä¹‰æ“ä½œæ¥æ§åˆ¶ Macï¼Œä»è€Œæé«˜å·¥ä½œæ•ˆç‡ã€‚æä¾›å¼ºå¤§çš„ workflow åŠŸèƒ½(<em>ä¸å…è´¹</em>)ã€‚</li>
<li><a href="https://www.mdnice.com/">å¢¨æ»´</a>ï¼šè‡ªå®šä¹‰æ ·å¼çš„åœ¨çº¿ Markdown ç¼–è¾‘å™¨ã€‚</li>
<li><a href="https://www.keka.io/zh-cn/">Keka</a> å‹ç¼©æˆ–è§£å‹ç¼©åº”ç”¨ï¼Œå¼€æºå…è´¹ï¼Œå‹ç¼©æ¯”é«˜ï¼Œä¸ä»…æ”¯æŒä¼—å¤šå‹ç¼©æ ¼å¼(rar)ï¼Œè€Œä¸”è§£å‹ä¸ä¹±ç ï¼</li>
<li><a href="https://www.xmind.cn/">XMind</a> æ€ç»´å¯¼å›¾åº”ç”¨, é€‚åˆä¸šåŠ¡åŠæ€è·¯æ¢³ç†ã€‚</li>
<li><a href="https://www.cockos.com/licecap/">Licecap</a> æç®€çš„ gif å½•åˆ¶åº”ç”¨ï¼Œä½¿ç”¨å…è´¹ï¼Œæ”¯æŒ FPS å¸§ç‡è°ƒæ•´ä¸”æ— å½•åˆ¶æ—¶é—´é™åˆ¶ï¼ŒçœŸçš„å¾ˆå¥½ç”¨ï¼ï¼ï¼</li>
<li><a href="https://www.soogif.com/">SooGif</a> é›†è§†é¢‘æˆªå– GIFï¼ŒåŠ¨æ€å›¾å‹ç¼©ï¼Œè£å‰ªï¼ŒåŠ æ°´å°ï¼ŒåŠ ç‰¹æ•ˆç­‰ç­‰äºä¸€èº«çš„åŠ¨å›¾åˆ¶ä½œå·¥å…·ã€‚</li>
<li><a href="https://www.json.cn/">https://www.json.cn/</a>ï¼šjson åœ¨çº¿è§£æç½‘ç«™ã€‚</li>
<li><a href="https://www.typora.io/">Typora</a> å…è´¹ Markdown å†™ä½œè½¯ä»¶ï¼Œç‰¹ç‚¹ï¼šå°†æºç ç¼–è¾‘å’Œé¢„è§ˆåŠŸèƒ½æ•´åˆåœ¨ä¸€èµ·</li>
<li><a href="https://code.fun/">CodeFun</a> UI è®¾è®¡ç¨¿æ™ºèƒ½ç”Ÿæˆæºä»£ç å·¥å…·ï¼Œç°åªæ”¯æŒ Sketch å’Œ Photoshop ä¸Šä¼ è®¾è®¡ç¨¿ã€‚</li>
<li><a href="https://typescript-play.js.org/">Typescript Playground</a>åœ¨çº¿ç¼–è¯‘ ts æ–‡ä»¶</li>
</ol>
<blockquote>
<p>å†™åœ¨æœ€åï¼šè™½ç„¶å·¥å…·åªèƒ½èµ·è¾…åŠ©ä½œç”¨ï¼Œä½†æ˜¯æ‰“é€ ä¸€å¥—è‡ªå·±ç†Ÿæ‚‰ä¸”å®ç”¨çš„å¼€å‘å·¥å…·èƒ½å¤Ÿè®©æˆ‘ä»¬çš„å·¥ä½œäº‹åŠåŠŸå€ã€‚å¸Œæœ›è¯»è¿‡è¿™æ–‡ç« çš„ä½ ä»¬éƒ½èƒ½æœ‰æ‰€æ”¶è·ã€‚PS. å¦‚æœæœ‰å…¶ä»–å·¥å…·æ¨èçš„è¯ï¼Œæ¬¢è¿ç•™è¨€è¯„è®ºäº¤æµï½</p>
</blockquote>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>VScode</tag>
        <tag>æ’ä»¶</tag>
      </tags>
  </entry>
</search>
